(self.webpackChunkserres_sangatte=self.webpackChunkserres_sangatte||[]).push([[2981],{2981:function(t,e,n){"use strict";n.r(e),n.d(e,{ion_route:function(){return d},ion_route_redirect:function(){return g},ion_router:function(){return H},ion_router_link:function(){return M}});var r=n(5587),a=n(6304),i=n(5121),o=n(2454),u=n(1112),s=n(1998),c=n(8774),h=n.n(c),l=n(2322),f=n(1843),p=n(7505),v=n(4843),d=function(){function t(e){(0,u.Z)(this,t),(0,l.r)(this,e),this.ionRouteDataChanged=(0,l.e)(this,"ionRouteDataChanged",7),this.url=""}return(0,s.Z)(t,[{key:"onUpdate",value:function(t){this.ionRouteDataChanged.emit(t)}},{key:"onComponentProps",value:function(t,e){if(t!==e){var n=t?Object.keys(t):[],r=e?Object.keys(e):[];if(n.length===r.length){var a,i=(0,o.Z)(n);try{for(i.s();!(a=i.n()).done;){var u=a.value;if(t[u]!==e[u])return void this.onUpdate(t)}}catch(s){i.e(s)}finally{i.f()}}else this.onUpdate(t)}}},{key:"connectedCallback",value:function(){this.ionRouteDataChanged.emit()}}],[{key:"watchers",get:function(){return{url:["onUpdate"],component:["onUpdate"],componentProps:["onComponentProps"]}}}]),t}(),g=function(){function t(e){(0,u.Z)(this,t),(0,l.r)(this,e),this.ionRouteRedirectChanged=(0,l.e)(this,"ionRouteRedirectChanged",7)}return(0,s.Z)(t,[{key:"propDidChange",value:function(){this.ionRouteRedirectChanged.emit()}},{key:"connectedCallback",value:function(){this.ionRouteRedirectChanged.emit()}}],[{key:"watchers",get:function(){return{from:["propDidChange"],to:["propDidChange"]}}}]),t}(),b="root",m="forward",y=function(t){return"/"+t.filter(function(t){return t.length>0}).join("/")},k=function(t){var e,n=[],r=(0,o.Z)(t);try{for(r.s();!(e=r.n()).done;){var a,i=e.value,u=(0,o.Z)(i.path);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(":"===s[0]){var c=i.params&&i.params[s.slice(1)];if(!c)return null;n.push(c)}else""!==s&&n.push(s)}}catch(h){u.e(h)}finally{u.f()}}}catch(h){r.e(h)}finally{r.f()}return n},w=function(t){var e,n=[""];if(null!=t){var r=t.indexOf("?");r>-1&&(e=t.substr(r+1),t=t.substr(0,r)),0===(n=t.split("/").map(function(t){return t.trim()}).filter(function(t){return t.length>0})).length&&(n=[""])}return{segments:n,queryString:e}},x=function(t){console.group("[ion-core] ROUTES[".concat(t.length,"]"));var e,n=(0,o.Z)(t);try{var r=function(){var t=e.value,n=[];t.forEach(function(t){return n.push.apply(n,(0,i.Z)(t.path))});var r=t.map(function(t){return t.id});console.debug("%c ".concat(y(n)),"font-weight: bold; padding-left: 20px","=>\t","(".concat(r.join(", "),")"))};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}console.groupEnd()},R=function(t){console.group("[ion-core] REDIRECTS[".concat(t.length,"]"));var e,n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.to&&console.debug("FROM: ","$c ".concat(y(r.from)),"font-weight: bold"," TO: ","$c ".concat(y(r.to.segments)),"font-weight: bold")}}catch(a){n.e(a)}finally{n.f()}console.groupEnd()},C=function(){var t=(0,a.Z)(h().mark(function t(e,n,r,a){var i,o,u,s,c,l=arguments;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=l.length>4&&void 0!==l[4]&&l[4],o=l.length>5?l[5]:void 0,t.prev=2,u=S(e),!(a>=n.length)&&u){t.next=6;break}return t.abrupt("return",i);case 6:return t.next=8,new Promise(function(t){return(0,f.c)(u,t)});case 8:return s=n[a],t.next=11,u.setRouteId(s.id,s.params,r,o);case 11:return(c=t.sent).changed&&(r=b,i=!0),t.next=15,C(c.element,n,r,a+1,i,o);case 15:if(i=t.sent,!c.markVisible){t.next=19;break}return t.next=19,c.markVisible();case 19:return t.abrupt("return",i);case 22:return t.prev=22,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",!1);case 26:case"end":return t.stop()}},t,null,[[2,22]])}));return function(e,n,r,a){return t.apply(this,arguments)}}(),Z=function(){var t=(0,a.Z)(h().mark(function t(e){var n,r,a,i;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=e;case 2:if(!(r=S(a))){t.next=17;break}return t.next=7,r.getRouteId();case 7:if(!(i=t.sent)){t.next=14;break}a=i.element,i.element=void 0,n.push(i),t.next=15;break;case 14:return t.abrupt("break",20);case 15:t.next=18;break;case 17:return t.abrupt("break",20);case 18:t.next=2;break;case 20:return t.abrupt("return",{ids:n,outlet:r});case 21:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),P=":not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet",S=function(t){if(t){if(t.matches(P))return t;var e=t.querySelector(P);return null!=e?e:void 0}},E=function(t,e){return e.find(function(e){return function(t,e){var n=e.from;if(void 0===e.to)return!1;if(n.length>t.length)return!1;for(var r=0;r<n.length;r++){var a=n[r];if("*"===a)return!0;if(a!==t[r])return!1}return n.length===t.length}(t,e)})},D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n&&t[r].toLowerCase()===e[r].id;r++);return r},L=function(t,e){for(var n,r=new W(t),a=!1,i=0;i<e.length;i++){var u=e[i].path;if(""===u[0])a=!0;else{var s,c=(0,o.Z)(u);try{for(c.s();!(s=c.n()).done;){var h=s.value,l=r.next();if(":"===h[0]){if(""===l)return null;((n=n||[])[i]||(n[i]={}))[h.slice(1)]=l}else if(l!==h)return null}}catch(f){c.e(f)}finally{c.f()}a=!1}}return a&&a!==(""===r.next())?null:n?e.map(function(t,e){return{id:t.id,path:t.path,params:N(t.params,n[e]),beforeEnter:t.beforeEnter,beforeLeave:t.beforeLeave}}):e},N=function(t,e){return t||e?Object.assign(Object.assign({},t),e):void 0},O=function(t,e){var n,r=null,a=0,i=t.map(function(t){return t.id}),u=(0,o.Z)(e);try{for(u.s();!(n=u.n()).done;){var s=n.value,c=D(i,s);c>a&&(r=s,a=c)}}catch(h){u.e(h)}finally{u.f()}return r?r.map(function(e,n){return{id:e.id,path:e.path,params:N(e.params,t[n]&&t[n].params)}}):null},j=function(t,e){var n,r=null,a=0,i=(0,o.Z)(e);try{for(i.s();!(n=i.n()).done;){var u=L(t,n.value);if(null!==u){var s=U(u);s>a&&(a=s,r=u)}}}catch(c){i.e(c)}finally{i.f()}return r},U=function(t){var e,n=1,r=1,a=(0,o.Z)(t);try{for(a.s();!(e=a.n()).done;){var i,u=(0,o.Z)(e.value.path);try{for(u.s();!(i=u.n()).done;){var s=i.value;":"===s[0]?n+=Math.pow(1,r):""!==s&&(n+=Math.pow(2,r)),r++}}catch(c){u.e(c)}finally{u.f()}}}catch(c){a.e(c)}finally{a.f()}return n},W=function(){function t(e){(0,u.Z)(this,t),this.path=e.slice()}return(0,s.Z)(t,[{key:"next",value:function(){return this.path.length>0?this.path.shift():""}}]),t}(),_=function(t,e){return e in t?t[e]:t.hasAttribute(e)?t.getAttribute(e):null},T=function(t){return Array.from(t.children).filter(function(t){return"ION-ROUTE-REDIRECT"===t.tagName}).map(function(t){var e=_(t,"to");return{from:w(_(t,"from")).segments,to:null==e?void 0:w(e)}})},q=function(t){return A(I(t))},I=function t(e){return Array.from(e.children).filter(function(t){return"ION-ROUTE"===t.tagName&&t.component}).map(function(e){var n=_(e,"component");return{path:w(_(e,"url")).segments,id:n.toLowerCase(),params:e.componentProps,beforeLeave:e.beforeLeave,beforeEnter:e.beforeEnter,children:t(e)}})},A=function(t){var e,n=[],r=(0,o.Z)(t);try{for(r.s();!(e=r.n()).done;)G([],n,e.value)}catch(a){r.e(a)}finally{r.f()}return n},G=function t(e,n,r){if((e=e.slice()).push({id:r.id,path:r.path,params:r.params,beforeLeave:r.beforeLeave,beforeEnter:r.beforeEnter}),0!==r.children.length){var a,i=(0,o.Z)(r.children);try{for(i.s();!(a=i.n()).done;)t(e,n,a.value)}catch(u){i.e(u)}finally{i.f()}}else n.push(e)},H=function(){function t(e){(0,u.Z)(this,t),(0,l.r)(this,e),this.ionRouteWillChange=(0,l.e)(this,"ionRouteWillChange",7),this.ionRouteDidChange=(0,l.e)(this,"ionRouteDidChange",7),this.previousPath=null,this.busy=!1,this.state=0,this.lastState=0,this.root="/",this.useHash=!0}var e,n,r,o,c,p,v,d,g,P,D;return(0,s.Z)(t,[{key:"componentWillLoad",value:(D=(0,a.Z)(h().mark(function t(){var e,n;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(document.body)?Promise.resolve():new Promise(function(t){window.addEventListener("ionNavWillLoad",t,{once:!0})});case 2:return t.next=4,this.runGuards(this.getPath());case 4:if(!0===(e=t.sent)){t.next=14;break}if("object"!=typeof e){t.next=12;break}return n=w(e.redirect),this.setPath(n.segments,b,n.queryString),t.next=12,this.writeNavStateRoot(n.segments,b);case 12:t.next=16;break;case 14:return t.next=16,this.onRoutesChanged();case 16:case"end":return t.stop()}},t,this)})),function(){return D.apply(this,arguments)})},{key:"componentDidLoad",value:function(){window.addEventListener("ionRouteRedirectChanged",(0,f.n)(this.onRedirectChanged.bind(this),10)),window.addEventListener("ionRouteDataChanged",(0,f.n)(this.onRoutesChanged.bind(this),100))}},{key:"onPopState",value:(P=(0,a.Z)(h().mark(function t(){var e,n,r;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.historyDirection(),n=this.getPath(),t.next=4,this.runGuards(n);case 4:if(!0===(r=t.sent)){t.next=11;break}if("object"!=typeof r){t.next=10;break}n=w(r.redirect).segments,t.next=11;break;case 10:return t.abrupt("return",!1);case 11:return t.abrupt("return",this.writeNavStateRoot(n,e));case 12:case"end":return t.stop()}},t,this)})),function(){return P.apply(this,arguments)})},{key:"onBackButton",value:function(t){var e=this;t.detail.register(0,function(t){e.back(),t()})}},{key:"canTransition",value:(g=(0,a.Z)(h().mark(function t(){var e;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.runGuards();case 2:if(!0===(e=t.sent)){t.next=9;break}if("object"!=typeof e){t.next=8;break}return t.abrupt("return",e.redirect);case 8:return t.abrupt("return",!1);case 9:return t.abrupt("return",!0);case 10:case"end":return t.stop()}},t,this)})),function(){return g.apply(this,arguments)})},{key:"push",value:(d=(0,a.Z)(h().mark(function t(e){var n,r,a,i,o=arguments;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"forward",r=o.length>2?o[2]:void 0,e.startsWith(".")&&(e=new URL(e,window.location.href).pathname),a=w(e),t.next=6,this.runGuards(a.segments);case 6:if(!0===(i=t.sent)){t.next=13;break}if("object"!=typeof i){t.next=12;break}a=w(i.redirect),t.next=13;break;case 12:return t.abrupt("return",!1);case 13:return this.setPath(a.segments,n,a.queryString),t.abrupt("return",this.writeNavStateRoot(a.segments,n,r));case 15:case"end":return t.stop()}},t,this)})),function(t){return d.apply(this,arguments)})},{key:"back",value:function(){return window.history.back(),Promise.resolve(this.waitPromise)}},{key:"printDebug",value:(v=(0,a.Z)(h().mark(function t(){return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:x(q(this.el)),R(T(this.el));case 2:case"end":return t.stop()}},t,this)})),function(){return v.apply(this,arguments)})},{key:"navChanged",value:(p=(0,a.Z)(h().mark(function t(e){var n,r,a,i,o,u;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.busy){t.next=3;break}return console.warn("[ion-router] router is busy, navChanged was cancelled"),t.abrupt("return",!1);case 3:return t.next=5,Z(window.document.body);case 5:if(r=(n=t.sent).ids,a=n.outlet,i=q(this.el),o=O(r,i)){t.next=13;break}return console.warn("[ion-router] no matching URL for ",r.map(function(t){return t.id})),t.abrupt("return",!1);case 13:if(u=k(o)){t.next=17;break}return console.warn("[ion-router] router could not match path because some required param is missing"),t.abrupt("return",!1);case 17:return this.setPath(u,e),t.next=20,this.safeWriteNavState(a,o,b,u,null,r.length);case 20:return t.abrupt("return",!0);case 21:case"end":return t.stop()}},t,this)})),function(t){return p.apply(this,arguments)})},{key:"onRedirectChanged",value:function(){var t=this.getPath();t&&E(t,T(this.el))&&this.writeNavStateRoot(t,b)}},{key:"onRoutesChanged",value:function(){return this.writeNavStateRoot(this.getPath(),b)}},{key:"historyDirection",value:function(){var t,e=window;null===e.history.state&&(this.state++,e.history.replaceState(this.state,e.document.title,null===(t=e.document.location)||void 0===t?void 0:t.href));var n=e.history.state,r=this.lastState;return this.lastState=n,n>r||n>=r&&r>0?m:n<r?"back":b}},{key:"writeNavStateRoot",value:(c=(0,a.Z)(h().mark(function t(e,n,r){var a,i,o,u,s,c,l;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return console.error("[ion-router] URL is not part of the routing set"),t.abrupt("return",!1);case 3:if(a=T(this.el),i=E(e,a),o=null,i&&(this.setPath(s=(u=i.to).segments,n,u.queryString),o=i.from,e=s),c=q(this.el),l=j(e,c)){t.next=12;break}return console.error("[ion-router] the path does not match any route"),t.abrupt("return",!1);case 12:return t.abrupt("return",this.safeWriteNavState(document.body,l,n,e,o,0,r));case 13:case"end":return t.stop()}},t,this)})),function(t,e,n){return c.apply(this,arguments)})},{key:"safeWriteNavState",value:(o=(0,a.Z)(h().mark(function t(e,n,r,a,i){var o,u,s,c,l=arguments;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>5&&void 0!==l[5]?l[5]:0,u=l.length>6?l[6]:void 0,t.next=4,this.lock();case 4:return s=t.sent,c=!1,t.prev=6,t.next=9,this.writeNavState(e,n,r,a,i,o,u);case 9:c=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),console.error(t.t0);case 15:return s(),t.abrupt("return",c);case 17:case"end":return t.stop()}},t,this,[[6,12]])})),function(t,e,n,r,a){return o.apply(this,arguments)})},{key:"lock",value:(r=(0,a.Z)(h().mark(function t(){var e,n;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.waitPromise,this.waitPromise=new Promise(function(t){return n=t}),void 0===e){t.next=5;break}return t.next=5,e;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},{key:"runGuards",value:(n=(0,a.Z)(h().mark(function t(){var e,n,r,a,i,o,u,s,c=arguments;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:this.getPath(),void 0===(n=c.length>1?c[1]:void 0)&&(n=w(this.previousPath).segments),e&&n){t.next=5;break}return t.abrupt("return",!0);case 5:if(r=q(this.el),a=j(n,r),!(i=a&&a[a.length-1].beforeLeave)){t.next=14;break}return t.next=11,i();case 11:t.t0=t.sent,t.next=15;break;case 14:t.t0=!0;case 15:if(!1!==(o=t.t0)&&"object"!=typeof o){t.next=18;break}return t.abrupt("return",o);case 18:return u=j(e,r),t.abrupt("return",!(s=u&&u[u.length-1].beforeEnter)||s());case 21:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})},{key:"writeNavState",value:(e=(0,a.Z)(h().mark(function t(e,n,r,a,i){var o,u,s,c,l=arguments;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=l.length>5&&void 0!==l[5]?l[5]:0,u=l.length>6?l[6]:void 0,!this.busy){t.next=5;break}return console.warn("[ion-router] router is busy, transition was cancelled"),t.abrupt("return",!1);case 5:return this.busy=!0,(s=this.routeChangeEvent(a,i))&&this.ionRouteWillChange.emit(s),t.next=10,C(e,n,r,o,!1,u);case 10:return c=t.sent,this.busy=!1,s&&this.ionRouteDidChange.emit(s),t.abrupt("return",c);case 14:case"end":return t.stop()}},t,this)})),function(t,n,r,a,i){return e.apply(this,arguments)})},{key:"setPath",value:function(t,e,n){this.state++,function(t,e,n,r,a,o,u){var s=function(t,e,n){var r=y(t);return e&&(r="#"+r),void 0!==n&&(r+="?"+n),r}([].concat((0,i.Z)(w(e).segments),(0,i.Z)(r)),n,u);a===m?t.pushState(o,"",s):t.replaceState(o,"",s)}(window.history,this.root,this.useHash,t,e,this.state,n)}},{key:"getPath",value:function(){return t=window.location,e=this.useHash,n=w(this.root).segments,r=e?t.hash.slice(1):t.pathname,function(t,e){if(t.length>e.length)return null;if(t.length<=1&&""===t[0])return e;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return null;return e.length===t.length?[""]:e.slice(t.length)}(n,w(r).segments);var t,e,n,r}},{key:"routeChangeEvent",value:function(t,e){var n=this.previousPath,r=y(t);return this.previousPath=r,r===n?null:{from:n,redirectedFrom:e?y(e):null,to:r}}},{key:"el",get:function(){return(0,l.i)(this)}}]),t}(),M=function(){function t(e){var n=this;(0,u.Z)(this,t),(0,l.r)(this,e),this.routerDirection="forward",this.onClick=function(t){(0,v.o)(n.href,t,n.routerDirection,n.routerAnimation)}}return(0,s.Z)(t,[{key:"render",value:function(){var t,e=(0,p.b)(this),n={href:this.href,rel:this.rel,target:this.target};return(0,l.h)(l.H,{onClick:this.onClick,class:(0,v.c)(this.color,(t={},(0,r.Z)(t,e,!0),(0,r.Z)(t,"ion-activatable",!0),t))},(0,l.h)("a",Object.assign({},n),(0,l.h)("slot",null)))}}]),t}();M.style=":host{--background:transparent;--color:var(--ion-color-primary, #3880ff);background:var(--background);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}a{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit}"}}]);
(self.webpackChunkserres_sangatte=self.webpackChunkserres_sangatte||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},1116:function(t,e,n){"use strict";n.d(e,{mr:function(){return T},Ov:function(){return At},ez:function(){return Rt},K0:function(){return p},uU:function(){return Ot},Do:function(){return x},V_:function(){return g},Ye:function(){return A},S$:function(){return E},sg:function(){return bt},O5:function(){return kt},b0:function(){return I},lw:function(){return v},EM:function(){return Nt},JF:function(){return Zt},p6:function(){return Q},PM:function(){return Dt},qS:function(){return gt},w_:function(){return d},bD:function(){return Pt},q:function(){return h},Mx:function(){return mt},HT:function(){return f}});var r=n(2454),i=n(4568),o=n(8784),a=n(4999),s=n(1998),u=n(1112),c=n(5366),l=null;function h(){return l}function f(t){l||(l=t)}var d=function t(){(0,u.Z)(this,t)},p=new c.OlP("DocumentToken"),v=function(){var t=function(){function t(){(0,u.Z)(this,t)}return(0,s.Z)(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,c.Yz7)({factory:y,token:t,providedIn:"platform"}),t}();function y(){return(0,c.LFG)(m)}var g=new c.OlP("Location Initialized"),m=function(){var t=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var r;return(0,u.Z)(this,n),(r=e.call(this))._doc=t,r._init(),r}return(0,s.Z)(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return h().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){var e=h().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),function(){return e.removeEventListener("popstate",t)}}},{key:"onHashChange",value:function(t){var e=h().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),function(){return e.removeEventListener("hashchange",t)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){_()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){_()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(t)}},{key:"getState",value:function(){return this._history.state}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(c.LFG(p))},t.\u0275prov=(0,c.Yz7)({factory:b,token:t,providedIn:"platform"}),t}();function _(){return!!window.history.pushState}function b(){return new m((0,c.LFG)(p))}function w(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function k(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function C(t){return t&&"?"!==t[0]?"?"+t:t}var E=function(){var t=function(){function t(){(0,u.Z)(this,t)}return(0,s.Z)(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,c.Yz7)({factory:S,token:t,providedIn:"root"}),t}();function S(t){var e=(0,c.LFG)(p).location;return new I((0,c.LFG)(v),e&&e.origin||"")}var T=new c.OlP("appBaseHref"),I=function(){var t=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,r){var i;if((0,u.Z)(this,n),(i=e.call(this))._platformLocation=t,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,i}return(0,s.Z)(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return w(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+C(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+C(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+C(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(E);return t.\u0275fac=function(e){return new(e||t)(c.LFG(v),c.LFG(T,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t}(),x=function(){var t=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,r){var i;return(0,u.Z)(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return(0,s.Z)(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=w(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+C(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+C(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(E);return t.\u0275fac=function(e){return new(e||t)(c.LFG(v),c.LFG(T,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t}(),A=function(){var t=function(){function t(e,n){var r=this;(0,u.Z)(this,t),this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=k(R(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return(0,s.Z)(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+C(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,R(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+C(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+C(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformStrategy).historyGo)||void 0===e||e.call(t,n)}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.LFG(E),c.LFG(v))},t.normalizeQueryParams=C,t.joinWithSlash=w,t.stripTrailingSlash=k,t.\u0275prov=(0,c.Yz7)({factory:O,token:t,providedIn:"root"}),t}();function O(){return new A((0,c.LFG)(E),(0,c.LFG)(v))}function R(t){return t.replace(/\/index.html$/,"")}var P=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),D=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),N=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),L=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),F=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Z(t,e){return B((0,c.cg1)(t)[c.wAp.DateFormat],e)}function M(t,e){return B((0,c.cg1)(t)[c.wAp.TimeFormat],e)}function j(t,e){return B((0,c.cg1)(t)[c.wAp.DateTimeFormat],e)}function U(t,e){var n=(0,c.cg1)(t),r=n[c.wAp.NumberSymbols][e];if(void 0===r){if(e===F.CurrencyDecimal)return n[c.wAp.NumberSymbols][F.Decimal];if(e===F.CurrencyGroup)return n[c.wAp.NumberSymbols][F.Group]}return r}var V=c.kL8;function q(t){if(!t[c.wAp.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[c.wAp.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function B(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function $(t){var e=t.split(":"),n=(0,i.Z)(e,2);return{hours:+n[0],minutes:+n[1]}}var G=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,z={},H=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Y=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),W=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),K=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Q(t,e,n,r){var o=function(t){if(pt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){var e=t.split("-").map(function(t){return+t}),n=(0,i.Z)(e,3),r=n[1],o=n[2];return J(n[0],(void 0===r?1:r)-1,void 0===o?1:o)}var a,s=parseFloat(t);if(!isNaN(t-s))return new Date(s);if(a=t.match(G))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,c),e}(a)}var u=new Date(t);if(!pt(u))throw new Error('Unable to convert "'.concat(t,'" into a date'));return u}(t);e=X(n,e)||e;for(var a,s=[];e;){if(!(a=H.exec(e))){s.push(e);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;e=u}var c=o.getTimezoneOffset();r&&(c=dt(r,c),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(dt(e,r)-r))}(o,r));var l="";return s.forEach(function(t){var e=function(t){if(ft[t])return ft[t];var e;switch(t){case"G":case"GG":case"GGG":e=ot(K.Eras,N.Abbreviated);break;case"GGGG":e=ot(K.Eras,N.Wide);break;case"GGGGG":e=ot(K.Eras,N.Narrow);break;case"y":e=rt(W.FullYear,1,0,!1,!0);break;case"yy":e=rt(W.FullYear,2,0,!0,!0);break;case"yyy":e=rt(W.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(W.FullYear,4,0,!1,!0);break;case"Y":e=ht(1);break;case"YY":e=ht(2,!0);break;case"YYY":e=ht(3);break;case"YYYY":e=ht(4);break;case"M":case"L":e=rt(W.Month,1,1);break;case"MM":case"LL":e=rt(W.Month,2,1);break;case"MMM":e=ot(K.Months,N.Abbreviated);break;case"MMMM":e=ot(K.Months,N.Wide);break;case"MMMMM":e=ot(K.Months,N.Narrow);break;case"LLL":e=ot(K.Months,N.Abbreviated,D.Standalone);break;case"LLLL":e=ot(K.Months,N.Wide,D.Standalone);break;case"LLLLL":e=ot(K.Months,N.Narrow,D.Standalone);break;case"w":e=lt(1);break;case"ww":e=lt(2);break;case"W":e=lt(1,!0);break;case"d":e=rt(W.Date,1);break;case"dd":e=rt(W.Date,2);break;case"c":case"cc":e=rt(W.Day,1);break;case"ccc":e=ot(K.Days,N.Abbreviated,D.Standalone);break;case"cccc":e=ot(K.Days,N.Wide,D.Standalone);break;case"ccccc":e=ot(K.Days,N.Narrow,D.Standalone);break;case"cccccc":e=ot(K.Days,N.Short,D.Standalone);break;case"E":case"EE":case"EEE":e=ot(K.Days,N.Abbreviated);break;case"EEEE":e=ot(K.Days,N.Wide);break;case"EEEEE":e=ot(K.Days,N.Narrow);break;case"EEEEEE":e=ot(K.Days,N.Short);break;case"a":case"aa":case"aaa":e=ot(K.DayPeriods,N.Abbreviated);break;case"aaaa":e=ot(K.DayPeriods,N.Wide);break;case"aaaaa":e=ot(K.DayPeriods,N.Narrow);break;case"b":case"bb":case"bbb":e=ot(K.DayPeriods,N.Abbreviated,D.Standalone,!0);break;case"bbbb":e=ot(K.DayPeriods,N.Wide,D.Standalone,!0);break;case"bbbbb":e=ot(K.DayPeriods,N.Narrow,D.Standalone,!0);break;case"B":case"BB":case"BBB":e=ot(K.DayPeriods,N.Abbreviated,D.Format,!0);break;case"BBBB":e=ot(K.DayPeriods,N.Wide,D.Format,!0);break;case"BBBBB":e=ot(K.DayPeriods,N.Narrow,D.Format,!0);break;case"h":e=rt(W.Hours,1,-12);break;case"hh":e=rt(W.Hours,2,-12);break;case"H":e=rt(W.Hours,1);break;case"HH":e=rt(W.Hours,2);break;case"m":e=rt(W.Minutes,1);break;case"mm":e=rt(W.Minutes,2);break;case"s":e=rt(W.Seconds,1);break;case"ss":e=rt(W.Seconds,2);break;case"S":e=rt(W.FractionalSeconds,1);break;case"SS":e=rt(W.FractionalSeconds,2);break;case"SSS":e=rt(W.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=st(Y.Short);break;case"ZZZZZ":e=st(Y.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=st(Y.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=st(Y.Long);break;default:return null}return ft[t]=e,e}(t);l+=e?e(o,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function J(t,e,n){var r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function X(t,e){var n=function(t){return(0,c.cg1)(t)[c.wAp.LocaleId]}(t);if(z[n]=z[n]||{},z[n][e])return z[n][e];var r="";switch(e){case"shortDate":r=Z(t,L.Short);break;case"mediumDate":r=Z(t,L.Medium);break;case"longDate":r=Z(t,L.Long);break;case"fullDate":r=Z(t,L.Full);break;case"shortTime":r=M(t,L.Short);break;case"mediumTime":r=M(t,L.Medium);break;case"longTime":r=M(t,L.Long);break;case"fullTime":r=M(t,L.Full);break;case"short":var i=X(t,"shortTime"),o=X(t,"shortDate");r=tt(j(t,L.Short),[i,o]);break;case"medium":var a=X(t,"mediumTime"),s=X(t,"mediumDate");r=tt(j(t,L.Medium),[a,s]);break;case"long":var u=X(t,"longTime"),l=X(t,"longDate");r=tt(j(t,L.Long),[u,l]);break;case"full":var h=X(t,"fullTime"),f=X(t,"fullDate");r=tt(j(t,L.Full),[h,f])}return r&&(z[n][e]=r),r}function tt(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function et(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function nt(t,e){return et(t,3).substr(0,e)}function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s=it(t,o);if((n>0||s>-n)&&(s+=n),t===W.Hours)0===s&&-12===n&&(s=12);else if(t===W.FractionalSeconds)return nt(s,e);var u=U(a,F.MinusSign);return et(s,e,u,r,i)}}function it(t,e){switch(t){case W.FullYear:return e.getFullYear();case W.Month:return e.getMonth();case W.Date:return e.getDate();case W.Hours:return e.getHours();case W.Minutes:return e.getMinutes();case W.Seconds:return e.getSeconds();case W.FractionalSeconds:return e.getMilliseconds();case W.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}function ot(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return at(i,o,t,e,n,r)}}function at(t,e,n,r,o,a){switch(n){case K.Months:return function(t,e,n){var r=(0,c.cg1)(t),i=B([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],e);return B(i,n)}(e,o,r)[t.getMonth()];case K.Days:return function(t,e,n){var r=(0,c.cg1)(t),i=B([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],e);return B(i,n)}(e,o,r)[t.getDay()];case K.DayPeriods:var s=t.getHours(),u=t.getMinutes();if(a){var l=function(t){var e=(0,c.cg1)(t);return q(e),(e[c.wAp.ExtraData][2]||[]).map(function(t){return"string"==typeof t?$(t):[$(t[0]),$(t[1])]})}(e),h=function(t,e,n){var r=(0,c.cg1)(t);q(r);var i=B([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],e)||[];return B(i,n)||[]}(e,o,r),f=l.findIndex(function(t){if(Array.isArray(t)){var e=(0,i.Z)(t,2),n=e[0],r=e[1],o=s>=n.hours&&u>=n.minutes,a=s<r.hours||s===r.hours&&u<r.minutes;if(n.hours<r.hours){if(o&&a)return!0}else if(o||a)return!0}else if(t.hours===s&&t.minutes===u)return!0;return!1});if(-1!==f)return h[f]}return function(t,e,n){var r=(0,c.cg1)(t),i=B([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],e);return B(i,n)}(e,o,r)[s<12?0:1];case K.Eras:return function(t,e){return B((0,c.cg1)(t)[c.wAp.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}function st(t){return function(e,n,r){var i=-1*r,o=U(n,F.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Y.Short:return(i>=0?"+":"")+et(a,2,o)+et(Math.abs(i%60),2,o);case Y.ShortGMT:return"GMT"+(i>=0?"+":"")+et(a,1,o);case Y.Long:return"GMT"+(i>=0?"+":"")+et(a,2,o)+":"+et(Math.abs(i%60),2,o);case Y.Extended:return 0===r?"Z":(i>=0?"+":"")+et(a,2,o)+":"+et(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function ut(t){var e=J(t,0,1).getDay();return J(t,0,1+(e<=4?4:11)-e)}function ct(t){return J(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function lt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i;if(e){var o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{var s=ct(n),u=ut(s.getFullYear()),c=s.getTime()-u.getTime();i=1+Math.round(c/6048e5)}return et(i,t,U(r,F.MinusSign))}}function ht(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){return et(ct(n).getFullYear(),t,U(r,F.MinusSign),e)}}var ft={};function dt(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function pt(t){return t instanceof Date&&!isNaN(t.valueOf())}var vt=function t(){(0,u.Z)(this,t)},yt=function(){var t=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var r;return(0,u.Z)(this,n),(r=e.call(this)).locale=t,r}return(0,s.Z)(n,[{key:"getPluralCategory",value:function(t,e){switch(V(e||this.locale)(t)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),n}(vt);return t.\u0275fac=function(e){return new(e||t)(c.LFG(c.soG))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t}();function gt(t,e,n){return(0,c.dwT)(t,e,n)}function mt(t,e){e=encodeURIComponent(e);var n,o=(0,r.Z)(t.split(";"));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.indexOf("="),u=-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],c=(0,i.Z)(u,2),l=c[1];if(c[0].trim()===e)return decodeURIComponent(l)}}catch(h){o.e(h)}finally{o.f()}return null}var _t=function(){function t(e,n,r,i){(0,u.Z)(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return(0,s.Z)(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),bt=function(){var t=function(){function t(e,n,r){(0,u.Z)(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return(0,s.Z)(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new _t(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new wt(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new wt(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},t.\u0275dir=c.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),wt=function t(e,n){(0,u.Z)(this,t),this.record=e,this.view=n},kt=function(){var t=function(){function t(e,n){(0,u.Z)(this,t),this._viewContainer=e,this._context=new Ct,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return(0,s.Z)(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Et("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Et("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.s_b),c.Y36(c.Rgc))},t.\u0275dir=c.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),Ct=function t(){(0,u.Z)(this,t),this.$implicit=null,this.ngIf=null};function Et(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat((0,c.AaK)(e),"'."))}function St(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat((0,c.AaK)(t),"'"))}var Tt=function(){function t(){(0,u.Z)(this,t)}return(0,s.Z)(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),It=new(function(){function t(){(0,u.Z)(this,t)}return(0,s.Z)(t,[{key:"createSubscription",value:function(t,e){return t.then(e,function(t){throw t})}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),xt=new Tt,At=function(){var t=function(){function t(e){(0,u.Z)(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return(0,s.Z)(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})}},{key:"_selectStrategy",value:function(e){if((0,c.QGY)(e))return It;if((0,c.F4k)(e))return xt;throw St(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.sBO,16))},t.\u0275pipe=c.Yjl({name:"async",type:t,pure:!1}),t}(),Ot=function(){var t=function(){function t(e){(0,u.Z)(this,t),this.locale=e}return(0,s.Z)(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return Q(e,n,i||this.locale,r)}catch(o){throw St(t,o.message)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.soG,16))},t.\u0275pipe=c.Yjl({name:"date",type:t,pure:!0}),t}(),Rt=function(){var t=function t(){(0,u.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[{provide:vt,useClass:yt}]}),t}(),Pt="browser";function Dt(t){return"server"===t}var Nt=function(){var t=function t(){(0,u.Z)(this,t)};return t.\u0275prov=(0,c.Yz7)({token:t,providedIn:"root",factory:function(){return new Lt((0,c.LFG)(p),window)}}),t}(),Lt=function(){function t(e,n){(0,u.Z)(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return(0,s.Z)(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=function(t,e){var n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var a=o.getElementById(e)||o.querySelector('[name="'.concat(e,'"]'));if(a)return a}i=r.nextNode()}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=Ft(this.window.history)||Ft(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function Ft(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var Zt=function t(){(0,u.Z)(this,t)}},2693:function(t,e,n){"use strict";n.d(e,{eN:function(){return L},JF:function(){return Y}});var r=n(8784),i=n(4999),o=n(4568),a=n(5121),s=n(1998),u=n(1112),c=n(1116),l=n(5366),h=n(878),f=n(8318),d=n(436),p=n(3835),v=n(9996),y=function t(){(0,u.Z)(this,t)},g=function t(){(0,u.Z)(this,t)},m=function(){function t(e){var n=this;(0,u.Z)(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return(0,s.Z)(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,(0,a.Z)(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),_=function(){function t(){(0,u.Z)(this,t)}return(0,s.Z)(t,[{key:"encodeKey",value:function(t){return w(t)}},{key:"encodeValue",value:function(t){return w(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function b(t,e){var n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var r=t.indexOf("="),i=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],a=(0,o.Z)(i,2),s=a[0],u=a[1],c=n.get(s)||[];c.push(u),n.set(s,c)}),n}function w(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function k(t){return"".concat(t)}var C=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,u.Z)(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new _,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=b(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}return(0,s.Z)(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(k(e.value)),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(k(e.value));-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}(),E=function(){function t(){(0,u.Z)(this,t),this.map=new Map}return(0,s.Z)(t,[{key:"set",value:function(t,e){return this.map.set(t,e),this}},{key:"get",value:function(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}},{key:"delete",value:function(t){return this.map.delete(t),this}},{key:"keys",value:function(){return this.map.keys()}}]),t}();function S(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function T(t){return"undefined"!=typeof Blob&&t instanceof Blob}function I(t){return"undefined"!=typeof FormData&&t instanceof FormData}var x=function(){function t(e,n,r,i){var o;if((0,u.Z)(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new m),this.context||(this.context=new E),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new C,this.urlWithParams=n}return(0,s.Z)(t,[{key:"serializeBody",value:function(){return null===this.body?null:S(this.body)||T(this.body)||I(this.body)||"string"==typeof this.body?this.body:this.body instanceof C?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||I(this.body)?null:T(this.body)?this.body.type||null:S(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof C?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,c=n.headers||this.headers,l=n.params||this.params,h=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce(function(t,e){return t.set(e,n.setHeaders[e])},c)),n.setParams&&(l=Object.keys(n.setParams).reduce(function(t,e){return t.set(e,n.setParams[e])},l)),new t(r,i,a,{params:l,headers:c,context:h,reportProgress:u,responseType:o,withCredentials:s})}}]),t}(),A=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),O=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";(0,u.Z)(this,t),this.headers=e.headers||new m,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},R=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.Z)(this,n),(t=e.call(this,r)).type=A.ResponseHeader,t}return(0,s.Z)(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(O),P=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.Z)(this,n),(t=e.call(this,r)).type=A.Response,t.body=void 0!==r.body?r.body:null,t}return(0,s.Z)(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(O),D=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t){var r;return(0,u.Z)(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(O);function N(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var L=function(){var t=function(){function t(e){(0,u.Z)(this,t),this.handler=e}return(0,s.Z)(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof x)n=t;else{var o=void 0;o=i.headers instanceof m?i.headers:new m(i.headers);var a=void 0;i.params&&(a=i.params instanceof C?i.params:new C({fromObject:i.params})),n=new x(t,e,void 0!==i.body?i.body:null,{headers:o,context:i.context,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=(0,h.of)(n).pipe((0,d.b)(function(t){return r.handler.handle(t)}));if(t instanceof x||"events"===i.observe)return s;var u=s.pipe((0,p.h)(function(t){return t instanceof P}));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe((0,v.U)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe((0,v.U)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe((0,v.U)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe((0,v.U)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new C).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,N(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,N(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,N(n,e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.LFG(y))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t}(),F=function(){function t(e,n){(0,u.Z)(this,t),this.next=e,this.interceptor=n}return(0,s.Z)(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Z=new l.OlP("HTTP_INTERCEPTORS"),M=function(){var t=function(){function t(){(0,u.Z)(this,t)}return(0,s.Z)(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t}(),j=/^\)\]\}',?\n/,U=function(){var t=function(){function t(e){(0,u.Z)(this,t),this.xhrFactory=e}return(0,s.Z)(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new f.y(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new m(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new R({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(j,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new P({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new D({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u(),i=new D({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e.url||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:A.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:A.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:A.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.LFG(c.JF))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t}(),V=new l.OlP("XSRF_COOKIE_NAME"),q=new l.OlP("XSRF_HEADER_NAME"),B=function t(){(0,u.Z)(this,t)},$=function(){var t=function(){function t(e,n,r){(0,u.Z)(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return(0,s.Z)(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.LFG(c.K0),l.LFG(l.Lbi),l.LFG(V))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t}(),G=function(){var t=function(){function t(e,n){(0,u.Z)(this,t),this.tokenService=e,this.headerName=n}return(0,s.Z)(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.LFG(B),l.LFG(q))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t}(),z=function(){var t=function(){function t(e,n){(0,u.Z)(this,t),this.backend=e,this.injector=n,this.chain=null}return(0,s.Z)(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Z,[]);this.chain=e.reduceRight(function(t,e){return new F(t,e)},this.backend)}return this.chain.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.LFG(g),l.LFG(l.zs3))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t}(),H=function(){var t=function(){function t(){(0,u.Z)(this,t)}return(0,s.Z)(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:G,useClass:M}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:V,useValue:e.cookieName}:[],e.headerName?{provide:q,useValue:e.headerName}:[]]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[G,{provide:Z,useExisting:G,multi:!0},{provide:B,useClass:$},{provide:V,useValue:"XSRF-TOKEN"},{provide:q,useValue:"X-XSRF-TOKEN"}]}),t}(),Y=function(){var t=function t(){(0,u.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[L,{provide:y,useClass:z},U,{provide:g,useExisting:U}],imports:[[H.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}()},39:function(t,e,n){var r,i,o;!function(a){if("object"==typeof t.exports){var s=a(0,e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=void 0;e.default=[[["minuit","midi","mat.","ap.m.","soir","nuit"],n,["minuit","midi","du matin","de l\u2019apr\xe8s-midi","du soir","du matin"]],[["minuit","midi","mat.","ap.m.","soir","nuit"],n,["minuit","midi","matin","apr\xe8s-midi","soir","nuit"]],["00:00","12:00",["04:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","04:00"]]]})},7919:function(t,e,n){var r,i,o;!function(a){if("object"==typeof t.exports){var s=a(0,e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=void 0;e.default=["fr",[["AM","PM"],n,n],n,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],n,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],n,[["av. J.-C.","ap. J.-C."],n,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1} '\xe0' {0}",n,n],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[n,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[n,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[n,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[n,"\xa5"],KMF:[n,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[n,"$C"],NZD:["$NZ","$"],RHD:["$RH"],RON:[n,"L"],RWF:[n,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[n,"$T"],TTD:["$TT","$"],TWD:[n,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[n,"$"],XPF:["FCFP"],ZMW:[n,"Kw"]},"ltr",function(t){var e=Math.floor(Math.abs(t));return 0===e||1===e?1:5}]})},5366:function(t,e,n){"use strict";n.d(e,{deG:function(){return mn},tb:function(){return Lu},AFp:function(){return Ou},ip1:function(){return xu},CZH:function(){return Au},hGG:function(){return Oc},z2F:function(){return bc},ahi:function(){return yn},sBO:function(){return Rs},Sil:function(){return zu},_Vd:function(){return es},EJc:function(){return Mu},SBq:function(){return os},qLn:function(){return Dr},vpe:function(){return cu},gxx:function(){return wo},tBr:function(){return jn},XFs:function(){return q},OlP:function(){return gn},zs3:function(){return Zo},ZZ4:function(){return Es},aQg:function(){return Ts},soG:function(){return Zu},YKP:function(){return Us},v3s:function(){return kc},h0i:function(){return js},PXZ:function(){return dc},R0b:function(){return Wu},FiY:function(){return Un},Lbi:function(){return Nu},g9A:function(){return Du},Qsj:function(){return us},FYo:function(){return ss},JOm:function(){return Fr},Tiy:function(){return ls},q3G:function(){return Tr},tp0:function(){return Vn},EAV:function(){return Sc},Rgc:function(){return Fs},dDg:function(){return nc},DyG:function(){return _n},q4F:function(){return fs},GfV:function(){return hs},s_b:function(){return qs},ifc:function(){return Y},eFA:function(){return vc},G48:function(){return lc},Gpc:function(){return S},X6Q:function(){return cc},_c5:function(){return xc},VLi:function(){return ic},c2e:function(){return Fu},zSh:function(){return Co},wAp:function(){return Ua},vHH:function(){return x},EiD:function(){return Er},mCW:function(){return sr},qzn:function(){return Kn},JVY:function(){return Jn},pB0:function(){return nr},eBb:function(){return tr},L6k:function(){return Xn},LAX:function(){return er},cg1:function(){return Za},Tjo:function(){return Ic},kL8:function(){return Ma},yhl:function(){return Qn},dqk:function(){return X},sIi:function(){return Ho},CqO:function(){return ha},QGY:function(){return ca},F4k:function(){return la},dwT:function(){return Fa},RDi:function(){return Zt},AaK:function(){return k},z3N:function(){return Wn},qOj:function(){return jo},TTD:function(){return Rt},_Bn:function(){return Qa},xp6:function(){return Si},uIk:function(){return Jo},ekj:function(){return Ca},Suo:function(){return Cu},Xpm:function(){return lt},lG2:function(){return gt},Yz7:function(){return P},cJS:function(){return D},oAB:function(){return pt},Yjl:function(){return mt},Y36:function(){return ea},_UZ:function(){return sa},qZA:function(){return aa},TgZ:function(){return oa},EpF:function(){return ua},n5z:function(){return hn},Ikx:function(){return Pa},LFG:function(){return Nn},$8M:function(){return dn},$Z:function(){return na},NdJ:function(){return fa},CRH:function(){return Eu},oxw:function(){return va},ALo:function(){return ru},lcZ:function(){return iu},xi3:function(){return ou},Hsn:function(){return ma},F$t:function(){return ga},Q6J:function(){return ra},s9C:function(){return _a},iGM:function(){return wu},CHM:function(){return ee},LSH:function(){return Ir},kYT:function(){return vt},YNc:function(){return ta},_uU:function(){return xa},Oqu:function(){return Aa},hij:function(){return Oa},AsE:function(){return Ra},Gf:function(){return ku}});var r=n(1532),i=n(3620),o=n(1357),a=n(4568),s=(n(5587),n(160),n(2454)),u=n(5121),c=n(7159),l=n(1998),h=n(1112),f=n(8784),d=n(4999),p=n(8184),v=n(7570),y=n(5959),g=n(8318),m=n(1906),_=n(1055);function b(t){for(var e in t)if(t[e]===b)return e;throw Error("Could not find renamed property on target object.")}function w(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function C(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var E=b({__forward_ref__:b});function S(t){return t.__forward_ref__=S,t.toString=function(){return k(this())},t}function T(t){return I(t)?t():t}function I(t){return"function"==typeof t&&t.hasOwnProperty(E)&&t.__forward_ref__===S}var x=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,r){var i;return(0,h.Z)(this,n),(i=e.call(this,function(t,e){var n=t?"NG0".concat(t,": "):"";return"".concat(n).concat(e)}(t,r))).code=t,i}return n}((0,p.Z)(Error));function A(t){return"string"==typeof t?t:null==t?"":String(t)}function O(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():A(t)}function R(t,e){var n=e?" in ".concat(e):"";throw new x("201","No provider for ".concat(O(t)," found").concat(n))}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function D(t){return{providers:t.providers||[],imports:t.imports||[]}}function N(t){return L(t,M)||L(t,U)}function L(t,e){return t.hasOwnProperty(e)?t[e]:null}function F(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(V))?t[j]:null}var Z,M=b({"\u0275prov":b}),j=b({"\u0275inj":b}),U=b({ngInjectableDef:b}),V=b({ngInjectorDef:b}),q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function B(){return Z}function $(t){var e=Z;return Z=t,e}function G(t,e,n){var r=N(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==e?e:void R(k(t),"Injector")}function z(t){return{toString:t}.toString()}var H=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Y=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),W="undefined"!=typeof globalThis&&globalThis,K="undefined"!=typeof window&&window,Q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,J="undefined"!=typeof global&&global,X=W||J||K||Q,tt={},et=[],nt=b({"\u0275cmp":b}),rt=b({"\u0275dir":b}),it=b({"\u0275pipe":b}),ot=b({"\u0275mod":b}),at=b({"\u0275loc":b}),st=b({"\u0275fac":b}),ut=b({__NG_ELEMENT_ID__:b}),ct=0;function lt(t){return z(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===H.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||et,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Y.Emulated,id:"c",styles:t.styles||et,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ct++,n.inputs=yt(t.inputs,e),n.outputs=yt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ht)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ft)}:null,n})}function ht(t){return _t(t)||function(t){return t[rt]||null}(t)}function ft(t){return function(t){return t[it]||null}(t)}var dt={};function pt(t){return z(function(){var e={type:t.type,bootstrap:t.bootstrap||et,declarations:t.declarations||et,imports:t.imports||et,exports:t.exports||et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(dt[t.id]=t.type),e})}function vt(t,e){return z(function(){var n=bt(t,!0);n.declarations=e.declarations||et,n.imports=e.imports||et,n.exports=e.exports||et})}function yt(t,e){if(null==t)return tt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var gt=lt;function mt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function _t(t){return t[nt]||null}function bt(t,e){var n=t[ot]||null;if(!n&&!0===e)throw new Error("Type ".concat(k(t)," does not have '\u0275mod' property."));return n}var wt=20,kt=10;function Ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function Et(t){return Array.isArray(t)&&!0===t[1]}function St(t){return 0!=(8&t.flags)}function Tt(t){return 2==(2&t.flags)}function It(t){return 1==(1&t.flags)}function xt(t){return null!==t.template}function At(t,e){return t.hasOwnProperty(st)?t[st]:null}var Ot=function(){function t(e,n,r){(0,h.Z)(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return(0,l.Z)(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Rt(){return Pt}function Pt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nt),Dt}function Dt(){var t=Lt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===tt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Nt(t,e,n,r){var i=Lt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:tt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ot(u&&u.currentValue,e,a===tt),t[r]=e}function Lt(t){return t.__ngSimpleChanges__||null}Rt.ngInherit=!0;var Ft=void 0;function Zt(t){Ft=t}function Mt(t){return!!t.listen}var jt={createRenderer:function(t,e){return void 0!==Ft?Ft:"undefined"!=typeof document?document:void 0}};function Ut(t){for(;Array.isArray(t);)t=t[0];return t}function Vt(t,e){return Ut(e[t])}function qt(t,e){return Ut(e[t.index])}function Bt(t,e){return t.data[e]}function $t(t,e){return t[e]}function Gt(t,e){var n=e[t];return Ct(n)?n:n[0]}function zt(t){return 4==(4&t[2])}function Ht(t){return 128==(128&t[2])}function Yt(t,e){return null==e?null:t[e]}function Wt(t){t[18]=0}function Kt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Qt={lFrame:be(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Jt(){return Qt.bindingsEnabled}function Xt(){return Qt.lFrame.lView}function te(){return Qt.lFrame.tView}function ee(t){return Qt.lFrame.contextLView=t,t[8]}function ne(){for(var t=re();null!==t&&64===t.type;)t=t.parent;return t}function re(){return Qt.lFrame.currentTNode}function ie(t,e){var n=Qt.lFrame;n.currentTNode=t,n.isParent=e}function oe(){return Qt.lFrame.isParent}function ae(){Qt.lFrame.isParent=!1}function se(){return Qt.isInCheckNoChangesMode}function ue(t){Qt.isInCheckNoChangesMode=t}function ce(){var t=Qt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function le(){return Qt.lFrame.bindingIndex}function he(){return Qt.lFrame.bindingIndex++}function fe(t){var e=Qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function de(t){Qt.lFrame.currentDirectiveIndex=t}function pe(){return Qt.lFrame.currentQueryIndex}function ve(t){Qt.lFrame.currentQueryIndex=t}function ye(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ge(t,e,n){if(n&q.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&q.Host||null===(r=ye(i))||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Qt.lFrame=_e();return o.currentTNode=e,o.lView=t,!0}function me(t){var e=_e(),n=t[1];Qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _e(){var t=Qt.lFrame,e=null===t?null:t.child;return null===e?be(t):e}function be(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function we(){var t=Qt.lFrame;return Qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ke=we;function Ce(){var t=we();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ee(t){return(Qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Qt.lFrame.contextLView))[8]}function Se(){return Qt.lFrame.selectedIndex}function Te(t){Qt.lFrame.selectedIndex=t}function Ie(){var t=Qt.lFrame;return Bt(t.tView,t.selectedIndex)}function xe(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Ae(t,e,n){Pe(t,e,3,n)}function Oe(t,e,n,r){(3&t[2])===n&&Pe(t,e,n,r)}function Re(t,e){var n=t[2];(3&n)===e&&(n&=2047,t[2]=n+=1)}function Pe(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(De(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function De(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Ne=-1,Le=function t(e,n,r){(0,h.Z)(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Fe(t,e,n){for(var r=Mt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Me(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Ze(t){return 3===t||4===t||6===t}function Me(t){return 64===t.charCodeAt(0)}function je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Ue(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Ue(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ve(t){return t!==Ne}function qe(t){return 32767&t}function Be(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var $e=!0;function Ge(t){var e=$e;return $e=t,e}var ze=0;function He(t,e){var n=We(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ye(r.data,t),Ye(e,null),Ye(r.blueprint,null));var i=Ke(t,e),o=t.injectorIndex;if(Ve(i))for(var a=qe(i),s=Be(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Ye(t,e){t.push(0,0,0,0,0,0,0,0,e)}function We(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ke(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return Ne;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ne}function Qe(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ut)&&(r=n[ut]),null==r&&(r=n[ut]=ze++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Je(t,e,n){if(n&q.Optional)return t;R(e,"NodeInjector")}function Xe(t,e,n,r){if(n&q.Optional&&void 0===r&&(r=null),0==(n&(q.Self|q.Host))){var i=t[9],o=$(void 0);try{return i?i.get(e,r,n&q.Optional):G(e,r,n&q.Optional)}finally{$(o)}}return Je(r,e,n)}function tn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=sn(n);if("function"==typeof o){if(!ge(e,t,r))return r&q.Host?Je(i,n,r):Xe(e,n,r,i);try{var a=o(r);if(null!=a||r&q.Optional)return a;R(n)}finally{ke()}}else if("number"==typeof o){var s=null,u=We(t,e),c=Ne,l=r&q.Host?e[16][6]:null;for((-1===u||r&q.SkipSelf)&&((c=-1===u?Ke(t,e):e[u+8])!==Ne&&cn(r,!1)?(s=e[1],u=qe(c),e=Be(c,e)):u=-1);-1!==u;){var h=e[1];if(un(o,u,h.data)){var f=rn(u,e,n,s,r,l);if(f!==en)return f}(c=e[u+8])!==Ne&&cn(r,e[1].data[u+8]===l)&&un(o,u,e)?(s=h,u=qe(c),e=Be(c,e)):u=-1}}}return Xe(e,n,r,i)}var en={};function nn(){return new ln(ne(),Xt())}function rn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=on(s,a,n,null==r?Tt(s)&&$e:r!=a&&0!=(3&s.type),i&q.Host&&o===s);return null!==u?an(e,a,u,s):en}function on(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&xt(d)&&d.type===n)return u}return null}function an(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Le){var a=i;a.resolving&&function(t,e){throw new x("200","Circular dependency in DI detected for ".concat(t).concat(""))}(O(o[n]));var s=Ge(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?$(a.injectImpl):null;ge(t,r,q.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnInit,o=r.ngDoCheck;if(r.ngOnChanges){var a=Pt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&$(u),Ge(s),a.resolving=!1,ke()}}return i}function sn(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ut)?t[ut]:void 0;return"number"==typeof e?e>=0?255&e:nn:e}function un(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function cn(t,e){return!(t&q.Self||t&q.Host&&e)}var ln=function(){function t(e,n){(0,h.Z)(this,t),this._tNode=e,this._lView=n}return(0,l.Z)(t,[{key:"get",value:function(t,e){return tn(this._tNode,this._lView,t,void 0,e)}}]),t}();function hn(t){return z(function(){for(var e=t.prototype.constructor,n=e[st]||fn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[st]||fn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function fn(t){return I(t)?function(){var e=fn(T(t));return e&&e()}:At(t)}function dn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ze(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ne(),t)}var pn="__parameters__";function vn(t,e,n){return z(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=(0,c.Z)(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty(pn)?t[pn]:Object.defineProperty(t,pn,{value:[]})[pn];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var yn=function(){return vn("Attribute",function(t){return{attributeName:t,__NG_ELEMENT_ID__:function(){return dn(t)}}})}(),gn=function(){function t(e,n){(0,h.Z)(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return(0,l.Z)(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),mn=new gn("AnalyzeForEntryComponents"),_n=Function;function bn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),bn(r,e)):e!==t&&e.push(r)}return e}function wn(t,e){t.forEach(function(t){return Array.isArray(t)?wn(t,e):e(t)})}function kn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Cn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function En(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function Sn(t,e){var n=Tn(t,e);if(n>=0)return t[1|n]}function Tn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var In={},xn=/\n/gm,An="__source",On=b({provide:String,useValue:b}),Rn=void 0;function Pn(t){var e=Rn;return Rn=t,e}function Dn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Default;if(void 0===Rn)throw new Error("inject() must be called from an injection context");return null===Rn?G(t,void 0,e):Rn.get(t,e&q.Optional?null:void 0,e)}function Nn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Default;return(B()||Dn)(T(t),e)}function Ln(t){for(var e=[],n=0;n<t.length;n++){var r=T(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=q.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(Nn(i,o))}else e.push(Nn(r))}return e}function Fn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}function Zn(t,e,n,r){var i=t.ngTempTokenPath;throw e[An]&&i.unshift(e[An]),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):k(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(xn,"\n  "))}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}var Mn,jn=Fn(vn("Inject",function(t){return{token:t}}),-1),Un=Fn(vn("Optional"),8),Vn=Fn(vn("SkipSelf"),4);function qn(t){var e;return(null===(e=function(){if(void 0===Mn&&(Mn=null,X.trustedTypes))try{Mn=X.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Mn}())||void 0===e?void 0:e.createHTML(t))||t}var Bn=function(){function t(e){(0,h.Z)(this,t),this.changingThisBreaksApplicationSecurity=e}return(0,l.Z)(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),t}(),$n=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,h.Z)(this,n),e.apply(this,arguments)}return(0,l.Z)(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Bn),Gn=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,h.Z)(this,n),e.apply(this,arguments)}return(0,l.Z)(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Bn),zn=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,h.Z)(this,n),e.apply(this,arguments)}return(0,l.Z)(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Bn),Hn=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,h.Z)(this,n),e.apply(this,arguments)}return(0,l.Z)(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Bn),Yn=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){return(0,h.Z)(this,n),e.apply(this,arguments)}return(0,l.Z)(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Bn);function Wn(t){return t instanceof Bn?t.changingThisBreaksApplicationSecurity:t}function Kn(t,e){var n=Qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Qn(t){return t instanceof Bn&&t.getTypeName()||null}function Jn(t){return new $n(t)}function Xn(t){return new Gn(t)}function tr(t){return new zn(t)}function er(t){return new Hn(t)}function nr(t){return new Yn(t)}var rr=function(){function t(e){(0,h.Z)(this,t),this.inertDocumentHelper=e}return(0,l.Z)(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(qn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),ir=function(){function t(e){if((0,h.Z)(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return(0,l.Z)(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=qn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=qn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),or=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ar=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sr(t){return(t=String(t)).match(or)||t.match(ar)?t:"unsafe:"+t}function ur(t){var e,n={},r=(0,s.Z)(t.split(","));try{for(r.s();!(e=r.n()).done;)n[e.value]=!0}catch(i){r.e(i)}finally{r.f()}return n}function cr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var lr,hr=ur("area,br,col,hr,img,wbr"),fr=ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dr=ur("rp,rt"),pr=cr(dr,fr),vr=cr(hr,cr(fr,ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cr(dr,ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pr),yr=ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gr=ur("srcset"),mr=cr(yr,gr,ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_r=ur("script,style,template"),br=function(){function t(){(0,h.Z)(this,t),this.sanitizedSomething=!1,this.buf=[]}return(0,l.Z)(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e,n=t.nodeName.toLowerCase();if(!vr.hasOwnProperty(n))return this.sanitizedSomething=!0,!_r.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(mr.hasOwnProperty(s)){var u=o.value;yr[s]&&(u=sr(u)),gr[s]&&(e=u,u=(e=String(e)).split(",").map(function(t){return sr(t.trim())}).join(", ")),this.buf.push(" ",a,'="',Cr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();vr.hasOwnProperty(e)&&!hr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Cr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),wr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kr=/([^\#-~ |!])/g;function Cr(t){return t.replace(/&/g,"&amp;").replace(wr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(kr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Er(t,e){var n=null;try{lr=lr||function(t){var e=new ir(t);return function(){try{return!!(new window.DOMParser).parseFromString(qn(""),"text/html")}catch(t){return!1}}()?new rr(e):e}(t);var r=e?String(e):"";n=lr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=lr.getInertBodyElement(r)}while(r!==o);return qn((new br).sanitizeChildren(Sr(n)||n))}finally{if(n)for(var a=Sr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Ir(t){var e,n=(e=Xt())&&e[12];return n?n.sanitize(Tr.URL,t)||"":Kn(t,"URL")?Wn(t):sr(A(t))}function xr(t,e){t.__ngContext__=e}function Ar(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Or(t){return t.ngDebugContext}function Rr(t){return t.ngOriginalError}function Pr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Dr=function(){function t(){(0,h.Z)(this,t),this._console=console}return(0,l.Z)(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Pr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Or(t)?Or(t):this._findContext(Rr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Rr(t);e&&Rr(e);)e=Rr(e);return e}}]),t}(),Nr=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(X)}();function Lr(t){return t instanceof Function?t():t}var Fr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Zr(t,e){return(void 0)(t,e)}function Mr(t){var e=t[3];return Et(e)?e[3]:e}function jr(t){return Vr(t[13])}function Ur(t){return Vr(t[4])}function Vr(t){for(;null!==t&&!Et(t);)t=t[4];return t}function qr(t,e,n,r,i){if(null!=r){var o,a=!1;Et(r)?o=r:Ct(r)&&(a=!0,r=r[0]);var s=Ut(r);0===t&&null!==n?null==i?Qr(e,n,s):Kr(e,n,s,i||null,!0):1===t&&null!==n?Kr(e,n,s,i||null,!0):2===t?function(t,e,n){var r=Xr(t,e);r&&function(t,e,n,r){Mt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Ut(n)&&qr(e,t,r,o,i);for(var a=kt;a<n.length;a++){var s=n[a];si(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Br(t,e){return Mt(t)?t.createText(e):t.createTextNode(e)}function $r(t,e,n){return Mt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Gr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Kt(i,-1)),n.splice(r,1)}function zr(t,e){if(!(t.length<=kt)){var n,r=kt+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Gr(o,i),e>0&&(t[r-1][4]=i[4]);var a=Cn(t,kt+e);si(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Hr(t,e){if(!(256&e[2])){var n=e[11];Mt(n)&&n.destroyNode&&si(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Yr(t[1],t);for(;e;){var n=null;if(Ct(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ct(e)&&Yr(e[1],e),e=e[3];null===e&&(e=t),Ct(e)&&Yr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Yr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Le)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=i[o[a]],u=o[a+1];try{u.call(s)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Ut(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&Mt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Et(e[3])){n!==e[3]&&Gr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Wr(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Y.None||i===Y.Emulated)return null}return qt(r,n)}(t,e.parent,n)}function Kr(t,e,n,r,i){Mt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Qr(t,e,n){Mt(t)?t.appendChild(e,n):e.appendChild(n)}function Jr(t,e,n,r,i){null!==r?Kr(t,e,n,r,i):Qr(t,e,n)}function Xr(t,e){return Mt(t)?t.parentNode(e):e.parentNode}function ti(t,e,n){return ei(t,e,n)}var ei=function(t,e,n){return 40&t.type?qt(t,n):null};function ni(t,e,n,r){var i=Wr(t,r,e),o=e[11],a=ti(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)Jr(o,i,n[s],a,!1);else Jr(o,i,n,a,!1)}function ri(t,e){if(null!==e){var n=e.type;if(3&n)return qt(e,t);if(4&n)return oi(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return ri(t,r);var i=t[e.index];return Et(i)?oi(-1,i):Ut(i)}if(32&n)return Zr(e,t)()||Ut(t[e.index]);var o=ii(t,e);return null!==o?Array.isArray(o)?o[0]:ri(Mr(t[16]),o):ri(t,e.next)}return null}function ii(t,e){return null!==e?t[16][6].projection[e.projection]:null}function oi(t,e){var n=kt+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return ri(r,i)}return e[7]}function ai(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&xr(Ut(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)ai(t,e,n.child,r,i,o,!1),qr(e,t,i,s,o);else if(32&u){for(var c=Zr(n,r),l=void 0;l=c();)qr(e,t,i,l,o);qr(e,t,i,s,o)}else 16&u?ci(t,e,r,n,i,o):qr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function si(t,e,n,r,i,o){ai(n,r,t.firstChild,e,i,o,!1)}function ui(t,e,n){ci(e[11],0,e,n,Wr(t,n,e),ti(n.parent||e[6],n,e))}function ci(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)qr(e,t,i,s[u],o);else ai(t,e,s,a[3],i,o,!0)}function li(t,e,n){Mt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function hi(t,e,n){Mt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function fi(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var di="ng-template";function pi(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==fi((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vi(t){return 4===t.type&&t.value!==di}function yi(t,e,n){return e===(4!==t.type||n?t.value:di)}function gi(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Ze(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!yi(t,u,n)||""===u&&1===e.length){if(mi(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!pi(t.attrs,c,n)){if(mi(r))return!1;a=!0}continue}var l=_i(8&r?"class":u,i,vi(t),n);if(-1===l){if(mi(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==fi(f,c,0)||2&r&&c!==h){if(mi(r))return!1;a=!0}}}}else{if(!a&&!mi(r)&&!mi(u))return!1;if(a&&mi(u))continue;a=!1,r=u|1&r}}return mi(r)||a}function mi(t){return 0==(1&t)}function _i(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function bi(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(gi(t,e[r],n))return!0;return!1}function wi(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function ki(t,e){return t?":not("+e.trim()+")":e}function Ci(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||mi(a)||(e+=ki(o,i),i=""),r=a,o=o||!mi(r);n++}return""!==i&&(e+=ki(o,i)),e}var Ei={};function Si(t){Ti(te(),Xt(),Se()+t,se())}function Ti(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Ae(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Oe(e,o,0,n)}Te(n)}function Ii(t,e){return t<<17|e<<2}function xi(t){return t>>17&32767}function Ai(t){return 2|t}function Oi(t){return(131068&t)>>2}function Ri(t,e){return-131069&t|e<<2}function Pi(t){return 1|t}function Di(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r+1];if(-1!==i){var o=t.data[i];ve(n[r]),o.contentQueries(2,e[i],i)}}}function Ni(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Wt(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Li(t,e,n,r,i){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,r,i){var o=re(),a=oe(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),Qt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(a=(o=Qt.lFrame).currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return ie(s,!0),s}function Fi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Zi(t,e,n){me(e);try{var r=t.viewQuery;null!==r&&fo(1,r,n);var i=t.template;null!==i&&Ui(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Di(t,e),t.staticViewQueries&&fo(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)so(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Ce()}}function Mi(t,e,n,r){var i=e[2];if(256!=(256&i)){me(e);var o=se();try{Wt(e),Qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ui(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Ae(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Oe(e,u,0,null),Re(e,0)}if(function(t){for(var e=jr(t);null!==e;e=Ur(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r];0==(1024&i[2])&&Kt(i[3],1),i[2]|=1024}}(e),function(t){for(var e=jr(t);null!==e;e=Ur(e))for(var n=kt;n<e.length;n++){var r=e[n],i=r[1];Ht(r)&&Mi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Di(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Ae(e,c)}else{var l=t.contentHooks;null!==l&&Oe(e,l,1),Re(e,1)}!function(t,e){var n,r,i=t.hostBindingOpCodes;if(null!==i)try{for(var o=0;o<i.length;o++){var a=i[o];if(a<0)Te(~a);else{var s=a,u=i[++o],c=i[++o];n=s,r=void 0,(r=Qt.lFrame).bindingIndex=r.bindingRootIndex=u,de(n),c(2,e[s])}}}finally{Te(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)oo(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&fo(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Ae(e,d)}else{var p=t.viewHooks;null!==p&&Oe(e,p,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Kt(e[3],-1))}finally{Ce()}}}function ji(t,e,n,r){var i=e[10],o=!se(),a=zt(e);try{o&&!a&&i.begin&&i.begin(),a&&Zi(t,e,r),Mi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ui(t,e,n,r,i){var o=Se(),a=2&r;try{Te(-1),a&&e.length>wt&&Ti(t,e,wt,se()),n(r,i)}finally{Te(o)}}function Vi(t,e,n){Jt()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||He(n,e),xr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=xt(u);c&&eo(e,n,u);var l=an(e,t,s,n);xr(l,e),null!==a&&no(0,s-i,l,u,0,a),c&&(Gt(n.index,e)[8]=l)}}(t,e,n,qt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Qt.lFrame.currentDirectiveIndex;try{Te(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];de(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Ki(u,c)}}finally{Te(-1),de(a)}}(t,e,n))}function qi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Bi(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$i(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function $i(t,e,n,r,i,o,a,s,u,c){var l=wt+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ei);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Gi(t,e,n,r){var i=vo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&yo(t).push(r,i.length-1))}function zi(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Hi(t,e,n,r,i,o,a,s){var u,c,l=qt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(mo(t,n,u,r,i),Tt(e)&&function(t,e){var n=Gt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Mt(o)?o.setProperty(l,r,i):Me(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Yi(t,e,n,r){var i=!1;if(Jt()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];bi(n,a.selectors,!1)&&(i||(i=[]),Qe(He(n,e),t,a.type),xt(a)?(Qi(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,Xi(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Fi(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=je(n.mergedAttrs,d.hostAttrs),to(t,n,e,h,d),Ji(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||vi(e)?null:ro(l,i);o.push(h),a=zi(l,u,a),s=zi(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new x("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=je(n.mergedAttrs,n.attrs),i}function Wi(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function Ki(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Qi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ji(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xt(e)&&(n[""]=t)}}function Xi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function to(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=At(i.type)),a=new Le(o,xt(i),null);t.blueprint[r]=a,n[r]=a,Wi(t,e,0,r,Fi(t,n,i.hostVars,Ei),i)}function eo(t,e,n){var r=qt(e,t),i=Bi(n),o=t[10],a=uo(t,Ni(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function no(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function ro(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function io(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function oo(t,e){var n=Gt(e,t);if(Ht(n)){var r=n[1];80&n[2]?Mi(r,n,r.template,n[8]):n[5]>0&&ao(n)}}function ao(t){for(var e=jr(t);null!==e;e=Ur(e))for(var n=kt;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Mi(i,r,i.template,r[8])}else r[5]>0&&ao(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Gt(o[a],t);Ht(s)&&s[5]>0&&ao(s)}}function so(t,e){var n=Gt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Zi(r,n,n[8])}function uo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function co(t){for(;t;){t[2]|=64;var e=Mr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function lo(t,e,n){var r=e[10];r.begin&&r.begin();try{Mi(t,e,t.template,n)}catch(i){throw go(e,i),i}finally{r.end&&r.end()}}function ho(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Ar(n),i=r[1];ji(i,r,i.template,n)}}(t[8])}function fo(t,e,n){ve(0),e(t,n)}var po=function(){return Promise.resolve(null)}();function vo(t){return t[7]||(t[7]=[])}function yo(t){return t.cleanup||(t.cleanup=[])}function go(t,e){var n=t[9],r=n?n.get(Dr,null):null;r&&r.handleError(e)}function mo(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function _o(t,e,n){var r=Vt(e,t);!function(t,e,n){Mt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function bo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=C(i,s):2==o&&(r=C(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var wo=new gn("INJECTOR",-1),ko=function(){function t(){(0,h.Z)(this,t)}return(0,l.Z)(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In;if(e===In){var n=new Error("NullInjectorError: No provider for ".concat(k(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Co=new gn("Set Injector scope."),Eo={},So={},To=void 0;function Io(){return void 0===To&&(To=new ko),To}function xo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Ao(t,n,e||Io(),r)}var Ao=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,h.Z)(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&wn(n,function(t){return i.processProvider(t,e,n)}),wn([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(wo,Po(void 0,this));var s=this.records.get(Co);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:k(e))}return(0,l.Z)(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q.Default;this.assertNotDestroyed();var r=Pn(this);try{if(!(n&q.SkipSelf)){var i=this.records.get(t);if(void 0===i){var o=Lo(t)&&N(t);i=o&&this.injectableDefInScope(o)?Po(Oo(t),Eo):null,this.records.set(t,i)}if(null!=i)return this.hydrate(t,i)}var a=n&q.Self?Io():this.parent;return a.get(t,e=n&q.Optional&&e===In?null:e)}catch(u){if("NullInjectorError"===u.name){var s=u.ngTempTokenPath=u.ngTempTokenPath||[];if(s.unshift(k(t)),r)throw u;return Zn(u,t,"R3InjectorError",this.source)}throw u}finally{Pn(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(k(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=T(t)))return!1;var i=F(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=F(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{wn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;wn(i,function(t){return r.processProvider(t,n,i||et)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var h=At(a)||function(){return new a};this.records.set(a,Po(h,Eo));var f=i.providers;if(null!=f&&!s){var d=t;wn(f,function(t){return r.processProvider(t,d,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=No(t=T(t))?t:T(t&&t.provide),i=function(t,e,n){return Do(t)?Po(void 0,t.useValue):Po(Ro(t),Eo)}(t);if(No(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Po(void 0,Eo,!0)).factory=function(){return Ln(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Eo&&(e.value=So,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){if(!t.providedIn)return!1;var e=T(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}]),t}();function Oo(t){var e=N(t),n=null!==e?e.factory:At(t);if(null!==n)return n;if(t instanceof gn)throw new Error("Token ".concat(k(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=En(e,"?");throw new Error("Can't resolve all parameters for ".concat(k(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[M]||t[U]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Ro(t,e,n){var r,i=void 0;if(No(t)){var o=T(t);return At(o)||Oo(o)}if(Do(t))i=function(){return T(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,(0,u.Z)(Ln(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return Nn(T(t.useExisting))};else{var a=T(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return At(a)||Oo(a);i=function(){return(0,c.Z)(a,(0,u.Z)(Ln(t.deps)))}}return i}function Po(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Do(t){return null!==t&&"object"==typeof t&&On in t}function No(t){return"function"==typeof t}function Lo(t){return"function"==typeof t||"object"==typeof t&&t instanceof gn}var Fo=function(t,e,n){return function(t){var e=xo(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return e._resolveInjectorDefTypes(),e}({name:n},e,t,n)},Zo=function(){var t=function(){function t(){(0,h.Z)(this,t)}return(0,l.Z)(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Fo(t,e,""):Fo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=In,t.NULL=new ko,t.\u0275prov=P({token:t,providedIn:"any",factory:function(){return Nn(wo)}}),t.__NG_ELEMENT_ID__=-1,t}();function Mo(t,e){xe(Ar(t)[1],ne())}function jo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(xt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Uo(t.inputs),o.declaredInputs=Uo(t.declaredInputs),o.outputs=Uo(t.outputs);var a=i.hostBindings;a&&Bo(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Vo(t,s),u&&qo(t,u),w(t.inputs,i.inputs),w(t.declaredInputs,i.declaredInputs),w(t.outputs,i.outputs),xt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===jo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=je(i.hostAttrs,n=je(n,i.hostAttrs))}}(r)}function Uo(t){return t===tt?{}:t===et?[]:t}function Vo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function qo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Bo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var $o=null;function Go(){if(!$o){var t=X.Symbol;if(t&&t.iterator)$o=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&($o=r)}}return $o}var zo=function(){function t(e){(0,h.Z)(this,t),this.wrapped=e}return(0,l.Z)(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Ho(t){return!!Yo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Go()in t)}function Yo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Wo(t,e,n){return t[e]=n}function Ko(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Qo(t,e,n,r){var i=Ko(t,e,n);return Ko(t,e+1,r)||i}function Jo(t,e,n,r){var i=Xt();return Ko(i,he(),e)&&(te(),function(t,e,n,r,i,o){var a=qt(t,e);!function(t,e,n,r,i,o,a){if(null==o)Mt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?A(o):a(o,r||"",i);Mt(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}(e[11],a,o,t.value,n,r,i)}(Ie(),i,t,e,n,r)),Jo}function Xo(t,e,n,r){return Ko(t,he(),n)?e+A(n)+r:Ei}function ta(t,e,n,r,i,o,a,s){var u=Xt(),c=te(),l=t+wt,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Li(e,t,4,a||null,Yt(c,s));Yi(e,n,l,Yt(c,u)),xe(e,l);var h=l.tViews=$i(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];ie(h,!1);var f=u[11].createComment("");ni(c,u,f,h),xr(f,u),uo(u,u[l]=io(f,u,f,h)),It(h)&&Vi(c,u,h),null!=a&&qi(u,h,s)}function ea(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Default,n=Xt();if(null===n)return Nn(t,e);var r=ne();return tn(r,n,T(t),e)}function na(){throw new Error("invalid")}function ra(t,e,n){var r=Xt();return Ko(r,he(),e)&&Hi(te(),Ie(),r,t,e,r[11],n,!1),ra}function ia(t,e,n,r,i){var o=i?"class":"style";mo(t,n,e.inputs[o],o,r)}function oa(t,e,n,r){var i=Xt(),o=te(),a=wt+t,s=i[11],u=i[a]=$r(s,e,Qt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=Li(e,t,2,i,Yt(s,o));return Yi(e,n,u,Yt(s,a)),null!==u.attrs&&bo(u,u.attrs,!1),null!==u.mergedAttrs&&bo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];ie(c,!0);var l=c.mergedAttrs;null!==l&&Fe(s,u,l);var h=c.classes;null!==h&&hi(s,u,h);var f=c.styles;null!==f&&li(s,u,f),64!=(64&c.flags)&&ni(o,i,u,c),0===Qt.lFrame.elementDepthCount&&xr(u,i),Qt.lFrame.elementDepthCount++,It(c)&&(Vi(o,i,c),function(t,e,n){if(St(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&qi(i,c)}function aa(){var t=ne();oe()?ae():ie(t=t.parent,!1);var e=t;Qt.lFrame.elementDepthCount--;var n=te();n.firstCreatePass&&(xe(n,t),St(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ia(n,e,Xt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ia(n,e,Xt(),e.stylesWithoutHost,!1)}function sa(t,e,n,r){oa(t,e,n,r),aa()}function ua(){return Xt()}function ca(t){return!!t&&"function"==typeof t.then}function la(t){return!!t&&"function"==typeof t.subscribe}var ha=la;function fa(t,e,n,r){var i=Xt(),o=te(),a=ne();return function(t,e,n,r,i,o,a,s){var u=It(r),c=t.firstCreatePass&&yo(t),l=vo(e),h=!0;if(3&r.type||s){var f=qt(r,e),d=s?s(f):f,p=l.length,v=s?function(t){return s(Ut(t[r.index]))}:r.index;if(Mt(n)){var y=null;if(!s&&u&&(y=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=pa(r,e,0,o,!1);var g=n.listen(d,i,o);l.push(o,g),c&&c.push(i,v,p,p+1)}}else o=pa(r,e,0,o,!0),d.addEventListener(i,o,a),l.push(o),c&&c.push(i,v,p,a)}else o=pa(r,e,0,o,!1);var m,_=r.outputs;if(h&&null!==_&&(m=_[i])){var b=m.length;if(b)for(var w=0;w<b;w+=2){var k=e[m[w]][m[w+1]].subscribe(o),C=l.length;l.push(o,k),c&&c.push(i,r.index,C,-(C+1))}}}(o,i,i[11],a,t,e,!!n,r),fa}function da(t,e,n,r){try{return!1!==n(r)}catch(i){return go(t,i),!1}}function pa(t,e,n,r,i){return function n(o){if(o===Function)return r;var a=2&t.flags?Gt(t.index,e):e;0==(32&e[2])&&co(a);for(var s=da(e,0,r,o),u=n.__ngNextListenerFn__;u;)s=da(e,0,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function va(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Ee(t)}function ya(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?bi(t,o,!0):wi(r,o))return i}else n=i}return n}function ga(t){var e=Xt()[16][6];if(!e.projection)for(var n=e.projection=En(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?ya(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ma(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Xt(),i=te(),o=Li(i,wt+t,16,null,n||null);null===o.projection&&(o.projection=e),ae(),64!=(64&o.flags)&&ui(i,r,o)}function _a(t,e,n){return ba(t,"",e,"",n),_a}function ba(t,e,n,r,i){var o=Xt(),a=Xo(o,e,n,r);return a!==Ei&&Hi(te(),Ie(),o,t,a,o[11],i,!1),ba}function wa(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?xi(o):Oi(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];ka(t[s],e)&&(u=!0,t[s+1]=r?Pi(c):Ai(c)),s=r?xi(c):Oi(c)}u&&(t[n+1]=r?Ai(o):Pi(o))}function ka(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Tn(t,e)>=0}function Ca(t,e){return function(t,e,n,r){var i=Xt(),o=te(),a=fe(2);o.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Se()],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Sa(n=Ea(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Ea(i,t,e,n,r),null===o){var s=function(t,e,n){var r=e.classBindings;if(0!==Oi(r))return t[xi(r)]}(t,e);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[xi(e.classBindings)]=r}(t,e,0,s=Sa(s=Ea(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Sa(r,t[o].hostAttrs,true);return Sa(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=e.classBindings,s=xi(a),u=Oi(a);t[r]=n;var c,l=!1;if(Array.isArray(n)?(null===(c=n[1])||Tn(n,c)>0)&&(l=!0):c=n,i)if(0!==u){var h=xi(t[s+1]);t[r+1]=Ii(h,s),0!==h&&(t[h+1]=Ri(t[h+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Ii(s,0),0!==s&&(t[s+1]=Ri(t[s+1],r)),s=r;else t[r+1]=Ii(u,0),0===s?s=r:t[u+1]=Ri(t[u+1],r),u=r;l&&(t[r+1]=Ai(t[r+1])),wa(t,c,r,!0),wa(t,c,r,!1),function(t,e,n,r,i){var o=t.residualClasses;null!=o&&"string"==typeof e&&Tn(o,e)>=0&&(n[r+1]=Pi(n[r+1]))}(e,c,t,r),a=Ii(s,u),e.classBindings=a}(i,o,e,n,a)}}(o,t,a,true),e!==Ei&&Ko(i,a,e)&&function(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];Ia(1==(1&c)?Ta(u,e,n,i,Oi(c),a):void 0)||(Ia(o)||2==(2&c)&&(o=Ta(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Mt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Vt(Se(),n),i,o))}}(o,o.data[Se()],i,i[11],t,i[a+1]=function(t,e){return null==t||"object"==typeof t&&(t=k(Wn(t))),t}(e),true,a)}(t,e),Ca}function Ea(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Sa(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Sa(t,e,n){var r,i,o,a,s=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),o=!!n||e[++c],a=void 0,(a=Tn(r=t,i=l))>=0?r[1|a]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,a=~a,i,o))}return void 0===t?null:t}function Ta(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Ei&&(f=h?et:void 0);var d=h?Sn(f,r):l===r?f:void 0;if(c&&!Ia(d)&&(d=Sn(u,r)),Ia(d)&&(s=d,a))return s;var p=t[i+1];i=a?xi(p):Oi(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=Sn(v,r))}return s}function Ia(t){return void 0!==t}function xa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Xt(),r=te(),i=t+wt,o=r.firstCreatePass?Li(r,i,1,e,null):r.data[i],a=n[i]=Br(n[11],e);ni(r,n,a,o),ie(o,!1)}function Aa(t){return Oa("",t,""),Aa}function Oa(t,e,n){var r=Xt(),i=Xo(r,t,e,n);return i!==Ei&&_o(r,Se(),i),Oa}function Ra(t,e,n,r,i){var o=Xt(),a=function(t,e,n,r,i,o){var a=Qo(t,le(),n,i);return fe(2),a?e+A(n)+r+A(i)+o:Ei}(o,t,e,n,r,i);return a!==Ei&&_o(o,Se(),a),Ra}function Pa(t,e,n){var r=Xt();return Ko(r,he(),e)&&Hi(te(),Ie(),r,t,e,r[11],n,!0),Pa}var Da=void 0,Na=["en",[["a","p"],["AM","PM"],Da],[["AM","PM"],Da,Da],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Da,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Da,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Da,"{1} 'at' {0}",Da],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],La={};function Fa(t,e,n){"string"!=typeof e&&(n=e,e=t[Ua.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),La[e]=t,n&&(La[e][Ua.ExtraData]=n)}function Za(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ja(e);if(n)return n;var r=e.split("-")[0];if(n=ja(r))return n;if("en"===r)return Na;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Ma(t){return Za(t)[Ua.PluralCase]}function ja(t){return t in La||(La[t]=X.ng&&X.ng.common&&X.ng.common.locales&&X.ng.common.locales[t]),La[t]}var Ua=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),Va="en-US";function qa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+" [Expected=> ".concat(null," ").concat("!="," ").concat(e," <=Actual]"))}(n,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function Ba(t,e,n){var r=te();if(r.firstCreatePass){var i=xt(t);$a(n,r.data,r.blueprint,i,!0),$a(e,r.data,r.blueprint,i,!1)}}function $a(t,e,n,r,i){if(t=T(t),Array.isArray(t))for(var o=0;o<t.length;o++)$a(t[o],e,n,r,i);else{var a=te(),s=Xt(),u=No(t)?t:T(t.provide),c=Ro(t),l=ne(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(No(t)||!t.multi){var p=new Le(c,i,ea),v=Ha(u,e,i?h:h+d,f);-1===v?(Qe(He(l,s),a,u),Ga(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=Ha(u,e,h+d,f),g=Ha(u,e,h,h+d),m=g>=0&&n[g];if(i&&!m||!i&&!(y>=0&&n[y])){Qe(He(l,s),a,u);var _=function(t,e,n,r,i){var o=new Le(t,n,ea);return o.multi=[],o.index=e,o.componentProviders=0,za(o,i,r&&!n),o}(i?Wa:Ya,n.length,i,r,c);!i&&m&&(n[g].providerFactory=_),Ga(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(_),s.push(_)}else Ga(a,t,y>-1?y:g,za(n[i?g:y],c,!i&&r));!i&&r&&m&&n[g].componentProviders++}}}function Ga(t,e,n,r){var i=No(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function za(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ha(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ya(t,e,n,r){return Ka(this.multi,[])}function Wa(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=an(n,n[1],this.providerFactory.index,r);Ka(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Ka(o,i=[]);return i}function Ka(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Qa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return Ba(n,r?r(t):t,e)}}}var Ja=function t(){(0,h.Z)(this,t)},Xa=function t(){(0,h.Z)(this,t)},ts=function(){function t(){(0,h.Z)(this,t)}return(0,l.Z)(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(k(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),es=function(){var t=function t(){(0,h.Z)(this,t)};return t.NULL=new ts,t}();function ns(){}function rs(t,e){return new os(qt(t,e))}var is=function(){return rs(ne(),Xt())},os=function(){var t=function t(e){(0,h.Z)(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=is,t}();function as(t){return t instanceof os?t.nativeElement:t}var ss=function t(){(0,h.Z)(this,t)},us=function(){var t=function t(){(0,h.Z)(this,t)};return t.__NG_ELEMENT_ID__=function(){return cs()},t}(),cs=function(){var t=Xt(),e=Gt(ne().index,t);return function(t){return t[11]}(Ct(e)?e:t)},ls=function(){var t=function t(){(0,h.Z)(this,t)};return t.\u0275prov=P({token:t,providedIn:"root",factory:function(){return null}}),t}(),hs=function t(e){(0,h.Z)(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},fs=new hs("12.0.5"),ds=function(){function t(){(0,h.Z)(this,t)}return(0,l.Z)(t,[{key:"supports",value:function(t){return Ho(t)}},{key:"create",value:function(t){return new vs(t)}}]),t}(),ps=function(t,e){return e},vs=function(){function t(e){(0,h.Z)(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ps}return(0,l.Z)(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<_s(n,r,i)?e:n,a=_s(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Ho(t))throw new Error("Error trying to diff '".concat(k(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Go()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ys(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ms),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ms),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),ys=function t(e,n){(0,h.Z)(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},gs=function(){function t(){(0,h.Z)(this,t),this._head=null,this._tail=null}return(0,l.Z)(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),ms=function(){function t(){(0,h.Z)(this,t),this.map=new Map}return(0,l.Z)(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new gs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function _s(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var bs=function(){function t(){(0,h.Z)(this,t)}return(0,l.Z)(t,[{key:"supports",value:function(t){return t instanceof Map||Yo(t)}},{key:"create",value:function(){return new ws}}]),t}(),ws=function(){function t(){(0,h.Z)(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return(0,l.Z)(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Yo(t)))throw new Error("Error trying to diff '".concat(k(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ks(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),ks=function t(e){(0,h.Z)(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Cs(){return new Es([new ds])}var Es=function(){var t=function(){function t(e){(0,h.Z)(this,t),this.factories=e}return(0,l.Z)(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Cs())},deps:[[t,new Vn,new Un]]}}}]),t}();return t.\u0275prov=P({token:t,providedIn:"root",factory:Cs}),t}();function Ss(){return new Ts([new bs])}var Ts=function(){var t=function(){function t(e){(0,h.Z)(this,t),this.factories=e}return(0,l.Z)(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Ss())},deps:[[t,new Vn,new Un]]}}}]),t}();return t.\u0275prov=P({token:t,providedIn:"root",factory:Ss}),t}();function Is(t,e,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=e[n.index];if(null!==o&&r.push(Ut(o)),Et(o))for(var a=kt;a<o.length;a++){var s=o[a],c=s[1].firstChild;null!==c&&Is(s[1],s,c,r)}var l=n.type;if(8&l)Is(t,e,n.child,r);else if(32&l)for(var h=Zr(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=ii(e,n);if(Array.isArray(d))r.push.apply(r,(0,u.Z)(d));else{var p=Mr(e[16]);Is(p[1],p,d,r,!0)}}n=i?n.projectionNext:n.next}return r}var xs=function(){function t(e,n){(0,h.Z)(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return(0,l.Z)(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Is(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(t){this._lView[8]=t}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(Et(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(zr(t,n),Cn(e,n))}this._attachedToViewContainer=!1}Hr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Gi(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){co(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){lo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ue(!0);try{lo(t,e,n)}finally{ue(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,si(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),As=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,h.Z)(this,n),(r=e.call(this,t))._view=t,r}return(0,l.Z)(n,[{key:"detectChanges",value:function(){ho(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ue(!0);try{ho(t)}finally{ue(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(xs),Os=function(t){return function(t,e,n){if(Tt(t)&&!n){var r=Gt(t.index,e);return new xs(r,r)}return 47&t.type?new xs(e[16],e):null}(ne(),Xt(),16==(16&t))},Rs=function(){var t=function t(){(0,h.Z)(this,t)};return t.__NG_ELEMENT_ID__=Os,t}(),Ps=[new bs],Ds=new Es([new ds]),Ns=new Ts(Ps),Ls=function(){return Ms(ne(),Xt())},Fs=function(){var t=function t(){(0,h.Z)(this,t)};return t.__NG_ELEMENT_ID__=Ls,t}(),Zs=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,r,i){var o;return(0,h.Z)(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return(0,l.Z)(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Ni(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Zi(e,n,t),new xs(n)}}]),n}(Fs);function Ms(t,e){return 4&t.type?new Zs(e,t,rs(t,e)):null}var js=function t(){(0,h.Z)(this,t)},Us=function t(){(0,h.Z)(this,t)},Vs=function(){return zs(ne(),Xt())},qs=function(){var t=function t(){(0,h.Z)(this,t)};return t.__NG_ELEMENT_ID__=Vs,t}(),Bs=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,r,i){var o;return(0,h.Z)(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return(0,l.Z)(n,[{key:"element",get:function(){return rs(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ln(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Ke(this._hostTNode,this._hostLView);if(Ve(t)){var e=Be(t,this._hostLView),n=qe(t);return new ln(e[1].data[n+8],e)}return new ln(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=$s(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-kt}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(js,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(Et(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new Bs(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e),u=this._lContainer;!function(t,e,n,r){var i=kt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-kt?(e[4]=n[i],kn(n,kt+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,u,s);var c=oi(s,u),l=n[11],h=Xr(l,u[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,si(t,r,n,1,i,o)}(r,u[6],l,n,h,c),t.attachToViewContainerRef(),kn(Gs(u),s,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=$s(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);n&&(Cn(Gs(this._lContainer),e),Hr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);return n&&null!=Cn(Gs(this._lContainer),e)?new xs(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(qs);function $s(t){return t[8]}function Gs(t){return t[8]||(t[8]=[])}function zs(t,e){var n,r=e[t.index];if(Et(r))n=r;else{var i;if(8&t.type)i=Ut(r);else{var o=e[11];i=o.createComment("");var a=qt(t,e);Kr(o,Xr(o,a),i,function(t,e){return Mt(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=io(r,e,i,t),uo(e,n)}return new Bs(n,t,e)}var Hs={},Ys=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r;return(0,h.Z)(this,n),(r=e.call(this)).ngModule=t,r}return(0,l.Z)(n,[{key:"resolveComponentFactory",value:function(t){var e=_t(t);return new Qs(e,this.ngModule)}}]),n}(es);function Ws(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Ks=new gn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Nr}}),Qs=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,r){var i;return(0,h.Z)(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Ci).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return(0,l.Z)(n,[{key:"inputs",get:function(){return Ws(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ws(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Hs,i);return o!==Hs||r===Hs?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(ss,jt),u=a.get(ls,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Mt(t))return t.selectRootElement(e,n===Y.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):$r(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Nr,clean:po,playerHandler:null,flags:0},p=$i(0,null,null,1,0,null,null,null,null,null),v=Ni(null,p,d,f,null,null,s,c,u,a);me(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Li(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(bo(s,u,!0),null!==t&&(Fe(i,t,u),null!==s.classes&&hi(i,t,s.classes),null!==s.styles&&li(i,t,s.styles)));var c=r.createRenderer(t,e),l=Ni(n,Bi(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Qe(He(s,n),a,e.type),Qi(a,s),Xi(s,n.length,1)),uo(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)Fe(c,h,["ng-version",fs.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!mi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,_=g.classes;m&&Fe(c,h,m),_&&_.length>0&&hi(c,h,_.join(" "))}if(o=Bt(p,wt),void 0!==e)for(var b=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=e[w];b.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=ne();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),to(t,r,e,Fi(t,e,1,null),n));var i=an(e,t,r.directiveStart,r);xr(i,e);var o=qt(r,e);return o&&xr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=ne();e.contentQueries(1,a,s.directiveStart)}var u=ne();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Te(u.index),Wi(n[1],u,0,u.directiveStart,u.directiveEnd,e),Ki(e,a)),a}(y,this.componentDef,v,d,[Mo]),Zi(p,v,null)}finally{Ce()}return new Js(this.componentType,i,rs(o,v),v,o)}}]),n}(Xa),Js=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,r,i,o,a){var s;return(0,h.Z)(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new As(o),s.componentType=t,s}return(0,l.Z)(n,[{key:"injector",get:function(){return new ln(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(Ja),Xs=new Map,tu=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t,r){var i;(0,h.Z)(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=(0,o.Z)(i),i.destroyCbs=[],i.componentFactoryResolver=new Ys((0,o.Z)(i));var a=bt(t),s=t[at]||null;return s&&qa(s),i._bootstrapComponents=Lr(a.bootstrap),i._r3Injector=xo(t,r,[{provide:js,useValue:(0,o.Z)(i)},{provide:es,useValue:i.componentFactoryResolver}],k(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return(0,l.Z)(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q.Default;return t===Zo||t===js||t===wo?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(js),eu=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(t){var r,i,o;return(0,h.Z)(this,n),(r=e.call(this)).moduleType=t,null!==bt(t)&&(i=t,o=new Set,function t(e){var n=bt(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(k(e)," vs ").concat(k(e.name)))}(r,Xs.get(r),e),Xs.set(r,e));var i,a=Lr(n.imports),u=(0,s.Z)(a);try{for(u.s();!(i=u.n()).done;){var c=i.value;o.has(c)||(o.add(c),t(c))}}catch(l){u.e(l)}finally{u.f()}}(i)),r}return(0,l.Z)(n,[{key:"create",value:function(t){return new tu(this.moduleType,t)}}]),n}(Us);function nu(t,e){var n=t[e];return n===Ei?void 0:n}function ru(t,e){var n,r=te(),i=t+wt;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new x("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=At(n.type)),a=$(ea);try{var s=Ge(!1),u=o();return Ge(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,Xt(),i,u),u}finally{$(a)}}function iu(t,e,n){var r=t+wt,i=Xt(),o=$t(i,r);return su(i,au(i,r)?function(t,e,n,r,i,o){var a=e+n;return Ko(t,a,i)?Wo(t,a+1,o?r.call(o,i):r(i)):nu(t,a+1)}(i,ce(),e,o.transform,n,o):o.transform(n))}function ou(t,e,n,r){var i=t+wt,o=Xt(),a=$t(o,i);return su(o,au(o,i)?function(t,e,n,r,i,o,a){var s=e+n;return Qo(t,s,i,o)?Wo(t,s+2,a?r.call(a,i,o):r(i,o)):nu(t,s+2)}(o,ce(),e,a.transform,n,r,a):a.transform(n,r))}function au(t,e){return t[1].data[e].pure}function su(t,e){return zo.isWrapped(e)&&(e=zo.unwrap(e),t[le()]=Ei),e}function uu(t){return function(e){setTimeout(t,void 0,e)}}var cu=function(t){(0,f.Z)(n,t);var e=(0,d.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,h.Z)(this,n),(t=e.call(this)).__isAsync=r,t}return(0,l.Z)(n,[{key:"emit",value:function(t){(0,r.Z)((0,i.Z)(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,o){var a,s,u,c=t,l=e||function(){return null},h=o;if(t&&"object"==typeof t){var f=t;c=null===(a=f.next)||void 0===a?void 0:a.bind(f),l=null===(s=f.error)||void 0===s?void 0:s.bind(f),h=null===(u=f.complete)||void 0===u?void 0:u.bind(f)}this.__isAsync&&(l=uu(l),c&&(c=uu(c)),h&&(h=uu(h)));var d=(0,r.Z)((0,i.Z)(n.prototype),"subscribe",this).call(this,{next:c,error:l,complete:h});return t instanceof v.w&&t.add(d),d}}]),n}(y.xQ);function lu(){return this._results[Go()]()}var hu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,h.Z)(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Go(),r=t.prototype;r[n]||(r[n]=lu)}return(0,l.Z)(t,[{key:"changes",get:function(){return this._changes||(this._changes=new cu)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){var n=this;n.dirty=!1;var r=bn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),fu=function(){function t(e){(0,h.Z)(this,t),this.queryList=e,this.matches=null}return(0,l.Z)(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),du=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,h.Z)(this,t),this.queries=e}return(0,l.Z)(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Iu(t,e).matches&&this.queries[e].setDirty()}}]),t}(),pu=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,h.Z)(this,t),this.predicate=e,this.flags=n,this.read=r},vu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,h.Z)(this,t),this.queries=e}return(0,l.Z)(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),yu=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,h.Z)(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return(0,l.Z)(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,gu(e,i)),this.matchTNodeWithReadOption(t,e,on(e,t,i,!1,!1))}else n===Fs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,on(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===os||r===qs||r===Fs&&4&e.type)this.addMatch(e.index,-2);else{var i=on(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function gu(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function mu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?rs(t,e):4&t.type?Ms(t,e):null}(e,t):-2===n?function(t,e,n){return n===os?rs(e,t):n===Fs?Ms(e,t):n===qs?zs(e,t):void 0}(t,e,r):an(t,t[1],n,e)}function _u(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:mu(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function bu(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=_u(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=kt;h<l.length;h++){var f=l[h];f[17]===f[3]&&bu(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];bu(v[1],v,c,r)}}}return r}function wu(t){var e=Xt(),n=te(),r=pe();ve(r+1);var i=Iu(n,r);if(t.dirty&&zt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?bu(n,e,r,[]):_u(n,e,i,r);t.reset(o,as),t.notifyOnChanges()}return!0}return!1}function ku(t,e,n){var r=te();r.firstCreatePass&&(Tu(r,new pu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Su(r,Xt(),e)}function Cu(t,e,n,r){var i=te();if(i.firstCreatePass){var o=ne();Tu(i,new pu(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Su(i,Xt(),n)}function Eu(){return t=Xt(),e=pe(),t[19].queries[e].queryList;var t,e}function Su(t,e,n){var r=new hu(4==(4&n));Gi(t,e,r,r.destroy),null===e[19]&&(e[19]=new du),e[19].queries.push(new fu(r))}function Tu(t,e,n){null===t.queries&&(t.queries=new vu),t.queries.track(new yu(e,n))}function Iu(t,e){return t.queries.getByIndex(e)}var xu=new gn("Application Initializer"),Au=function(){var t=function(){function t(e){var n=this;(0,h.Z)(this,t),this.appInits=e,this.resolve=ns,this.reject=ns,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return(0,l.Z)(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=function(n){var r=t.appInits[n]();if(ca(r))e.push(r);else if(ha(r)){var i=new Promise(function(t,e){r.subscribe({complete:t,error:e})});e.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(xu,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),Ou=new gn("AppId"),Ru={provide:Ou,useFactory:function(){return"".concat(Pu()).concat(Pu()).concat(Pu())},deps:[]};function Pu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Du=new gn("Platform Initializer"),Nu=new gn("Platform ID"),Lu=new gn("appBootstrapListener"),Fu=function(){var t=function(){function t(){(0,h.Z)(this,t)}return(0,l.Z)(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),Zu=new gn("LocaleId"),Mu=new gn("DefaultCurrencyCode"),ju=function t(e,n){(0,h.Z)(this,t),this.ngModuleFactory=e,this.componentFactories=n},Uu=function(t){return new eu(t)},Vu=Uu,qu=function(t){return Promise.resolve(Uu(t))},Bu=function(t){var e=Uu(t),n=Lr(bt(t).declarations).reduce(function(t,e){var n=_t(e);return n&&t.push(new Qs(n)),t},[]);return new ju(e,n)},$u=Bu,Gu=function(t){return Promise.resolve(Bu(t))},zu=function(){var t=function(){function t(){(0,h.Z)(this,t),this.compileModuleSync=Vu,this.compileModuleAsync=qu,this.compileModuleAndAllComponentsSync=$u,this.compileModuleAndAllComponentsAsync=Gu}return(0,l.Z)(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),Hu=function(){return Promise.resolve(0)}();function Yu(t){"undefined"==typeof Zone?Hu.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Wu=function(){function t(e){var n=e.enableLongStackTrace,r=void 0!==n&&n,i=e.shouldCoalesceEventChangeDetection,o=void 0!==i&&i,a=e.shouldCoalesceRunChangeDetection,s=void 0!==a&&a;if((0,h.Z)(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cu(!1),this.onMicrotaskEmpty=new cu(!1),this.onStable=new cu(!1),this.onError=new cu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u,c,l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&o,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){var t=X.requestAnimationFrame,e=X.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,c=function(){!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(X,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Ju(t),t.isCheckStableRunning=!0,Qu(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Ju(t))}(u)},(u=l)._inner=u._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,n,r,i,o){try{return Xu(u),t.invokeTask(n,r,i,o)}finally{(u.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||u.shouldCoalesceRunChangeDetection)&&c(),tc(u)}},onInvoke:function(t,e,n,r,i,o,a){try{return Xu(u),t.invoke(n,r,i,o,a)}finally{u.shouldCoalesceRunChangeDetection&&c(),tc(u)}},onHasTask:function(t,e,n,r){t.hasTask(n,r),e===n&&("microTask"==r.change?(u._hasPendingMicrotasks=r.microTask,Ju(u),Qu(u)):"macroTask"==r.change&&(u.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,n,r){return t.handleError(n,r),u.runOutsideAngular(function(){return u.onError.emit(r)}),!1}})}return(0,l.Z)(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ku,ns,ns);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Ku={};function Qu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Ju(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Xu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tc(t){t._nesting--,Qu(t)}var ec=function(){function t(){(0,h.Z)(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cu,this.onMicrotaskEmpty=new cu,this.onStable=new cu,this.onError=new cu}return(0,l.Z)(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),nc=function(){var t=function(){function t(e){var n=this;(0,h.Z)(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return(0,l.Z)(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Wu.assertNotInAngularZone(),Yu(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Yu(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(Wu))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),rc=function(){var t=function(){function t(){(0,h.Z)(this,t),this._applications=new Map,ac.addToWindow(this)}return(0,l.Z)(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ac.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}();function ic(t){ac=t}var oc,ac=new(function(){function t(){(0,h.Z)(this,t)}return(0,l.Z)(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),sc=!0,uc=!1;function cc(){return uc=!0,sc}function lc(){if(uc)throw new Error("Cannot enable prod mode after platform setup.");sc=!1}var hc=function(t,e,n){var r=new eu(n);return Promise.resolve(r)},fc=new gn("AllowMultipleToken"),dc=function t(e,n){(0,h.Z)(this,t),this.name=e,this.token=n};function pc(t){if(oc&&!oc.destroyed&&!oc.injector.get(fc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");oc=t.get(mc);var e=t.get(Du,null);return e&&e.forEach(function(t){return t()}),oc}function vc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new gn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=gc();if(!o||o.injector.get(fc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Co,useValue:"platform"});pc(Zo.create({providers:a,name:r}))}return yc(i)}}function yc(t){var e=gc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function gc(){return oc&&!oc.destroyed?oc:null}var mc=function(){var t=function(){function t(e){(0,h.Z)(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return(0,l.Z)(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===(n=e?e.ngZone:void 0)?new ec:("zone.js"===n?void 0:n)||new Wu({enableLongStackTrace:cc(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:Wu,useValue:o}];return o.run(function(){var e=Zo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Dr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){wc(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(Au)).runInitializers(),a.donePromise.then(function(){return qa(n.injector.get(Zu,Va)||Va),i._moduleDoBootstrap(n),n}));return ca(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=_c({},n);return hc(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(bc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(k(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(Zo))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}();function _c(t,e){return Array.isArray(e)?e.reduce(_c,t):Object.assign(Object.assign({},t),e)}var bc=function(){var t=function(){function t(e,n,r,i,o){var a=this;(0,h.Z)(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new g.y(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),u=new g.y(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){Wu.assertNotInAngularZone(),Yu(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Wu.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,m.T)(s,u.pipe((0,_.B)()))}return(0,l.Z)(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Xa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(js),o=n.create(Zo.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(nc,null),u=s&&o.injector.get(rc);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),wc(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=(0,s.Z)(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;wc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Lu,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(Wu),Nn(Zo),Nn(Dr),Nn(es),Nn(Au))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}();function wc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var kc=function t(){(0,h.Z)(this,t)},Cc=function t(){(0,h.Z)(this,t)},Ec={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Sc=function(){var t=function(){function t(e,n){(0,h.Z)(this,t),this._compiler=e,this._config=n||Ec}return(0,l.Z)(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=t.split("#"),i=(0,a.Z)(r,2),o=i[0],s=i[1];return void 0===s&&(s="default"),n(8255)(o).then(function(t){return t[s]}).then(function(t){return Tc(t,o,s)}).then(function(t){return e._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var e=t.split("#"),r=(0,a.Z)(e,2),i=r[0],o=r[1],s="NgFactory";return void 0===o&&(o="default",s=""),n(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+s]}).then(function(t){return Tc(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(zu),Nn(Cc,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}();function Tc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Ic=function(t){return null},xc=vc(null,"core",[{provide:Nu,useValue:"unknown"},{provide:mc,deps:[Zo]},{provide:rc,deps:[]},{provide:Fu,deps:[]}]),Ac=[{provide:bc,useClass:bc,deps:[Wu,Zo,Dr,es,Au]},{provide:Ks,deps:[Wu],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Au,useClass:Au,deps:[[new Un,xu]]},{provide:zu,useClass:zu,deps:[]},Ru,{provide:Es,useFactory:function(){return Ds},deps:[]},{provide:Ts,useFactory:function(){return Ns},deps:[]},{provide:Zu,useFactory:function(t){return qa(t=t||"undefined"!=typeof $localize&&$localize.locale||Va),t},deps:[[new jn(Zu),new Un,new Vn]]},{provide:Mu,useValue:"USD"}],Oc=function(){var t=function t(e){(0,h.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)(Nn(bc))},t.\u0275mod=pt({type:t}),t.\u0275inj=D({providers:Ac}),t}()},5912:function(t,e,n){"use strict";n.d(e,{ww:function(){return j},Qv:function(){return P}});var r=n(4568),i=n(1112),o=n(5366),a=n(5959),s=n(878),u=n(8318),c=n(9764),l=n(1906),h=n(1998),f=n(1532),d=n(3620),p=n(8784),v=n(4999),y=n(8489),g=n(7570),m=n(9098),_=n(3895),b=n(9291),w=function(t){(0,p.Z)(n,t);var e=(0,v.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return(0,i.Z)(this,n),(t=e.call(this)).scheduler=a,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=o<1?1:o,o===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return(0,h.Z)(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}(0,f.Z)((0,d.Z)(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new k(this._getNow(),t)),this._trimBufferThenGetEvents()),(0,f.Z)((0,d.Z)(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new _.N;if(this.isStopped||this.hasError?e=g.w.EMPTY:(this.observers.push(t),e=new b.W(this,t)),i&&t.add(t=new m.ht(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||y.c).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(a.xQ),k=function t(e,n){(0,i.Z)(this,t),this.time=e,this.value=n};function C(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){var r;c++,!e||l?(l=!1,e=new w(i,a,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}),h&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}var E=n(4689);function S(t,e){return e?(0,E.w)(function(){return t},e):(0,E.w)(function(){return t})}var T=n(9996),I=n(3530),x=n(4187),A=n(3835),O=n(2346),R=n(1116),P=new o.OlP("angularfire2.auth.use-emulator"),D=new o.OlP("angularfire2.auth.settings"),N=new o.OlP("angularfire2.auth.tenant-id"),L=new o.OlP("angularfire2.auth.langugage-code"),F=new o.OlP("angularfire2.auth.use-device-language"),Z=new o.OlP("angularfire.auth.persistence"),M=function(){var t=function t(e,o,h,f,d,p,v,y,g,_){(0,i.Z)(this,t);var b=new O.HU(f),w=(0,O.ss)(b),k=new a.xQ,P=(0,s.of)(void 0).pipe((0,m.QV)(b.outsideAngular),(0,E.w)(function(){return f.runOutsideAngular(function(){return n.e(7420).then(n.bind(n,7420))})}),(0,T.U)(function(){return(0,O.on)(e,f,o)}),(0,T.U)(function(t){return f.runOutsideAngular(function(){var e=d,n=p;return(0,O.sI)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var i=f.runOutsideAngular(function(){return t.auth()});if(e&&i.useEmulator("http://".concat(e.join(":"))),v&&(i.tenantId=v),i.languageCode=y,g&&i.useDeviceLanguage(),n)for(var o=0,a=Object.entries(n);o<a.length;o++){var s=(0,r.Z)(a[o],2);i.settings[s[0]]=s[1]}return _&&i.setPersistence(_),i},[e,v,y,g,n,_])})}),C({bufferSize:1,refCount:!1}));if((0,R.PM)(h))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,s.of)(null);else{P.pipe((0,I.P)()).subscribe();var D=P.pipe((0,E.w)(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),w,C({bufferSize:1,refCount:!1})),N=function(t){return new u.y(function(e){return{unsubscribe:f.runOutsideAngular(function(){return t(e)})}})},L=P.pipe((0,E.w)(function(t){return N(t.onAuthStateChanged.bind(t))})),F=P.pipe((0,E.w)(function(t){return N(t.onIdTokenChanged.bind(t))}));this.authState=D.pipe(S(L),(0,x.R)(b.outsideAngular),(0,m.QV)(b.insideAngular)),this.user=D.pipe(S(F),(0,x.R)(b.outsideAngular),(0,m.QV)(b.insideAngular)),this.idToken=this.user.pipe((0,E.w)(function(t){return t?(0,c.D)(t.getIdToken()):(0,s.of)(null)})),this.idTokenResult=this.user.pipe((0,E.w)(function(t){return t?(0,c.D)(t.getIdTokenResult()):(0,s.of)(null)})),this.credential=(0,l.T)(D,k,this.authState.pipe((0,A.h)(function(t){return!t}))).pipe((0,T.U)(function(t){return(null==t?void 0:t.user)?t:null}),(0,x.R)(b.outsideAngular),(0,m.QV)(b.insideAngular))}return(0,O.pX)(this,P,f,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return k.next(t)})}}})};return t.\u0275fac=function(e){return new(e||t)(o.LFG(O.Dh),o.LFG(O.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(P,8),o.LFG(D,8),o.LFG(N,8),o.LFG(L,8),o.LFG(F,8),o.LFG(Z,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(O.Dh),o.LFG(O.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(P,8),o.LFG(D,8),o.LFG(N,8),o.LFG(L,8),o.LFG(F,8),o.LFG(Z,8))},token:t,providedIn:"any"}),t}();(0,O.GT)(M,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var j=function(){var t=function t(){(0,i.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[M]}),t}()},5540:function(t,e,n){"use strict";n.d(e,{KQ:function(){return G},JS:function(){return z}});var r=n(1112),i=n(1998),o=n(5587),a=n(4568),s=n(5121),u=n(5366),c=n(8569),l=n(8318),h=n(878),f=n(1906),d=n(1357),p=n(8784),v=n(4999),y=n(9829),g=n(7e3),m=function(){function t(e,n){(0,r.Z)(this,t),this.observables=e,this.project=n}return(0,i.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new _(t,this.observables,this.project))}}]),t}(),_=function(t){(0,p.Z)(n,t);var e=(0,v.Z)(n);function n(t,i,o){var a;(0,r.Z)(this,n),(a=e.call(this,t)).observables=i,a.project=o,a.toRespond=[];var s=i.length;a.values=new Array(s);for(var u=0;u<s;u++)a.toRespond.push(u);for(var c=0;c<s;c++){var l=i[c];a.add((0,g.D)((0,d.Z)(a),l,void 0,c))}return a}return(0,i.Z)(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat((0,s.Z)(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(y.L),b=n(6673),w=function(){function t(e){(0,r.Z)(this,t),this.predicate=e}return(0,i.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new k(t,this.predicate))}}]),t}(),k=function(t){(0,p.Z)(n,t);var e=(0,v.Z)(n);function n(t,i){var o;return(0,r.Z)(this,n),(o=e.call(this,t)).predicate=i,o.skipping=!0,o.index=0,o}return(0,i.Z)(n,[{key:"_next",value:function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}},{key:"tryCallPredicate",value:function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}}}]),n}(b.L),C=n(9996),E=n(1055),S=n(4689),T=n(2023),I=n(8720),x=n(2346),A=(n(2107),n(5912)),O=n(1858);function R(t){return null==t}function P(t){return"function"==typeof t.set}function D(t,e){return P(e)?e:t.ref(e)}function N(t,e){if("string"==typeof t)return e.stringCase();if(P(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: ".concat(typeof t))}function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.z;return new l.y(function(i){var o;return o=t[n](e,function(t,e){r.schedule(function(){i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(function(){return i.complete()})},function(t){r.schedule(function(){return i.error(t)})}),"on"===n?{unsubscribe:function(){null!=o&&t.off(e,o)}}:{unsubscribe:function(){}}}).pipe((0,C.U)(function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),(0,E.B)())}function F(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Z(t,e){var n=e.payload,r=e.prevKey,i=e.key,o=F(t,i),a=function(t,e){if(R(e))return 0;var n=F(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var u=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:u,key:e.key};return u=e.key,t=[].concat((0,s.Z)(t),[n]),!1})}return t;case"child_added":if(o>-1){var c=t[o-1];(c&&c.key||null)!==r&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(a,0,e)}else{if(null==r)return[e].concat((0,s.Z)(t));(t=t.slice()).splice(a,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===i?e:t});case"child_moved":if(o>-1){var l=t.splice(o,1)[0];return(t=t.slice()).splice(a,0,l),t}return t;default:return t}}function M(t){return(R(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function j(t,e,n){return function(t,e,n){return L(t,"value","once",n).pipe((0,S.w)(function(r){var i=[(0,h.of)(r)];return e.forEach(function(e){return i.push(L(t,e,"on",n))}),f.T.apply(void 0,i).pipe((0,T.R)(Z,[]))}),(0,I.x)())}(t,e=M(e),n)}function U(t,e,n){var r=(e=M(e)).map(function(e){return L(t,e,"on",n)});return f.T.apply(void 0,(0,s.Z)(r))}function V(t,e){return function(n,r){return N(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function q(t,e){return function(){return L(t,"value","on",e)}}var B=new u.OlP("angularfire2.realtimeDatabaseURL"),$=new u.OlP("angularfire2.database.use-emulator"),G=function(){var t=function(){function t(e,n,i,o,a,u,c){(0,r.Z)(this,t),this.schedulers=new x.HU(a),this.keepUnstableUntilFirst=(0,x.ss)(this.schedulers);var l=u,h=(0,x.on)(e,a,n);!O.Z.auth&&c&&(0,x.yq)(),this.database=(0,x.sI)("".concat(h.name,".database.").concat(i),"AngularFireDatabase",h,function(){var t=a.runOutsideAngular(function(){return h.database(i||void 0)});return l&&t.useEmulator.apply(t,(0,s.Z)(l)),t},[l])}return(0,i.Z)(t,[{key:"list",value:function(t,e){var n=this,r=this.schedulers.ngZone.runOutsideAngular(function(){return D(n.database,t)}),i=r;return e&&(i=e(r)),function(t,e){var n,r=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(function(){return t.ref});return{query:t,update:V(i,"update"),set:V(i,"set"),push:function(t){return i.push(t)},remove:(n=i,function(t){return t?N(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){return j(t,n,r).pipe(e.keepUnstableUntilFirst)},stateChanges:function(n){return U(t,n,r).pipe(e.keepUnstableUntilFirst)},auditTrail:function(n){return function(t,e,n){return function(t,e,n){return function(t,e){return L(t,"value","on",e).pipe((0,C.U)(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new m(e,n))}}(e),(0,C.U)(function(t){var e=(0,a.Z)(t,2),n=e[1],r=e[0].lastKeyToLoad,i=n.map(function(t){return t.key});return{actions:n,lastKeyToLoad:r,loadedKeys:i}}),(r=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},function(t){return t.lift(new w(r))}),(0,C.U)(function(t){return t.actions}));var r}(t,U(t,e).pipe((0,T.R)(function(t,e){return[].concat((0,s.Z)(t),[e])},[])),n)}(t,n,r).pipe(e.keepUnstableUntilFirst)},valueChanges:function(n,i){return j(t,n,r).pipe((0,C.U)(function(t){return t.map(function(t){return i&&i.idField?Object.assign(Object.assign({},t.payload.val()),(0,o.Z)({},i.idField,t.key)):t.payload.val()})}),e.keepUnstableUntilFirst)}}}(i,this)}},{key:"object",value:function(t){var e,n,r=this,i=this.schedulers.ngZone.runOutsideAngular(function(){return D(r.database,t)});return n=this,{query:e=i,snapshotChanges:function(){return q(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst)},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){return q(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,(0,C.U)(function(t){return t.payload.exists()?t.payload.val():null}))}}}},{key:"createPushId",value:function(){var t=this;return this.schedulers.ngZone.runOutsideAngular(function(){return t.database.ref()}).push().key}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(x.Dh),u.LFG(x.xv,8),u.LFG(B,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG($,8),u.LFG(A.Qv,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(x.Dh),u.LFG(x.xv,8),u.LFG(B,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG($,8),u.LFG(A.Qv,8))},token:t,providedIn:"any"}),t}(),z=function(){var t=function t(){(0,r.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[G]}),t}()},7617:function(t,e,n){"use strict";n.d(e,{ST:function(){return pp},yb:function(){return vp}});var r=n(5587),i=n(5121),o=n(1112),a=n(1998),s=n(4568),u=n(5366),c=n(8569),l=n(8318),h=n(9764),f=n(878),d=n(8784),p=n(4999),v=n(6673);function y(){return function(t){return t.lift(new g)}}var g=function(){function t(){(0,o.Z)(this,t)}return(0,a.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new m(t))}}]),t}(),m=function(t){(0,d.Z)(n,t);var e=(0,p.Z)(n);function n(t){var r;return(0,o.Z)(this,n),(r=e.call(this,t)).hasPrev=!1,r}return(0,a.Z)(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(v.L),_=n(6238),b=n(9996),w=n(2023),k=n(8720),C=n(3835),E=n(9098),S=n(2346),T=n(1116),I=n(1858),x=n(1062),A=n(4762),O=n(250),R=n(308),P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function D(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var N,L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},F=F||{},Z=L||self;function M(){}function j(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function U(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var V="closure_uid_"+(1e9*Math.random()>>>0),q=0;function B(t,e,n){return t.call.apply(t.bind,arguments)}function $(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function G(t,e,n){return(G=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?B:$).apply(null,arguments)}function z(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function H(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Y(){this.s=this.s,this.o=this.o}var W={};Y.prototype.s=!1,Y.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,V)&&t[V]||(t[V]=++q)}(this);delete W[t]}},Y.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var K=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function J(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function tt(t){return/^[\s\xa0]*$/.test(t)}var et,nt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function rt(t,e){return-1!=t.indexOf(e)}function it(t,e){return t<e?-1:t>e?1:0}t:{var ot=Z.navigator;if(ot){var at=ot.userAgent;if(at){et=at;break t}}et=""}function st(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ut(t){var e={};for(var n in t)e[n]=t[n];return e}var ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ct.length;o++)n=ct[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ht(t){return ht[" "](t),t}ht[" "]=M;var ft,dt,pt=rt(et,"Opera"),vt=rt(et,"Trident")||rt(et,"MSIE"),yt=rt(et,"Edge"),gt=yt||vt,mt=rt(et,"Gecko")&&!(rt(et.toLowerCase(),"webkit")&&!rt(et,"Edge"))&&!(rt(et,"Trident")||rt(et,"MSIE"))&&!rt(et,"Edge"),_t=rt(et.toLowerCase(),"webkit")&&!rt(et,"Edge");function bt(){var t=Z.document;return t?t.documentMode:void 0}t:{var wt="",kt=(dt=et,mt?/rv:([^\);]+)(\)|;)/.exec(dt):yt?/Edge\/([\d\.]+)/.exec(dt):vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(dt):_t?/WebKit\/(\S+)/.exec(dt):pt?/(?:Version)[ \/]?(\S+)/.exec(dt):void 0);if(kt&&(wt=kt?kt[1]:""),vt){var Ct=bt();if(null!=Ct&&Ct>parseFloat(wt)){ft=String(Ct);break t}}ft=wt}var Et={};var St=Z.document&&vt&&(bt()||parseInt(ft,10))||void 0,Tt=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",M,e),Z.removeEventListener("test",M,e)}catch(n){}return t}();function It(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function xt(t,e){if(It.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mt){t:{try{ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:At[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xt.Z.h.call(this)}}It.prototype.h=function(){this.defaultPrevented=!0},H(xt,It);var At={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Rt=0;function Pt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Rt,this.ca=this.fa=!1}function Dt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Nt(t){this.src=t,this.g={},this.h=0}function Lt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=K(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Dt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ft(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Nt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=Ft(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new Pt(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Zt="closure_lm_"+(1e6*Math.random()|0),Mt={};function jt(t,e,n,r,i){if(r&&r.once)return Vt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jt(t,e[o],n,r,i);return null}return n=Yt(n),t&&t[Ot]?t.N(e,n,U(r)?!!r.capture:!!r,i):Ut(t,e,n,!1,r,i)}function Ut(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=U(i)?!!i.capture:!!i,s=zt(t);if(s||(t[Zt]=s=new Nt(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Gt;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Tt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Vt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Vt(t,e[o],n,r,i);return null}return n=Yt(n),t&&t[Ot]?t.O(e,n,U(r)?!!r.capture:!!r,i):Ut(t,e,n,!0,r,i)}function qt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)qt(t,e[o],n,r,i);else r=U(r)?!!r.capture:!!r,n=Yt(n),t&&t[Ot]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Ft(o=t.g[e],n,r,i))&&(Dt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=zt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ft(e,n,r,i)),(n=-1<t?e[t]:null)&&Bt(n))}function Bt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Ot])Lt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zt(e))?(Lt(n,t),0==n.h&&(n.src=null,e[Zt]=null)):Dt(t)}}}function $t(t){return t in Mt?Mt[t]:Mt[t]="on"+t}function Gt(t,e){if(t.ca)t=!0;else{e=new xt(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Bt(t),t=n.call(r,e)}return t}function zt(t){return(t=t[Zt])instanceof Nt?t:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yt(t){return"function"==typeof t?t:(t[Ht]||(t[Ht]=function(e){return t.handleEvent(e)}),t[Ht])}function Wt(){Y.call(this),this.i=new Nt(this),this.P=this,this.I=null}function Kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new It(e,t);else if(e instanceof It)e.target=e.target||t;else{var i=e;lt(e=new It(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Qt(a,r,!0,e)&&i}if(i=Qt(a=e.g=t,r,!0,e)&&i,i=Qt(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Qt(a=e.g=n[o],r,!1,e)&&i}function Qt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Lt(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}H(Wt,Y),Wt.prototype[Ot]=!0,Wt.prototype.removeEventListener=function(t,e,n,r){qt(this,t,e,n,r)},Wt.prototype.M=function(){if(Wt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Dt(n[r]);delete e.g[t],e.h--}}this.I=null},Wt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Jt=Z.JSON.stringify;function Xt(){var t=se,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var te,ee=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=ne.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),ne=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new re},function(t){return t.reset()}),re=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function ie(t){Z.setTimeout(function(){throw t},0)}function oe(t,e){te||function(){var t=Z.Promise.resolve(void 0);te=function(){t.then(ue)}}(),ae||(te(),ae=!0),se.add(t,e)}var ae=!1,se=new ee;function ue(){for(var t;t=Xt();){try{t.h.call(t.g)}catch(n){ie(n)}var e=ne;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ae=!1}function ce(t,e){Wt.call(this),this.h=t||1,this.g=e||Z,this.j=G(this.kb,this),this.l=Date.now()}function le(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function he(t,e,n){if("function"==typeof t)n&&(t=G(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=G(t.handleEvent,t)}return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function fe(t){t.g=he(function(){t.g=null,t.i&&(t.i=!1,fe(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}H(ce,Wt),(N=ce.prototype).da=!1,N.S=null,N.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kt(this,"tick"),this.da&&(le(this),this.start()))}},N.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.M=function(){ce.Z.M.call(this),le(this),delete this.g};var de=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:fe(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Y);function pe(t){Y.call(this),this.h=t,this.g={}}H(pe,Y);var ve=[];function ye(t,e,n,r){Array.isArray(n)||(n&&(ve[0]=n.toString()),n=ve);for(var i=0;i<n.length;i++){var o=jt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function ge(t){st(t.g,function(t,e){this.g.hasOwnProperty(e)&&Bt(t)},t),t.g={}}function me(){this.g=!0}function _e(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Jt(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}pe.prototype.M=function(){pe.Z.M.call(this),ge(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},me.prototype.Aa=function(){this.g=!1},me.prototype.info=function(){};var be={},we=null;function ke(){return we=we||new Wt}function Ce(t){It.call(this,be.Ma,t)}function Ee(t){var e=ke();Kt(e,new Ce(e,t))}function Se(t,e){It.call(this,be.STAT_EVENT,t),this.stat=e}function Te(t){var e=ke();Kt(e,new Se(e,t))}function Ie(t,e){It.call(this,be.Na,t),this.size=e}function xe(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}be.Ma="serverreachability",H(Ce,It),be.STAT_EVENT="statevent",H(Se,It),be.Na="timingevent",H(Ie,It);var Ae={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Oe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Re(){}function Pe(){}Re.prototype.h=null;var De,Ne={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Le(){It.call(this,"d")}function Fe(){It.call(this,"c")}function Ze(){}function Me(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new pe(this),this.P=Ue,this.W=new ce(t=gt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}H(Le,It),H(Fe,It),H(Ze,Re),Ze.prototype.g=function(){return new XMLHttpRequest},Ze.prototype.i=function(){return{}},De=new Ze;var Ue=45e3,Ve={},qe={};function Be(t,e,n){t.K=1,t.v=dn(sn(e)),t.s=n,t.U=!0,$e(t,null)}function $e(t,e){t.F=Date.now(),Ye(t),t.A=sn(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Tn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new je,t.g=Ir(t.l,n?e:null,!t.s),0<t.O&&(t.L=new de(G(t.Ia,t,t.g),t.O)),ye(t.V,t.g,"readystatechange",t.gb),e=t.H?ut(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ee(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Ge(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function ze(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=He(t,n))==qe){4==e&&(t.o=4,Te(14),i=!1),_e(t.j,t.m,null,"[Incomplete Response]");break}if(r==Ve){t.o=4,Te(15),_e(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}_e(t.j,t.m,r,null),Xe(t,r)}Ge(t)&&r!=qe&&r!=Ve&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Te(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_r(e),e.L=!0,Te(11))):(_e(t.j,t.m,n,"[Invalid Chunked Response]"),Je(t),Qe(t))}function He(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?qe:(n=Number(e.substring(n,r)),isNaN(n)?Ve:(r+=1)+n>e.length?qe:(e=e.substr(r,n),t.C=r+n,e))}function Ye(t){t.Y=Date.now()+t.P,We(t,t.P)}function We(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=xe(G(t.eb,t),e)}function Ke(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}function Qe(t){0==t.l.G||t.I||kr(t.l,t)}function Je(t){Ke(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,le(t.W),ge(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Xe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Dn(n.i,t)))if(n.I=t.N,!t.J&&Dn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;wr(n),lr(n)}mr(n),Te(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=xe(G(n.ab,n),6e3));if(1>=Pn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Er(n,11)}else if((t.J||n.g==t)&&wr(n),!tt(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(rt(l,"spdy")||rt(l,"quic")||rt(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Nn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,fn(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Tr(r,r.H?r.la:null,r.W),d.J){Ln(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ke(p),Ye(p)),r.g=d}else gr(r);0<n.l.length&&dr(n)}else"stop"!=o[0]&&"close"!=o[0]||Er(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Er(n,7):cr(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Ee(4)}catch(o){}}function tn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(j(t)||"string"==typeof t)Q(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(j(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(j(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function en(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof en)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function nn(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];rn(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)rn(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(N=Me.prototype).setTimeout=function(t){this.P=t},N.gb=function(t){t=t.target;var e=this.L;e&&3==ir(t)?e.l():this.Ia(t)},N.Ia=function(t){try{if(t==this.g)t:{var e=ir(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||gt||this.g&&(this.h.h||this.g.ga()||or(this.g)))){this.I||4!=e||7==n||Ee(8==n||0>=r?3:2),Ke(this);var i=this.g.ba();this.N=i;e:if(Ge(this)){var o=or(this.g);t="";var a=o.length,s=4==ir(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Je(this),Qe(this);var u="";break e}this.h.i=new Z.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Te(12),Je(this),Qe(this);break t}_e(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xe(this,i)}this.U?(ze(this,e,u),gt&&this.i&&3==e&&(ye(this.V,this.W,"tick",this.fb),this.W.start())):(_e(this.j,this.m,u,null),Xe(this,u)),4==e&&Je(this),this.i&&!this.I&&(4==e?kr(this.l,this):(this.i=!1,Ye(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Te(12)):(this.o=0,Te(13)),Je(this),Qe(this)}}}catch(e){}},N.fb=function(){if(this.g){var t=ir(this.g),e=this.g.ga();this.C<e.length&&(Ke(this),ze(this,t,e),this.i&&4!=t&&Ye(this))}},N.cancel=function(){this.I=!0,Je(this)},N.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ee(3),Te(17)),Je(this),this.o=2,Qe(this)):We(this,this.Y-t)},(N=en.prototype).R=function(){nn(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},N.T=function(){return nn(this),this.g.concat()},N.get=function(t,e){return rn(this.h,t)?this.h[t]:e},N.set=function(t,e){rn(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},N.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var on=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function an(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof an){this.g=void 0!==e?e:t.g,un(this,t.j),this.s=t.s,cn(this,t.i),ln(this,t.m),this.l=t.l,e=t.h;var n=new kn;n.i=e.i,e.g&&(n.g=new en(e.g),n.h=e.h),hn(this,n),this.o=t.o}else t&&(n=String(t).match(on))?(this.g=!!e,un(this,n[1]||"",!0),this.s=pn(n[2]||""),cn(this,n[3]||"",!0),ln(this,n[4]),this.l=pn(n[5]||"",!0),hn(this,n[6]||"",!0),this.o=pn(n[7]||"")):(this.g=!!e,this.h=new kn(null,this.g))}function sn(t){return new an(t)}function un(t,e,n){t.j=n?pn(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function cn(t,e,n){t.i=n?pn(e,!0):e}function ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hn(t,e,n){e instanceof kn?(t.h=e,function(t,e){e&&!t.j&&(Cn(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(En(this,e),Tn(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=vn(e,bn)),t.h=new kn(e,t.g))}function fn(t,e,n){t.h.set(e,n)}function dn(t){return fn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}an.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vn(e,gn,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(vn(e,gn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(vn(n,"/"==n.charAt(0)?_n:mn,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vn(n,wn)),t.join("")};var gn=/[#\/\?@]/g,mn=/[#\?:]/g,_n=/[#\?]/g,bn=/[#\?@]/g,wn=/#/g;function kn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cn(t){t.g||(t.g=new en,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function En(t,e){Cn(t),e=In(t,e),rn(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,rn((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&nn(t)))}function Sn(t,e){return Cn(t),e=In(t,e),rn(t.g.h,e)}function Tn(t,e,n){En(t,e),0<n.length&&(t.i=null,t.g.set(In(t,e),X(n)),t.h+=n.length)}function In(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(N=kn.prototype).add=function(t,e){Cn(this),this.i=null,t=In(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Cn(this),this.g.forEach(function(n,r){Q(n,function(n){t.call(e,n,r,this)},this)},this)},N.T=function(){Cn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},N.R=function(t){Cn(this);var e=[];if("string"==typeof t)Sn(this,t)&&(e=J(e,this.g.get(In(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},N.set=function(t,e){return Cn(this),this.i=null,Sn(this,t=In(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var xn=function(t,e){this.h=t,this.g=e};function An(t){this.l=t||On,t=Z.PerformanceNavigationTiming?0<(t=Z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Z.g&&Z.g.Ea&&Z.g.Ea()&&Z.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var On=10;function Rn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Pn(t){return t.h?1:t.g?t.g.size:0}function Dn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Nn(t,e){t.g?t.g.add(e):t.h=e}function Ln(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Fn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=D(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return X(t.i)}function Zn(){}function Mn(){this.g=new Zn}function jn(t,e,n){var r=n||"";try{tn(t,function(t,n){var i=t;U(t)&&(i=Jt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Yd){throw e.push(r+"type="+encodeURIComponent("_badmap")),Yd}}function Un(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Vn(t){this.l=t.$b||null,this.j=t.ib||!1}function qn(t,e){Wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Bn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}An.prototype.cancel=function(){var t,e;if(this.i=Fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=D(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Zn.prototype.stringify=function(t){return Z.JSON.stringify(t,void 0)},Zn.prototype.parse=function(t){return Z.JSON.parse(t,void 0)},H(Vn,Re),Vn.prototype.g=function(){return new qn(this.l,this.j)},Vn.prototype.i=function(t){return function(){return t}}({}),H(qn,Wt);var Bn=0;function $n(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Gn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,zn(t)}function zn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=qn.prototype).open=function(t,e){if(this.readyState!=Bn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,zn(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Z).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gn(this)),this.readyState=Bn},N.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Z.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$n(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},N.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gn(this):zn(this),3==this.readyState&&$n(this)}},N.Ua=function(t){this.g&&(this.response=this.responseText=t,Gn(this))},N.Ta=function(t){this.g&&(this.response=t,Gn(this))},N.ha=function(){this.g&&Gn(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(qn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Hn=Z.JSON.parse;function Yn(t){Wt.call(this),this.headers=new en,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wn,this.K=this.L=!1}H(Yn,Wt);var Wn="",Kn=/^https?$/i,Qn=["POST","PUT"];function Jn(t){return"content-type"==t.toLowerCase()}function Xn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,tr(t),nr(t)}function tr(t){t.D||(t.D=!0,Kt(t,"complete"),Kt(t,"error"))}function er(t){if(t.h&&void 0!==F&&(!t.C[1]||4!=ir(t)||2!=t.ba()))if(t.v&&4==ir(t))he(t.Fa,0,t);else if(Kt(t,"readystatechange"),4==ir(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(on)[1]||null;if(!o&&Z.self&&Z.self.location){var a=Z.self.location.protocol;o=a.substr(0,a.length-1)}i=!Kn.test(o?o.toLowerCase():"")}e=i}if(e)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var s=2<ir(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",tr(t)}}finally{nr(t)}}}function nr(t,e){if(t.g){rr(t);var n=t.g,r=t.C[0]?M:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=r}catch(Yd){}}}function rr(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function ir(t){return t.g?t.g.readyState:0}function or(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Wn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ar(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return st(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):fn(t,e,n))}function sr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ur(t){this.za=0,this.l=[],this.h=new me,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sr("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sr("baseRetryDelayMs",5e3,t),this.$a=sr("retryDelaySeedMs",1e4,t),this.Ya=sr("forwardChannelMaxRetries",2,t),this.ra=sr("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new An(t&&t.concurrentRequestLimit),this.Ca=new Mn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function cr(t){if(hr(t),3==t.G){var e=t.V++,n=sn(t.F);fn(n,"SID",t.J),fn(n,"RID",e),fn(n,"TYPE","terminate"),vr(t,n),(e=new Me(t,t.h,e,void 0)).K=2,e.v=dn(sn(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(e.v.toString(),"")),!n&&Z.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ir(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ye(e)}Sr(t)}function lr(t){t.g&&(_r(t),t.g.cancel(),t.g=null)}function hr(t){lr(t),t.u&&(Z.clearTimeout(t.u),t.u=null),wr(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Z.clearTimeout(t.m),t.m=null)}function fr(t,e){t.l.push(new xn(t.Za++,e)),3==t.G&&dr(t)}function dr(t){Rn(t.i)||t.m||(t.m=!0,oe(t.Ha,t),t.C=0)}function pr(t,e){var n;n=e?e.m:t.V++;var r=sn(t.F);fn(r,"SID",t.J),fn(r,"RID",n),fn(r,"AID",t.U),vr(t,r),t.o&&t.s&&ar(r,t.o,t.s),n=new Me(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=yr(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Nn(t.i,n),Be(n,r,e)}function vr(t,e){t.j&&tn({},function(t,n){fn(e,n,t)})}function yr(t,e,n){n=Math.min(t.l.length,n);var r=t.j?G(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{jn(l,a,"req"+c+"_")}catch(ai){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function gr(t){t.g||t.u||(t.Y=1,oe(t.Ga,t),t.A=0)}function mr(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=xe(G(t.Ga,t),Cr(t,t.A)),t.A++,0))}function _r(t){null!=t.B&&(Z.clearTimeout(t.B),t.B=null)}function br(t){t.g=new Me(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=sn(t.oa);fn(e,"RID","rpc"),fn(e,"SID",t.J),fn(e,"CI",t.N?"0":"1"),fn(e,"AID",t.U),vr(t,e),fn(e,"TYPE","xmlhttp"),t.o&&t.s&&ar(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=dn(sn(e)),n.s=null,n.U=!0,$e(n,t)}function wr(t){null!=t.v&&(Z.clearTimeout(t.v),t.v=null)}function kr(t,e){var n=null;if(t.g==e){wr(t),_r(t),t.g=null;var r=2}else{if(!Dn(t.i,e))return;n=e.D,Ln(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Kt(r=ke(),new Ie(r,n,e,i)),dr(t)}else gr(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Pn(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=xe(G(t.Ha,t,e),Cr(t,t.C)),t.C++,0)))}(t,e)||2==r&&mr(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Er(t,5);break;case 4:Er(t,10);break;case 3:Er(t,6);break;default:Er(t,2)}}function Cr(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Er(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=G(t.jb,t);n||(n=new an("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||un(n,"https"),dn(n)),function(t,e){var n=new me;if(Z.Image){var r=new Image;r.onload=z(Un,n,r,"TestLoadImage: loaded",!0,e),r.onerror=z(Un,n,r,"TestLoadImage: error",!1,e),r.onabort=z(Un,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=z(Un,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Te(2);t.G=0,t.j&&t.j.va(e),Sr(t),hr(t)}function Sr(t){t.G=0,t.I=-1,t.j&&(0==Fn(t.i).length&&0==t.l.length||(t.i.i.length=0,X(t.l),t.l.length=0),t.j.ua())}function Tr(t,e,n){var r=function(t){return t instanceof an?sn(t):new an(t,void 0)}(n);if(""!=r.i)e&&cn(r,e+"."+r.i),ln(r,r.m);else{var i=Z.location;r=function(t,e,n,r){var i=new an(null,void 0);return t&&un(i,t),e&&cn(i,e),n&&ln(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&st(t.aa,function(t,e){fn(r,e,t)}),n=t.sa,(e=t.D)&&n&&fn(r,e,n),fn(r,"VER",t.ma),vr(t,r),r}function Ir(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yn(n&&t.Ba&&!t.qa?new Vn({ib:!0}):t.qa)).L=t.H,e}function xr(){}function Ar(){if(vt&&!(10<=Number(St)))throw Error("Environmental error: no available transport.")}function Or(t,e){Wt.call(this),this.g=new ur(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!tt(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tt(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Dr(this)}function Rr(t){Le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Pr(){Fe.call(this),this.status=1}function Dr(t){this.g=t}(N=Yn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():De.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:De),this.g.onreadystatechange=G(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Xn(this,o)}t=n||"";var i=new en(this.headers);r&&tn(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Jn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Z.FormData&&t instanceof Z.FormData,!(0<=K(Qn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rr(this),0<this.B&&((this.K=function(t){return vt&&function(){return t=Et,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=nt(String(ft)).split("."),n=nt("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=it(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||it(0==o[2].length,0==a[2].length)||it(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=G(this.pa,this)):this.A=he(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Xn(this,o)}},N.pa=function(){void 0!==F&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),nr(this))},N.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nr(this,!0)),Yn.Z.M.call(this)},N.Fa=function(){this.s||(this.F||this.v||this.l?er(this):this.cb())},N.cb=function(){er(this)},N.ba=function(){try{return 2<ir(this)?this.g.status:-1}catch(dt){return-1}},N.ga=function(){try{return this.g?this.g.responseText:""}catch(dt){return""}},N.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Hn(e)}},N.Da=function(){return this.m},N.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=ur.prototype).ma=8,N.G=1,N.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},N.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Me(this,this.h,t,void 0),n=this.s;if(this.P&&(n?lt(n=ut(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=yr(this,e,r),fn(i=sn(this.F),"RID",t),fn(i,"CVER",22),this.D&&fn(i,"X-HTTP-Session-Id",this.D),vr(this,i),this.o&&n&&ar(i,this.o,n),Nn(this.i,e),this.Ra&&fn(i,"TYPE","init"),this.ja?(fn(i,"$req",r),fn(i,"SID","null"),e.$=!0,Be(e,i,null)):Be(e,i,r),this.G=2}}else 3==this.G&&(t?pr(this,t):0==this.l.length||Rn(this.i)||pr(this))},N.Ga=function(){if(this.u=null,br(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=xe(G(this.bb,this),t)}},N.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Te(10),lr(this),br(this))},N.ab=function(){null!=this.v&&(this.v=null,lr(this),mr(this),Te(19))},N.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Te(2)):(this.h.info("Failed to ping google.com"),Te(1))},(N=xr.prototype).xa=function(){},N.wa=function(){},N.va=function(){},N.ua=function(){},N.Oa=function(){},Ar.prototype.g=function(t,e){return new Or(t,e)},H(Or,Wt),Or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),oe(G(t.hb,t,e))),Te(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Tr(t,null,t.W),dr(t)},Or.prototype.close=function(){cr(this.g)},Or.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,fr(this.g,e)}else this.v?((e={}).__data__=Jt(t),fr(this.g,e)):fr(this.g,t)},Or.prototype.M=function(){this.g.j=null,delete this.j,cr(this.g),delete this.g,Or.Z.M.call(this)},H(Rr,Le),H(Pr,Fe),H(Dr,xr),Dr.prototype.xa=function(){Kt(this.g,"a")},Dr.prototype.wa=function(t){Kt(this.g,new Rr(t))},Dr.prototype.va=function(t){Kt(this.g,new Pr(t))},Dr.prototype.ua=function(){Kt(this.g,"b")},Ar.prototype.createWebChannel=Ar.prototype.g,Or.prototype.send=Or.prototype.u,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Oe.COMPLETE="complete",Pe.EventType=Ne,Ne.OPEN="a",Ne.CLOSE="b",Ne.ERROR="c",Ne.MESSAGE="d",Wt.prototype.listen=Wt.prototype.N,Yn.prototype.listenOnce=Yn.prototype.O,Yn.prototype.getLastError=Yn.prototype.La,Yn.prototype.getLastErrorCode=Yn.prototype.Da,Yn.prototype.getStatus=Yn.prototype.ba,Yn.prototype.getResponseJson=Yn.prototype.Qa,Yn.prototype.getResponseText=Yn.prototype.ga,Yn.prototype.send=Yn.prototype.ea;var Nr=Ae,Lr=Oe,Fr=be,Zr=Vn,Mr=Pe,jr=Yn,Ur=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ur.o=-1;var Vr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,A.ZT)(e,t),e}(Error),Br=new R.Yd("@firebase/firestore");function $r(){return Br.logLevel}function Gr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Br.logLevel<=R.in.DEBUG){var r=e.map(Yr);Br.debug.apply(Br,(0,A.ev)(["Firestore (8.8.0): "+t],r))}}function zr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Br.logLevel<=R.in.ERROR){var r=e.map(Yr);Br.error.apply(Br,(0,A.ev)(["Firestore (8.8.0): "+t],r))}}function Hr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Br.logLevel<=R.in.WARN){var r=e.map(Yr);Br.warn.apply(Br,(0,A.ev)(["Firestore (8.8.0): "+t],r))}}function Yr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Yd){return t}}function Wr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+t;throw zr(e),new Error(e)}function Kr(t,e){t||Wr()}function Qr(t,e){return t}function Jr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Xr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Jr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ti(t,e){return t<e?-1:t>e?1:0}function ei(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ni(t){return t+"\0"}var ri=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new qr(Vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new qr(Vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new qr(Vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qr(Vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ti(this.nanoseconds,t.nanoseconds):ti(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ii=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ri(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function oi(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ai(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function si(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ui=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Wr(),void 0===n?n=t.length-e:n>t.length-e&&Wr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ci=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new qr(Vr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ui),li=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return li.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new qr(Vr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new qr(Vr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new qr(Vr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new qr(Vr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ui),fi=function(){function t(t){this.fields=t,t.sort(hi.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ei(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),di=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ti(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();di.EMPTY_BYTE_STRING=new di("");var pi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(Kr(!!t),"string"==typeof t){var e=0,n=pi.exec(t);if(Kr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yi(t.seconds),nanos:yi(t.nanos)}}function yi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function gi(t){return"string"==typeof t?di.fromBase64String(t):di.fromUint8Array(t)}function mi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _i(t){var e=t.mapValue.fields.__previous_value__;return mi(e)?_i(e):e}function bi(t){var e=vi(t.mapValue.fields.__local_write_time__.timestampValue);return new ri(e.seconds,e.nanos)}function wi(t){return null==t}function ki(t){return 0===t&&1/t==-1/0}function Ci(t){return"number"==typeof t&&Number.isInteger(t)&&!ki(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ei=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ci.fromString(e))},t.fromName=function(e){return new t(ci.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ci.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ci.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ci(e.slice()))},t}();function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mi(t)?4:10:Wr()}function Ti(t,e){var n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bi(t).isEqual(bi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=vi(t.timestampValue),r=vi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return gi(t.bytesValue).isEqual(gi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return yi(t.geoPointValue.latitude)===yi(e.geoPointValue.latitude)&&yi(t.geoPointValue.longitude)===yi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return yi(t.integerValue)===yi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=yi(t.doubleValue),r=yi(e.doubleValue);return n===r?ki(n)===ki(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ei(t.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(oi(n)!==oi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ti(n[i],r[i])))return!1;return!0}(t,e);default:return Wr()}}function Ii(t,e){return void 0!==(t.values||[]).find(function(t){return Ti(t,e)})}function xi(t,e){var n=Si(t),r=Si(e);if(n!==r)return ti(n,r);switch(n){case 0:return 0;case 1:return ti(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=yi(t.integerValue||t.doubleValue),r=yi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ai(t.timestampValue,e.timestampValue);case 4:return Ai(bi(t),bi(e));case 5:return ti(t.stringValue,e.stringValue);case 6:return function(t,e){var n=gi(t),r=gi(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ti(n[i],r[i]);if(0!==o)return o}return ti(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ti(yi(t.latitude),yi(e.latitude));return 0!==n?n:ti(yi(t.longitude),yi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=xi(n[i],r[i]);if(o)return o}return ti(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ti(r[a],o[a]);if(0!==s)return s;var u=xi(n[r[a]],i[o[a]]);if(0!==u)return u}return ti(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Wr()}}function Ai(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ti(t,e);var n=vi(t),r=vi(e),i=ti(n.seconds,r.seconds);return 0!==i?i:ti(n.nanos,r.nanos)}function Oi(t){return Ri(t)}function Ri(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=vi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?gi(t.bytesValue).toBase64():"referenceValue"in t?Ei.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ri(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ri(t.fields[o])}return e+"}"}(t.mapValue):Wr();var e}function Pi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Di(t){return!!t&&"integerValue"in t}function Ni(t){return!!t&&"arrayValue"in t}function Li(t){return!!t&&"nullValue"in t}function Fi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zi(t){return!!t&&"mapValue"in t}function Mi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return ai(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Mi(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Mi(t.arrayValue.values[r]);return n}return Object.assign({},t)}var ji=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Zi(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mi(e)},t.prototype.setAll=function(t){var e=this,n=hi.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Mi(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Zi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Ti(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Zi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){ai(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Mi(this.value))},t}();function Ui(t){var e=[];return ai(t.fields,function(t,n){var r=new hi([t]);if(Zi(n)){var i=Ui(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new fi(e)}var Vi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ii.min(),ji.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ji.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ji.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ji.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ji.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),qi=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Bi(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new qi(t,e,n,r,i,o,a)}function $i(t){var e=Qr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Oi(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),wi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ro(e.startAt)),e.endAt&&(n+="|ub:",n+=ro(e.endAt)),e.h=n}return e.h}function Gi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!oo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ti(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!so(t.startAt,e.startAt)&&so(t.endAt,e.endAt)}function zi(t){return Ei.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Hi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,A.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Yi(t,n,r):"array-contains"===n?new Ji(t,r):"in"===n?new Xi(t,r):"not-in"===n?new to(t,r):"array-contains-any"===n?new eo(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Wi(t,n):new Ki(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(xi(e,this.value)):null!==e&&Si(this.value)===Si(e)&&this.m(xi(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Wr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Yi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ei.fromName(r.referenceValue),i}return(0,A.ZT)(e,t),e.prototype.matches=function(t){var e=Ei.comparator(t.key,this.key);return this.m(e)},e}(Hi),Wi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Qi(0,n),r}return(0,A.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Hi),Ki=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Qi(0,n),r}return(0,A.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Hi);function Qi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Ei.fromName(t.referenceValue)})}var Ji=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ni(e)&&Ii(e.arrayValue,this.value)},e}(Hi),Xi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ii(this.value.arrayValue,e)},e}(Hi),to=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(t){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ii(this.value.arrayValue,e)},e}(Hi),eo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ni(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ii(e.value.arrayValue,t)})},e}(Hi),no=function(t,e){this.position=t,this.before=e};function ro(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Oi(t)}).join(",")}var io=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function oo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ao(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Ei.comparator(Ei.fromName(a.referenceValue),n.key):xi(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function so(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ti(t.position[n],e.position[n]))return!1;return!0}var uo=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function co(t,e,n,r,i,o,a,s){return new uo(t,e,n,r,i,o,a,s)}function lo(t){return new uo(t)}function ho(t){return!wi(t.limit)&&"F"===t.limitType}function fo(t){return!wi(t.limit)&&"L"===t.limitType}function po(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function yo(t){return null!==t.collectionGroup}function go(t){var e=Qr(t);if(null===e.p){e.p=[];var n=vo(e),r=po(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new io(n)),e.p.push(new io(hi.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new io(hi.keyField(),u))}}}return e.p}function mo(t){var e=Qr(t);if(!e.T)if("F"===e.limitType)e.T=Bi(e.path,e.collectionGroup,go(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=go(e);r<i.length;r++){var o=i[r];n.push(new io(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new no(e.endAt.position,!e.endAt.before):null,s=e.startAt?new no(e.startAt.position,!e.startAt.before):null;e.T=Bi(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function _o(t,e,n){return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bo(t,e){return Gi(mo(t),mo(e))&&t.limitType===e.limitType}function wo(t){return $i(mo(t))+"|lt:"+t.limitType}function ko(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Oi(e.value);var e}).join(", ")+"]"),wi(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ro(t.startAt)),t.endAt&&(e+=", endAt: "+ro(t.endAt)),"Target("+e+")"}(mo(t))+"; limitType="+t.limitType+")"}function Co(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ei.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ao(t.startAt,go(t),e)||t.endAt&&ao(t.endAt,go(t),e))}(t,e)}function Eo(t){return function(e,n){for(var r=!1,i=0,o=go(t);i<o.length;i++){var a=o[i],s=So(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function So(t,e,n){var r=t.field.isKeyField()?Ei.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?xi(r,i):Wr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Wr()}}function To(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ki(e)?"-0":e}}function Io(t){return{integerValue:""+t}}function xo(t,e){return Ci(e)?Io(e):To(t,e)}var Ao=function(){this._=void 0};function Oo(t,e,n){return t instanceof Do?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof No?Lo(t,e):t instanceof Fo?Zo(t,e):function(t,e){var n=Po(t,e),r=jo(n)+jo(t.A);return Di(n)&&Di(t.A)?Io(r):To(t.R,r)}(t,e)}function Ro(t,e,n){return t instanceof No?Lo(t,e):t instanceof Fo?Zo(t,e):n}function Po(t,e){return t instanceof Mo?Di(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Do=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e}(Ao),No=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,A.ZT)(e,t),e}(Ao);function Lo(t,e){for(var n=Uo(e),r=function(t){n.some(function(e){return Ti(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,A.ZT)(e,t),e}(Ao);function Zo(t,e){for(var n=Uo(e),r=function(t){n=n.filter(function(e){return!Ti(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Mo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,A.ZT)(e,t),e}(Ao);function jo(t){return yi(t.integerValue||t.doubleValue)}function Uo(t){return Ni(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Vo=function(t,e){this.field=t,this.transform=e},qo=function(t,e){this.version=t,this.transformResults=e},Bo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function $o(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Go=function(){};function zo(t,e,n){t instanceof Qo?function(t,e,n){var r=t.value.clone(),i=ta(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Jo?function(t,e,n){if($o(t.precondition,e)){var r=ta(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Xo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ho(t,e,n){t instanceof Qo?function(t,e,n){if($o(t.precondition,e)){var r=t.value.clone(),i=ea(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ko(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Jo?function(t,e,n){if($o(t.precondition,e)){var r=ea(t.fieldTransforms,n,e),i=e.data;i.setAll(Xo(t)),i.setAll(r),e.convertToFoundDocument(Ko(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){$o(t.precondition,e)&&e.convertToNoDocument(ii.min())}(t,e)}function Yo(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Po(o.transform,a||null);null!=s&&(null==n&&(n=ji.empty()),n.set(o.field,s))}return n||null}function Wo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ei(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof No&&e instanceof No||t instanceof Fo&&e instanceof Fo?ei(t.elements,e.elements,Ti):t instanceof Mo&&e instanceof Mo?Ti(t.A,e.A):t instanceof Do&&e instanceof Do}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ko(t){return t.isFoundDocument()?t.version:ii.min()}var Qo=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,A.ZT)(e,t),e}(Go),Jo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,A.ZT)(e,t),e}(Go);function Xo(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function ta(t,e,n){var r=new Map;Kr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Ro(a,s,n[i]))}return r}function ea(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Oo(s,u,e))}return r}var na,ra,ia=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,A.ZT)(e,t),e}(Go),oa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,A.ZT)(e,t),e}(Go),aa=function(t){this.count=t};function sa(t){switch(t){case Vr.OK:return Wr();case Vr.CANCELLED:case Vr.UNKNOWN:case Vr.DEADLINE_EXCEEDED:case Vr.RESOURCE_EXHAUSTED:case Vr.INTERNAL:case Vr.UNAVAILABLE:case Vr.UNAUTHENTICATED:return!1;case Vr.INVALID_ARGUMENT:case Vr.NOT_FOUND:case Vr.ALREADY_EXISTS:case Vr.PERMISSION_DENIED:case Vr.FAILED_PRECONDITION:case Vr.ABORTED:case Vr.OUT_OF_RANGE:case Vr.UNIMPLEMENTED:case Vr.DATA_LOSS:return!0;default:return Wr()}}function ua(t){if(void 0===t)return zr("GRPC error has no .code"),Vr.UNKNOWN;switch(t){case na.OK:return Vr.OK;case na.CANCELLED:return Vr.CANCELLED;case na.UNKNOWN:return Vr.UNKNOWN;case na.DEADLINE_EXCEEDED:return Vr.DEADLINE_EXCEEDED;case na.RESOURCE_EXHAUSTED:return Vr.RESOURCE_EXHAUSTED;case na.INTERNAL:return Vr.INTERNAL;case na.UNAVAILABLE:return Vr.UNAVAILABLE;case na.UNAUTHENTICATED:return Vr.UNAUTHENTICATED;case na.INVALID_ARGUMENT:return Vr.INVALID_ARGUMENT;case na.NOT_FOUND:return Vr.NOT_FOUND;case na.ALREADY_EXISTS:return Vr.ALREADY_EXISTS;case na.PERMISSION_DENIED:return Vr.PERMISSION_DENIED;case na.FAILED_PRECONDITION:return Vr.FAILED_PRECONDITION;case na.ABORTED:return Vr.ABORTED;case na.OUT_OF_RANGE:return Vr.OUT_OF_RANGE;case na.UNIMPLEMENTED:return Vr.UNIMPLEMENTED;case na.DATA_LOSS:return Vr.DATA_LOSS;default:return Wr()}}(ra=na||(na={}))[ra.OK=0]="OK",ra[ra.CANCELLED=1]="CANCELLED",ra[ra.UNKNOWN=2]="UNKNOWN",ra[ra.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ra[ra.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ra[ra.NOT_FOUND=5]="NOT_FOUND",ra[ra.ALREADY_EXISTS=6]="ALREADY_EXISTS",ra[ra.PERMISSION_DENIED=7]="PERMISSION_DENIED",ra[ra.UNAUTHENTICATED=16]="UNAUTHENTICATED",ra[ra.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ra[ra.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ra[ra.ABORTED=10]="ABORTED",ra[ra.OUT_OF_RANGE=11]="OUT_OF_RANGE",ra[ra.UNIMPLEMENTED=12]="UNIMPLEMENTED",ra[ra.INTERNAL=13]="INTERNAL",ra[ra.UNAVAILABLE=14]="UNAVAILABLE",ra[ra.DATA_LOSS=15]="DATA_LOSS";var ca=function(){function t(t,e){this.comparator=t,this.root=e||ha.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ha.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ha.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new la(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new la(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new la(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new la(this.root,t,this.comparator,!0)},t}(),la=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ha=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Wr();if(this.right.isRed())throw Wr();var t=this.left.check();if(t!==this.right.check())throw Wr();return t+(this.isRed()?0:1)},t}();ha.EMPTY=null,ha.RED=!0,ha.BLACK=!1,ha.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Wr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Wr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Wr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Wr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Wr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ha(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var fa=function(){function t(t){this.comparator=t,this.data=new ca(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new da(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new da(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),da=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),pa=new ca(Ei.comparator);function va(){return pa}var ya=new ca(Ei.comparator);function ga(){return ya}var ma=new ca(Ei.comparator);function _a(){return ma}var ba=new fa(Ei.comparator);function wa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ba,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ka=new fa(ti);function Ca(){return ka}var Ea=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Sa.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ii.min(),r,Ca(),va(),wa())},t}(),Sa=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(di.EMPTY_BYTE_STRING,n,wa(),wa(),wa())},t}(),Ta=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ia=function(t,e){this.targetId=t,this.V=e},xa=function(t,e,n,r){void 0===n&&(n=di.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Aa=function(){function t(){this.S=0,this.D=Pa(),this.C=di.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=wa(),e=wa(),n=wa();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Wr()}}),new Sa(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Pa()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Oa=function(){function t(t){this.W=t,this.G=new Map,this.H=va(),this.J=Ra(),this.Y=new fa(ti)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Wr()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(zi(i))if(0===n){var o=new Ei(i.path);this.tt(e,o,Vi.newNoDocument(o,ii.min()))}else Kr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&zi(o.target)){var a=new Ei(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Vi.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=wa();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ea(t,n,this.Y,this.H,r);return this.H=va(),this.J=Ra(),this.Y=new fa(ti),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Aa,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new fa(ti),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Gr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Aa),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ra(){return new ca(Ei.comparator)}function Pa(){return new ca(Ei.comparator)}var Da={asc:"ASCENDING",desc:"DESCENDING"},Na={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},La=function(t,e){this.databaseId=t,this.I=e};function Fa(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Za(t,e){return t.I?e.toBase64():e.toUint8Array()}function Ma(t,e){return Fa(t,e.toTimestamp())}function ja(t){return Kr(!!t),ii.fromTimestamp(function(t){var e=vi(t);return new ri(e.seconds,e.nanos)}(t))}function Ua(t,e){return function(t){return new ci(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Va(t){var e=ci.fromString(t);return Kr(hs(e)),e}function qa(t,e){return Ua(t.databaseId,e.path)}function Ba(t,e){var n=Va(e);if(n.get(1)!==t.databaseId.projectId)throw new qr(Vr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qr(Vr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ei(Ha(n))}function $a(t,e){return Ua(t.databaseId,e)}function Ga(t){var e=Va(t);return 4===e.length?ci.emptyPath():Ha(e)}function za(t){return new ci(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ha(t){return Kr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ya(t,e,n){return{name:qa(t,e),fields:n.value.mapValue.fields}}function Wa(t,e,n){var r=Ba(t,e.name),i=ja(e.updateTime),o=new ji({mapValue:{fields:e.fields}}),a=Vi.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ka(t,e){var n;if(e instanceof Qo)n={update:Ya(t,e.key,e.value)};else if(e instanceof ia)n={delete:qa(t,e.key)};else if(e instanceof Jo)n={update:Ya(t,e.key,e.data),updateMask:ls(e.fieldMask)};else{if(!(e instanceof oa))return Wr();n={verify:qa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Do)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof No)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Fo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Wr()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ma(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Wr()}(t,e.precondition)),n}function Qa(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Bo.updateTime(ja(t.updateTime)):void 0!==t.exists?Bo.exists(t.exists):Bo.none()}(e.currentDocument):Bo.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Kr("REQUEST_TIME"===e.setToServerValue),n=new Do):"appendMissingElements"in e?n=new No(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Fo(e.removeAllFromArray.values||[]):"increment"in e?n=new Mo(t,e.increment):Wr();var r=hi.fromServerFormat(e.fieldPath);return new Vo(r,n)}(t,e)}):[];if(e.update){var i=Ba(t,e.update.name),o=new ji({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new fi((t.fieldPaths||[]).map(function(t){return hi.fromServerFormat(t)}))}(e.updateMask);return new Jo(i,o,a,n,r)}return new Qo(i,o,n,r)}if(e.delete){var s=Ba(t,e.delete);return new ia(s,n)}if(e.verify){var u=Ba(t,e.verify);return new oa(u,n)}return Wr()}function Ja(t,e){return{documents:[$a(t,e.path)]}}function Xa(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$a(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$a(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Fi(t.value))return{unaryFilter:{field:as(t.field),op:"IS_NAN"}};if(Li(t.value))return{unaryFilter:{field:as(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Fi(t.value))return{unaryFilter:{field:as(t.field),op:"IS_NOT_NAN"}};if(Li(t.value))return{unaryFilter:{field:as(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(t.field),op:os(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:as(t.field),direction:is(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||wi(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=ns(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ns(e.endAt)),n}function ts(t){var e=Ga(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Kr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=es(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new io(ss(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return wi(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=rs(n.startAt));var l=null;return n.endAt&&(l=rs(n.endAt)),co(e,i,s,a,u,"F",c,l)}function es(t){return t?void 0!==t.unaryFilter?[cs(t)]:void 0!==t.fieldFilter?[us(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return es(t)}).reduce(function(t,e){return t.concat(e)}):Wr():[]}function ns(t){return{before:t.before,values:t.position}}function rs(t){return new no(t.values||[],!!t.before)}function is(t){return Da[t]}function os(t){return Na[t]}function as(t){return{fieldPath:t.canonicalString()}}function ss(t){return hi.fromServerFormat(t.fieldPath)}function us(t){return Hi.create(ss(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Wr()}}(t.fieldFilter.op),t.fieldFilter.value)}function cs(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ss(t.unaryFilter.field);return Hi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ss(t.unaryFilter.field);return Hi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ss(t.unaryFilter.field);return Hi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ss(t.unaryFilter.field);return Hi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Wr()}}function ls(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function hs(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function fs(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ps(e)),e=ds(t.get(n),e);return ps(e)}function ds(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ps(t){return t+"\x01\x01"}function vs(t){var e=t.length;if(Kr(e>=2),2===e)return Kr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ci.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Wr(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Wr()}o=a+2}return new ci(r)}var ys=function(t,e){this.seconds=t,this.nanoseconds=e},gs=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};gs.store="owner",gs.key="owner";var ms=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ms.store="mutationQueues",ms.keyPath="userId";var _s=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};_s.store="mutations",_s.keyPath="batchId",_s.userMutationsIndex="userMutationsIndex",_s.userMutationsKeyPath=["userId","batchId"];var bs=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,fs(e)]},t.key=function(t,e,n){return[t,fs(e),n]},t}();bs.store="documentMutations",bs.PLACEHOLDER=new bs;var ws=function(t,e){this.path=t,this.readTime=e},ks=function(t,e){this.path=t,this.version=e},Cs=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Cs.store="remoteDocuments",Cs.readTimeIndex="readTimeIndex",Cs.readTimeIndexPath="readTime",Cs.collectionReadTimeIndex="collectionReadTimeIndex",Cs.collectionReadTimeIndexPath=["parentPath","readTime"];var Es=function(t){this.byteSize=t};Es.store="remoteDocumentGlobal",Es.key="remoteDocumentGlobalKey";var Ss=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Ss.store="targets",Ss.keyPath="targetId",Ss.queryTargetsIndexName="queryTargetsIndex",Ss.queryTargetsKeyPath=["canonicalId","targetId"];var Ts=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ts.store="targetDocuments",Ts.keyPath=["targetId","path"],Ts.documentTargetsIndex="documentTargetsIndex",Ts.documentTargetsKeyPath=["path","targetId"];var Is=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Is.key="targetGlobalKey",Is.store="targetGlobal";var xs=function(t,e){this.collectionId=t,this.parent=e};xs.store="collectionParents",xs.keyPath=["collectionId","parent"];var As=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};As.store="clientMetadata",As.keyPath="clientId";var Os=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Os.store="bundles",Os.keyPath="bundleId";var Rs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Rs.store="namedQueries",Rs.keyPath="name";var Ps=(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],[ms.store,_s.store,bs.store,Cs.store,Ss.store,gs.store,Is.store,Ts.store]),[As.store])),[Es.store])),[xs.store])),[Os.store,Rs.store]),Ds="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ns=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Ls=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Fs=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Wr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Zs=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ls,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Us(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Gs(e.target.error);n.ft.reject(new Us(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Us(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Gr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new qs(e)},t}(),Ms=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,O.z$)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Gr("SimpleDb","Removing database:",t),Bs(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,O.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,A.mG)(this,void 0,void 0,function(){var e,n=this;return(0,A.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Gr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Us(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new qr(Vr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Us(t,n))},i.onupgradeneeded=function(t){Gr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Gr("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,A.mG)(this,void 0,void 0,function(){var i,o,a,s,u;return(0,A.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return(0,A.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=Zs.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),Fs.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Gr("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),js=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Bs(this.Pt.delete())},t}(),Us=function(t){function e(e,n){var r=this;return(r=t.call(this,Vr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,A.ZT)(e,t),e}(qr);function Vs(t){return"IndexedDbTransactionError"===t.name}var qs=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Gr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Gr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Bs(n)},t.prototype.add=function(t){return Gr("SimpleDb","ADD",this.store.name,t,t),Bs(this.store.add(t))},t.prototype.get=function(t){var e=this;return Bs(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Gr("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Gr("SimpleDb","DELETE",this.store.name,t),Bs(this.store.delete(t))},t.prototype.count=function(){return Gr("SimpleDb","COUNT",this.store.name),Bs(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Gr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Fs(function(n,r){e.onerror=function(t){var e=Gs(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Fs(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new js(i),a=e(i.primaryKey,i.value,o);if(a instanceof Fs){var s=a.catch(function(t){return o.done(),Fs.reject(t)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Fs.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Bs(t){return new Fs(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Gs(t.target.error);n(e)}})}var $s=!1;function Gs(t){var e=Ms._t((0,O.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new qr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $s||($s=!0,setTimeout(function(){throw r},0)),r}}return t}var zs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,A.ZT)(e,t),e}(Ns);function Hs(t,e){var n=Qr(t);return Ms.It(n.Mt,e)}var Ys=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&zo(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Ho(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Ho(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ii.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},wa())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ei(this.mutations,t.mutations,function(t,e){return Wo(t,e)})&&ei(this.baseMutations,t.baseMutations,function(t,e){return Wo(t,e)})},t}(),Ws=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Kr(e.mutations.length===r.length);for(var i=_a(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Ks=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ii.min()),void 0===o&&(o=ii.min()),void 0===a&&(a=di.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Qs=function(t){this.Lt=t};function Js(t,e){if(e.document)return Wa(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ei.fromSegments(e.noDocument.path),r=ru(e.noDocument.readTime),i=Vi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Ei.fromSegments(e.unknownDocument.path);return r=ru(e.unknownDocument.version),Vi.newUnknownDocument(o,r)}return Wr()}function Xs(t,e,n){var r=tu(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:qa(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Fa(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Cs(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=nu(e.version);return a=e.hasCommittedMutations,new Cs(null,new ws(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=nu(e.version);return new Cs(new ks(c,l),null,null,!0,r,i)}return Wr()}function tu(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function eu(t){var e=new ri(t[0],t[1]);return ii.fromTimestamp(e)}function nu(t){var e=t.toTimestamp();return new ys(e.seconds,e.nanoseconds)}function ru(t){var e=new ri(t.seconds,t.nanoseconds);return ii.fromTimestamp(e)}function iu(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Qa(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Qa(t.Lt,e)}),o=ri.fromMillis(e.localWriteTimeMs);return new Ys(e.batchId,o,n,i)}function ou(t){var e,n,r=ru(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ru(t.lastLimboFreeSnapshotVersion):ii.min();return void 0!==t.query.documents?(Kr(1===(n=t.query).documents.length),e=mo(lo(Ga(n.documents[0])))):e=function(t){return mo(ts(t))}(t.query),new Ks(e,t.targetId,0,t.lastListenSequenceNumber,r,i,di.fromBase64String(t.resumeToken))}function au(t,e){var n,r=nu(e.snapshotVersion),i=nu(e.lastLimboFreeSnapshotVersion);n=zi(e.target)?Ja(t.Lt,e.target):Xa(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Ss(e.targetId,$i(e.target),r,o,e.sequenceNumber,i,n)}function su(t){var e=ts({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_o(e,e.limit,"L"):e}var uu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return cu(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:ru(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return cu(t).put({bundleId:(n=e).id,createTime:nu(ja(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return lu(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:su(e.bundledQuery),readTime:ru(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return lu(t).put(function(t){return{name:t.name,readTime:nu(ja(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function cu(t){return Hs(t,Os.store)}function lu(t){return Hs(t,Rs.store)}var hu=function(){function t(){this.Bt=new fu}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Fs.resolve()},t.prototype.getCollectionParents=function(t,e){return Fs.resolve(this.Bt.getEntries(e))},t}(),fu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new fa(ci.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new fa(ci.comparator)).toArray()},t}(),du=function(){function t(){this.qt=new fu}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:fs(i)};return pu(t).put(o)}return Fs.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ni(e),""],!1,!0);return pu(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(vs(o.parent))}return n})},t}();function pu(t){return Hs(t,xs.store)}var vu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yu=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function gu(t,e,n){var r=t.store(_s.store),i=t.store(bs.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){Kr(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=bs.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Fs.waitFor(o).next(function(){return c})}function mu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Wr();e=t.noDocument}return JSON.stringify(e).length}yu.DEFAULT_COLLECTION_PERCENTILE=10,yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yu.DEFAULT=new yu(41943040,yu.DEFAULT_COLLECTION_PERCENTILE,yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yu.DISABLED=new yu(-1,0,0);var _u=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Kr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wu(t).$t({index:_s.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ku(t),a=wu(t);return a.add({}).next(function(s){Kr("number"==typeof s);for(var u=new Ys(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Ka(t.Lt,e)}),i=n.mutations.map(function(e){return Ka(t.Lt,e)});return new _s(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new fa(function(t,e){return ti(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],v=bs.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,bs.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[s]=u.keys()}),Fs.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return wu(t).get(e).next(function(t){return t?(Kr(t.userId===n.userId),iu(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Fs.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return wu(t).$t({index:_s.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Kr(e.batchId>=r),o=iu(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wu(t).$t({index:_s.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wu(t).Nt(_s.userMutationsIndex,n).next(function(t){return t.map(function(t){return iu(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=bs.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ku(t).$t({range:i},function(r,i,a){var s=r[0],u=r[2],c=vs(r[1]);if(s===n.userId&&e.path.isEqual(c))return wu(t).get(u).next(function(t){if(!t)throw Wr();Kr(t.userId===n.userId),o.push(iu(n.R,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new fa(ti),i=[];return e.forEach(function(e){var o=bs.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ku(t).$t({range:a},function(t,i,o){var a=t[0],s=t[2],u=vs(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Fs.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=bs.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new fa(ti);return ku(t).$t({range:a},function(t,e,o){var a=t[0],u=t[2],c=vs(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Wt(t,s)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(wu(t).get(e).next(function(t){if(null===t)throw Wr();Kr(t.userId===n.userId),r.push(iu(n.R,t))}))}),Fs.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return gu(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Fs.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Fs.resolve();var r=IDBKeyRange.lowerBound(bs.prefixForUser(e.userId)),i=[];return ku(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=vs(t[1]);i.push(o)}else r.done()}).next(function(){Kr(0===i.length)})})},t.prototype.containsKey=function(t,e){return bu(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Cu(t).get(this.userId).next(function(t){return t||new ms(e.userId,-1,"")})},t}();function bu(t,e,n){var r=bs.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ku(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function wu(t){return Hs(t,_s.store)}function ku(t){return Hs(t,bs.store)}function Cu(t){return Hs(t,ms.store)}var Eu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Su=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Eu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return ii.fromTimestamp(new ri(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Tu(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Kr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Tu(t).$t(function(a,s){var u=ou(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Fs.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Tu(t).$t(function(t,n){var r=ou(n);e(r)})},t.prototype.Xt=function(t){return Iu(t).get(Is.key).next(function(t){return Kr(null!==t),t})},t.prototype.Zt=function(t,e){return Iu(t).put(Is.key,e)},t.prototype.te=function(t,e){return Tu(t).put(au(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=$i(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Tu(t).$t({range:r,index:Ss.queryTargetsIndexName},function(t,n,r){var o=ou(n);Gi(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=xu(t);return e.forEach(function(e){var a=fs(e.path);i.push(o.put(new Ts(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),Fs.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=xu(t);return Fs.forEach(e,function(e){var o=fs(e.path);return Fs.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=xu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=xu(t),i=wa();return r.$t({range:n,kt:!0},function(t,e,n){var r=vs(t[1]),o=new Ei(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=fs(e.path),r=IDBKeyRange.bound([n],[ni(n)],!1,!0),i=0;return xu(t).$t({index:Ts.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Tu(t).get(e).next(function(t){return t?ou(t):null})},t}();function Tu(t){return Hs(t,Ss.store)}function Iu(t){return Hs(t,Is.store)}function xu(t){return Hs(t,Ts.store)}function Au(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){if(t.code!==Vr.FAILED_PRECONDITION||t.message!==Ds)throw t;return Gr("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Ou(t,e){var n=t[1],r=e[1],i=ti(t[0],e[0]);return 0===i?ti(n,r):i}var Ru=function(){function t(t){this.ne=t,this.buffer=new fa(Ou),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ou(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Pu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Gr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,A.mG)(e,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Vs(e=n.sent())?(Gr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Au(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Du=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Fs.resolve(Ur.o);var r=new Ru(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gr("LruGarbageCollector","Garbage collection skipped; disabled"),Fs.resolve(vu)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Gr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),vu):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Gr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),$r()<=R.in.DEBUG&&Gr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Fs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Nu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Du(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Lu(t,n)},t.prototype.removeReference=function(t,e,n){return Lu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Lu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Cu(t).Ot(function(r){return bu(t,r,e).next(function(t){return t&&(n=!0),Fs.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){if(s<=e){var u=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),xu(t).delete([0,fs(a.path)])})});i.push(u)}}).next(function(){return Fs.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Lu(t,e)},t.prototype.we=function(t,e){var n,r=xu(t),i=Ur.o;return r.$t({index:Ts.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Ur.o&&e(new Ei(vs(n)),i),i=a,n=o):i=Ur.o}).next(function(){i!==Ur.o&&e(new Ei(vs(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Lu(t,e){return xu(t).put(function(t,e){return new Ts(0,fs(t.path),e)}(e,t.currentSequenceNumber))}var Fu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ai(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return si(this.inner)},t}(),Zu=function(){function t(){this.changes=new Fu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ii.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Vi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Fs.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Mu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Vu(t).put(qu(e),n)},t.prototype.removeEntry=function(t,e){var n=Vu(t),r=qu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Vu(t).get(qu(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Vu(t).get(qu(e)).next(function(t){return{document:n.ye(e,t),size:mu(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=va();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=va(),i=new ca(Ei.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,mu(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Fs.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Vu(t).$t({range:r},function(t,e,r){for(var a=Ei.fromSegments(t);o&&Ei.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=va(),o=e.path.length+1,a={};if(n.isEqual(ii.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=tu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Cs.collectionReadTimeIndex}return Vu(t).$t(a,function(t,n,a){if(t.length===o){var s=Js(r.R,n);e.path.isPrefixOf(s.key.path)?Co(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ju(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Uu(t).get(Es.key).next(function(t){return Kr(!!t),t})},t.prototype.me=function(t,e){return Uu(t).put(Es.key,e)},t.prototype.ye=function(t,e){if(e){var n=Js(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ii.min()))return n}return Vi.newInvalidDocument(t)},t}(),ju=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Fu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,A.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new fa(function(t,e){return ti(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Xs(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=mu(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Xs(e.Ie.R,Vi.newNoDocument(o,ii.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Fs.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Zu);function Uu(t){return Hs(t,Es.store)}function Vu(t){return Hs(t,Cs.store)}function qu(t){return t.path.toArray()}var Bu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Kr(n<r&&n>=0&&r<=11);var o=new Zs("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(gs.store)}(t),function(t){t.createObjectStore(ms.store,{keyPath:ms.keyPath}),t.createObjectStore(_s.store,{keyPath:_s.keyPath,autoIncrement:!0}).createIndex(_s.userMutationsIndex,_s.userMutationsKeyPath,{unique:!0}),t.createObjectStore(bs.store)}(t),$u(t),function(t){t.createObjectStore(Cs.store)}(t));var a=Fs.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ts.store),t.deleteObjectStore(Ss.store),t.deleteObjectStore(Is.store)}(t),$u(t)),a=a.next(function(){return function(t){var e=t.store(Is.store),n=new Is(0,0,ii.min().toTimestamp(),0);return e.put(Is.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(_s.store).Nt().next(function(n){t.deleteObjectStore(_s.store),t.createObjectStore(_s.store,{keyPath:_s.keyPath,autoIncrement:!0}).createIndex(_s.userMutationsIndex,_s.userMutationsKeyPath,{unique:!0});var r=e.store(_s.store),i=n.map(function(t){return r.put(t)});return Fs.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(As.store,{keyPath:As.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Es.store)}(t),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Cs.store);e.createIndex(Cs.readTimeIndex,Cs.readTimeIndexPath,{unique:!1}),e.createIndex(Cs.collectionReadTimeIndex,Cs.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Os.store,{keyPath:Os.keyPath})}(t),function(t){t.createObjectStore(Rs.store,{keyPath:Rs.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(Cs.store).$t(function(t,n){e+=mu(n)}).next(function(){var n=new Es(e);return t.store(Es.store).put(Es.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(ms.store),r=t.store(_s.store);return n.Nt().next(function(n){return Fs.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(_s.userMutationsIndex,i).next(function(r){return Fs.forEach(r,function(r){Kr(r.userId===n.userId);var i=iu(e.R,r);return gu(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Ts.store),n=t.store(Cs.store);return t.store(Is.store).get(Is.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new ci(n),a=function(t){return[0,fs(t)]}(o);r.push(e.get(a).next(function(n){return n?Fs.resolve():function(n){return e.put(new Ts(0,fs(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Fs.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(xs.store,{keyPath:xs.keyPath});var n=e.store(xs.store),r=new fu,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:fs(i)})}};return e.store(Cs.store).$t({kt:!0},function(t,e){var n=new ci(t);return i(n.popLast())}).next(function(){return e.store(bs.store).$t({kt:!0},function(t,e){var n=vs(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Ss.store);return n.$t(function(t,r){var i=ou(r),o=au(e.R,i);return n.put(o)})},t}();function $u(t){t.createObjectStore(Ts.store,{keyPath:Ts.keyPath}).createIndex(Ts.documentTargetsIndex,Ts.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ss.store,{keyPath:Ss.keyPath}).createIndex(Ss.queryTargetsIndexName,Ss.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Is.store)}var Gu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zu=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new qr(Vr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nu(this,i),this.Le=n+"main",this.R=new Qs(u),this.Be=new Ms(this.Le,11,new Bu(this.R)),this.qe=new Su(this.referenceDelegate,this.R),this.Ut=new du,this.Ue=function(t,e){return new Mu(t,e)}(this.R,this.Ut),this.Ke=new uu,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new qr(Vr.FAILED_PRECONDITION,Gu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ur(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Yu(e).put(new As(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Vs(e))return Gr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Gr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Hu(t).get(gs.key).next(function(t){return Fs.resolve(e.tn(t))})},t.prototype.en=function(t){return Yu(t).delete(this.clientId)},t.prototype.nn=function(){return(0,A.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Hs(t,As.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Fs.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Fs.resolve(!0):Hu(t).get(gs.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new qr(Vr.FAILED_PRECONDITION,Gu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Yu(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Gr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,A.mG)(this,void 0,void 0,function(){var t=this;return(0,A.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[gs.store,As.store],function(e){var n=new zs(e,Ur.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Yu(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return _u.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Gr("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ps,function(o){return r=new zs(o,i.Ne?i.Ne.next():Ur.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw zr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new qr(Vr.FAILED_PRECONDITION,Ds);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Hu(t).get(gs.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new qr(Vr.FAILED_PRECONDITION,Gu)})},t.prototype.Ze=function(t){var e=new gs(this.clientId,this.allowTabSynchronization,Date.now());return Hu(t).put(gs.key,e)},t.yt=function(){return Ms.yt()},t.prototype.Xe=function(t){var e=this,n=Hu(t);return n.get(gs.key).next(function(t){return e.tn(t)?(Gr("IndexedDbPersistence","Releasing primary lease."),n.delete(gs.key)):Fs.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(zr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,O.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Gr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return zr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){zr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Hu(t){return Hs(t,gs.store)}function Yu(t){return Hs(t,As.store)}function Wu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ku=function(t,e){this.progress=t,this.wn=e},Qu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Ei.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):yo(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Ei(e)).next(function(t){var e=ga();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=ga();return this.Ut.getCollectionParents(t,i).next(function(a){return Fs.forEach(a,function(a){var s=function(t,e){return new uo(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Vi.newInvalidDocument(c),r=r.insert(c,l)),Ho(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Co(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=wa(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Jo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Ju=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=wa(),i=wa(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Xu=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ii.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(ho(e)||fo(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):($r()<=R.in.DEBUG&&Gr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ko(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new fa(Eo(t));return e.forEach(function(e,r){Co(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return $r()<=R.in.DEBUG&&Gr("QueryEngine","Using full collection scan to execute query:",ko(e)),this.Sn.getDocumentsMatchingQuery(t,e,ii.min())},t}(),tc=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ca(ti),this.kn=new Fu(function(t){return $i(t)},Gi),this.$n=ii.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Qu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function ec(t,e,n,r){return new tc(t,e,n,r)}function nc(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return n=Qr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Qu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=wa(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function rc(t,e){var n=Qr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Fs.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Kr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),a.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function ic(t){var e=Qr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function oc(t,e){var n=Qr(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Kr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}});var s=va();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(ac(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(ii.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return Fs.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,s)}).next(function(){return s})}).then(function(t){return n.Fn=i,t})}function ac(t,e,n,r,i){var o=wa();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=va();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ii.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Gr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function sc(t,e){var n=Qr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function uc(t,e){var n=Qr(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Fs.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Ks(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function cc(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r,i,o,a;return(0,A.Jh)(this,function(s){switch(s.label){case 0:r=Qr(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Vs(a=s.sent()))throw a;return Gr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function lc(t,e,n){var r=Qr(t),i=ii.min(),o=wa();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Qr(t),i=r.kn.get(n);return void 0!==i?Fs.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,mo(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ii.min(),n?o:wa())}).next(function(t){return{documents:t,Bn:o}})})}function hc(t,e){var n=Qr(t),r=Qr(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function fc(t){var e=Qr(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Qr(t),i=va(),o=tu(n),a=Vu(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Cs.readTimeIndex,range:s},function(t,e){var n=Js(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:eu(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function dc(t){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){return[2,(e=Qr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Vu(t),n=ii.min();return e.$t({index:Cs.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=eu(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function pc(t,e,n,r){return(0,A.mG)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:for(i=Qr(t),o=wa(),a=va(),s=_a(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,uc(i,function(t){return mo(lo(ci.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return ac(t,f,a,ii.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function vc(t,e,n){return void 0===n&&(n=wa()),(0,A.mG)(this,void 0,void 0,function(){var r,i;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return[4,uc(t,mo(su(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Qr(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=ja(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var a=r.withResumeToken(di.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var yc=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Fs.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:ja(n.createTime)}),Fs.resolve()},t.prototype.getNamedQuery=function(t,e){return Fs.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:su(t.bundledQuery),readTime:ja(t.readTime)}}(e)),Fs.resolve()},t}(),gc=function(){function t(){this.Wn=new fa(mc.Gn),this.zn=new fa(mc.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new mc(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new mc(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Ei(new ci([])),r=new mc(n,t),i=new mc(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Ei(new ci([])),n=new mc(e,t),r=new mc(e,t+1),i=wa();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new mc(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),mc=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Ei.comparator(t.key,e.key)||ti(t.ns,e.ns)},t.Hn=function(t,e){return ti(t.ns,e.ns)||Ei.comparator(t.key,e.key)},t}(),_c=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new fa(mc.Gn)}return t.prototype.checkEmpty=function(t){return Fs.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Ys(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new mc(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Fs.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Fs.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Fs.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Fs.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Fs.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new mc(e,0),i=new mc(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Fs.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new fa(ti);return e.forEach(function(t){var e=new mc(t,0),i=new mc(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Fs.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ei.isDocumentKey(i)||(i=i.child(""));var o=new mc(new Ei(i),0),a=new fa(ti);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)},o),Fs.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Kr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Fs.forEach(e.mutations,function(i){var o=new mc(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new mc(e,0),r=this.rs.firstAfterOrEqual(n);return Fs.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Fs.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),bc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ca(Ei.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Fs.resolve(n?n.document.clone():Vi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=va();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Vi.newInvalidDocument(t))}),Fs.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=va(),i=new Ei(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||Co(e,u)&&(r=r.insert(u.key,u.clone()))}return Fs.resolve(r)},t.prototype.fs=function(t,e){return Fs.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new wc(this)},t.prototype.getSize=function(t){return Fs.resolve(this.size)},t}(),wc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,A.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Fs.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Zu),kc=function(){function t(t){this.persistence=t,this.ds=new Fu(function(t){return $i(t)},Gi),this.lastRemoteSnapshotVersion=ii.min(),this.highestTargetId=0,this.ws=0,this._s=new gc,this.targetCount=0,this.ys=Eu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Fs.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Fs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Fs.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Fs.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Fs.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Eu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Fs.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Fs.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Fs.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Fs.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Fs.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Fs.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Fs.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Fs.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Fs.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Fs.resolve(n)},t.prototype.containsKey=function(t,e){return Fs.resolve(this._s.containsKey(e))},t}(),Cc=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ur(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new kc(this),this.Ut=new hu,this.Ue=function(t,e){return new bc(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Qs(e),this.Ke=new yc(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new _c(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Gr("MemoryPersistence","Starting transaction:",t);var i=new Ec(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Fs.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Ec=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,A.ZT)(e,t),e}(Ns),Sc=function(){function t(t){this.persistence=t,this.As=new gc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Wr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Fs.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Fs.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Fs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fs.forEach(this.vs,function(r){var i=Ei.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Fs.or([function(){return Fs.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Tc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Ic(t,e){return"firestore_clients_"+t+"_"+e}function xc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Ac(t,e){return"firestore_targets_"+t+"_"+e}Tc.UNAUTHENTICATED=new Tc(null),Tc.GOOGLE_CREDENTIALS=new Tc("google-credentials-uid"),Tc.FIRST_PARTY=new Tc("first-party-uid");var Oc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new qr(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(zr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Rc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new qr(i.error.code,i.error.message)),o?new t(e,i.state,r):(zr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Pc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ca(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ci(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(zr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Dc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(zr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Nc=function(){function t(){this.activeTargetIds=Ca()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Lc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ca(ti),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Ic(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Nc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,A.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return(0,A.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ic(this.persistenceKey,r)))&&(o=Pc.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Ac(this.persistenceKey,t));if(n){var r=Rc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Ac(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Gr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Gr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Gr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Gr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,A.mG)(e,void 0,void 0,function(){var t,e,r,i,o,a;return(0,A.Jh)(this,function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Ur.o;if(null!=t)try{var n=JSON.parse(t);Kr("number"==typeof n),e=n}catch(t){zr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ur.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Oc(this.currentUser,t,e,n),i=xc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=xc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Ac(this.persistenceKey,t),i=new Rc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Pc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Oc.Vs(new Tc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Rc.Vs(r,e)},t.prototype.js=function(t){return Dc.Vs(t)},t.prototype.ii=function(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Gr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ca();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Fc=function(){function t(){this.li=new Nc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Nc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Zc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Mc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Gr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Gr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),jc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Uc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Vc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,A.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var a=new jr;a.listenOnce(Lr.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Nr.NO_ERROR:var e=a.getResponseJson();Gr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Nr.TIMEOUT:Gr("Connection",'RPC "'+t+'" timed out'),o(new qr(Vr.DEADLINE_EXCEEDED,"Request time out"));break;case Nr.HTTP_ERROR:var n=a.getStatus();if(Gr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Vr).indexOf(e)>=0?e:Vr.UNKNOWN}(r.status);o(new qr(s,r.message))}else o(new qr(Vr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new qr(Vr.UNAVAILABLE,"Connection failed."));break;default:Wr()}}finally{Gr("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ar,i=ke(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Zr({})),this.Fi(o.initMessageHeaders,e),(0,O.uI)()||(0,O.b$)()||(0,O.d)()||(0,O.w1)()||(0,O.Mn)()||(0,O.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Gr("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Uc({Ei:function(t){c?Gr("Connection","Not sending because WebChannel is closed:",t):(u||(Gr("Connection","Opening WebChannel transport."),s.open(),u=!0),Gr("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s,Mr.EventType.OPEN,function(){c||Gr("Connection","WebChannel transport opened.")}),h(s,Mr.EventType.CLOSE,function(){c||(c=!0,Gr("Connection","WebChannel transport closed"),l.Vi())}),h(s,Mr.EventType.ERROR,function(t){c||(c=!0,Hr("Connection","WebChannel transport errored:",t),l.Vi(new qr(Vr.UNAVAILABLE,"The operation could not be completed")))}),h(s,Mr.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Kr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Gr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=na[t];if(void 0!==e)return ua(e)}(i),a=r.message;void 0===o&&(o=Vr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new qr(o,a)),s.close()}else Gr("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Fr.STAT_EVENT,function(t){10===t.stat?Gr("Connection","Detected buffering proxy"):11===t.stat&&Gr("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Gr("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Gr("RestConnection","Received: ",t),t},function(e){throw Hr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+jc[t]},t}());function qc(){return"undefined"!=typeof window?window:null}function Bc(){return"undefined"!=typeof document?document:null}function $c(t){return new La(t,!0)}var Gc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Gr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),zc=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Gc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Vr.RESOURCE_EXHAUSTED?(zr(e.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Vr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new qr(Vr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,A.mG)(t,void 0,void 0,function(){return(0,A.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Gr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Gr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Hc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,A.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Wr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Kr(void 0===e||"string"==typeof e),di.fromBase64String(e||"")):(Kr(void 0===e||e instanceof Uint8Array),di.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Vr.UNKNOWN:ua(t.code);return new qr(e,t.message||"")}(s);n=new xa(r,i,o,a||null)}else if("documentChange"in e){i=Ba(t,(r=e.documentChange).document.name),o=ja(r.document.updateTime);var s=new ji({mapValue:{fields:r.document.fields}}),u=(a=Vi.newFoundDocument(i,o,s),r.targetIds||[]);n=new Ta(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=Ba(t,(r=e.documentDelete).document),o=r.readTime?ja(r.readTime):ii.min(),s=Vi.newNoDocument(i,o),n=new Ta([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=Ba(t,(r=e.documentRemove).document),n=new Ta([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Wr();var c=e.filter;i=new aa(r=c.count||0),n=new Ia(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ii.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ii.min():e.readTime?ja(e.readTime):ii.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=za(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=zi(r)?{documents:Ja(t,r)}:{query:Xa(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Za(t,e.resumeToken):e.snapshotVersion.compareTo(ii.min())>0&&(n.readTime=Fa(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=za(this.R),e.removeTarget=t,this.cr(e)},e}(zc),Yc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,A.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Kr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Kr(void 0!==e),t.map(function(t){return function(t,e){var n=ja(t.updateTime?t.updateTime:e);return n.isEqual(ii.min())&&(n=ja(e)),new qo(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=ja(t.commitTime);return this.listener.Tr(n,e)}return Kr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=za(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ka(e.R,t)})};this.cr(n)},e}(zc),Wc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,A.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new qr(Vr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Vr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new qr(Vr.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Vr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new qr(Vr.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Kc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(zr(e),this.Vr=!1):Gr("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Qc=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,A.mG)(o,void 0,void 0,function(){return(0,A.Jh)(this,function(t){switch(t.label){case 0:return al(this)?(Gr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:return(e=Qr(t)).Or.add(4),[4,Xc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Jc(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Kc(n,r)};function Jc(t){return(0,A.mG)(this,void 0,void 0,function(){var e,n;return(0,A.Jh)(this,function(r){switch(r.label){case 0:if(!al(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Xc(t){return(0,A.mG)(this,void 0,void 0,function(){var e,n;return(0,A.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function tl(t,e){var n=Qr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),ol(n)?il(n):wl(n).er()&&nl(n,e))}function el(t,e){var n=Qr(t),r=wl(n);n.$r.delete(e),r.er()&&rl(n,e),0===n.$r.size&&(r.er()?r.ir():al(n)&&n.Br.set("Unknown"))}function nl(t,e){t.qr.U(e.targetId),wl(t).mr(e)}function rl(t,e){t.qr.U(e),wl(t).yr(e)}function il(t){t.qr=new Oa({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),wl(t).start(),t.Br.Sr()}function ol(t){return al(t)&&!wl(t).tr()&&t.$r.size>0}function al(t){return 0===Qr(t).Or.size}function sl(t){t.qr=void 0}function ul(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return t.$r.forEach(function(e,n){nl(t,e)}),[2]})})}function cl(t,e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(n){return sl(t),ol(t)?(t.Br.Nr(e),il(t)):t.Br.set("Unknown"),[2]})})}function ll(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r,i,o;return(0,A.Jh)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof xa&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,A.Jh)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Gr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,hl(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ta?t.qr.X(e):e instanceof Ia?t.qr.rt(e):t.qr.et(e),n.isEqual(ii.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,ic(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(di.EMPTY_BYTE_STRING,n.snapshotVersion)),rl(t,e);var r=new Ks(n.target,e,1,n.sequenceNumber);nl(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Gr("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,hl(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function hl(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r=this;return(0,A.Jh)(this,function(i){switch(i.label){case 0:if(!Vs(e))throw e;return t.Or.add(1),[4,Xc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return ic(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,A.mG)(r,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return Gr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Jc(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function fl(t,e){return e().catch(function(n){return hl(t,n,e)})}function dl(t){return(0,A.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,A.Jh)(this,function(a){switch(a.label){case 0:e=Qr(t),n=kl(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return al(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,sc(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=kl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,hl(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return pl(e)&&vl(e),[2]}})})}function pl(t){return al(t)&&!kl(t).tr()&&t.kr.length>0}function vl(t){kl(t).start()}function yl(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return kl(t).Ar(),[2]})})}function gl(t){return(0,A.mG)(this,void 0,void 0,function(){var e,n,r;return(0,A.Jh)(this,function(i){for(e=kl(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function ml(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r,i;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Ws.from(r,e,n),[4,fl(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,dl(t)];case 2:return o.sent(),[2]}})})}function _l(t,e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(n){switch(n.label){case 0:return e&&kl(t).pr?[4,function(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return sa(r=e.code)&&r!==Vr.ABORTED?(n=t.kr.shift(),kl(t).sr(),[4,fl(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,dl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return pl(t)&&vl(t),[2]}})})}function bl(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n;return(0,A.Jh)(this,function(r){switch(r.label){case 0:return n=Qr(t),e?(n.Or.delete(2),[4,Jc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Xc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function wl(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Qr(t);return r.br(),new Hc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ul.bind(null,t),Ri:cl.bind(null,t),_r:ll.bind(null,t)}),t.Mr.push(function(n){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),ol(t)?il(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),sl(t),e.label=3;case 3:return[2]}})})})),t.Ur}function kl(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Qr(t);return r.br(),new Yc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:yl.bind(null,t),Ri:_l.bind(null,t),Ir:gl.bind(null,t),Tr:ml.bind(null,t)}),t.Mr.push(function(n){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,dl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(Gr("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Cl=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qr(Vr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function El(t,e){if(zr("AsyncQueue",e+": "+t),Vs(t))return new qr(Vr.UNAVAILABLE,e+": "+t);throw t}var Sl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ei.comparator(e.key,n.key)}:function(t,e){return Ei.comparator(t.key,e.key)},this.keyedMap=ga(),this.sortedSet=new ca(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Tl=function(){function t(){this.Qr=new ca(Ei.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Wr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Il=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Sl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),xl=function(){this.Wr=void 0,this.listeners=[]},Al=function(){this.queries=new Fu(function(t){return wo(t)},bo),this.onlineState="Unknown",this.Gr=new Set};function Ol(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return(0,A.Jh)(this,function(c){switch(c.label){case 0:if(n=Qr(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new xl),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=El(s,"Initialization of query '"+ko(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Nl(n),[2]}})})}function Rl(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,A.Jh)(this,function(s){return n=Qr(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Pl(t,e){for(var n=Qr(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&Nl(n)}function Dl(t,e,n){var r=Qr(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Nl(t){t.Gr.forEach(function(t){t.next()})}var Ll=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Il(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Fl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Zl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ba(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Wa(this.R,t.document,!1):Vi.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return ja(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Zl(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||wa()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,A.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return[4,pc(this.localStore,new Zl(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,vc(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ku(Object.assign({},this.progress),t))]}})})}}();var Ml=function(t){this.key=t},jl=function(t){this.key=t},Ul=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=wa(),this.mutatedKeys=wa(),this.lo=Eo(t),this.fo=new Sl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Tl,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=ho(this.query)&&i.size===this.query.limit?i.last():null,c=fo(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Co(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),ho(this.query)||fo(this.query))for(;a.size>this.query.limit;){var l=ho(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Il(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Tl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=wa(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new jl(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Ml(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=wa();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Il.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Vl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ql=function(t){this.key=t,this.bo=!1},Bl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Fu(function(t){return wo(t)},bo),this.Vo=new Map,this.So=new Set,this.Do=new ca(Ei.comparator),this.Co=new Map,this.No=new gc,this.xo={},this.Fo=new Map,this.ko=Eu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function $l(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,A.Jh)(this,function(s){switch(s.label){case 0:return n=_h(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,uc(n.localStore,mo(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Gl(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&tl(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function Gl(t,e,n,r){return(0,A.mG)(this,void 0,void 0,function(){var i,o,a,s,u,c;return(0,A.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,A.mG)(this,void 0,void 0,function(){var i,o,a;return(0,A.Jh)(this,function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,lc(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(ih(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,lc(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Ul(e,i.Bn),a=o._o(i.documents),s=Sa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),ih(t,n,u.To),c=new Vl(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function zl(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return n=Qr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!bo(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,cc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),el(n.remoteStore,r.targetId),nh(n,r.targetId)}).catch(Au)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return nh(n,r.targetId),[4,cc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Hl(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r,i,o,a;return(0,A.Jh)(this,function(s){switch(s.label){case 0:r=bh(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Qr(t),i=ri.now(),o=e.reduce(function(t,e){return t.add(e.key)},wa());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Yo(c,n.get(c.key));null!=l&&a.push(new Jo(c.key,l,Ui(l.value.mapValue),Bo.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ca(ti)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,sh(r,i.changes)];case 3:return s.sent(),[4,dl(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=El(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Yl(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r;return(0,A.Jh)(this,function(i){switch(i.label){case 0:n=Qr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,oc(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Kr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Kr(r.bo):t.removedDocuments.size>0&&(Kr(r.bo),r.bo=!1))}),[4,sh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Au(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Wl(t,e,n){var r=Qr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Qr(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Nl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Kl(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r,i,o,a,s,u;return(0,A.Jh)(this,function(c){switch(c.label){case 0:return(r=Qr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new ca(Ei.comparator)).insert(o,Vi.newNoDocument(o,ii.min())),s=wa().add(o),u=new Ea(ii.min(),new Map,new fa(ti),a,s),[4,Yl(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),ah(r),[3,4];case 2:return[4,cc(r.localStore,e,!1).then(function(){return nh(r,e,n)}).catch(Au)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Ql(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i;return(0,A.Jh)(this,function(o){switch(o.label){case 0:n=Qr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,rc(n.localStore,e)];case 2:return i=o.sent(),eh(n,r,null),th(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,sh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Au(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Jl(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r,i;return(0,A.Jh)(this,function(o){switch(o.label){case 0:r=Qr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Qr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Kr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),eh(r,e,n),th(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,sh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Au(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Xl(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,A.Jh)(this,function(s){switch(s.label){case 0:al((n=Qr(t)).remoteStore)||Gr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Qr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=El(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function th(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function eh(t,e,n){var r=Qr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function nh(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||rh(t,e)})}function rh(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(el(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),ah(t))}function ih(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ml?(t.No.addReference(o.key,e),oh(t,o)):o instanceof jl?(Gr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||rh(t,o.key)):Wr()}}function oh(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Gr("SyncEngine","New document in limbo: "+n),t.So.add(r),ah(t))}function ah(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ei(ci.fromString(e)),r=t.ko.next();t.Co.set(r,new ql(n)),t.Do=t.Do.insert(n,r),tl(t.remoteStore,new Ks(mo(lo(n.path)),r,2,Ur.o))}}function sh(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r,i,o,a;return(0,A.Jh)(this,function(s){switch(s.label){case 0:return r=Qr(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,s){a.push(r.Oo(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ju.Pn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return(0,A.Jh)(this,function(l){switch(l.label){case 0:n=Qr(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Fs.forEach(e,function(e){return Fs.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Fs.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Vs(r=l.sent()))throw r;return Gr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function uh(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return(n=Qr(t)).currentUser.isEqual(e)?[3,3]:(Gr("SyncEngine","User change. New user:",e.toKey()),[4,nc(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new qr(Vr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,sh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ch(t,e){var n=Qr(t),r=n.Co.get(e);if(r&&r.bo)return wa().add(r.key);var i=wa(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function lh(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return[4,lc((n=Qr(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ih(n,e.targetId,i.To),i)]}})})}function hh(t){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){return[2,fc((e=Qr(t)).localStore).then(function(t){return sh(e,t)})]})})}function fh(t,e,n,r){return(0,A.mG)(this,void 0,void 0,function(){var i,o;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=Qr(t),r=Qr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Fs.resolve(null)})})}((i=Qr(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,dl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(eh(i,e,r||null),th(i,e),function(t,e){Qr(Qr(t)._n).Gt(e)}(i.localStore,e)):Wr(),a.label=4;case 4:return[4,sh(i,o)];case 5:return a.sent(),[3,7];case 6:Gr("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function dh(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return(0,A.Jh)(this,function(c){switch(c.label){case 0:return _h(n=Qr(t)),bh(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ph(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,bl(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)tl(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return nh(n,e),cc(n.localStore,e,!0)}),el(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,ph(n,s)];case 5:return c.sent(),function(t){var e=Qr(t);e.Co.forEach(function(t,n){el(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new ca(Ei.comparator)}(n),n.$o=!1,[4,bl(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ph(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return(0,A.Jh)(this,function(v){switch(v.label){case 0:n=Qr(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,uc(n.localStore,mo(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,lh(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,hc(n.localStore,s)];case 8:return p=v.sent(),[4,uc(n.localStore,p)];case 9:return u=v.sent(),[4,Gl(n,vh(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function vh(t){return co(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function yh(t){var e=Qr(t);return Qr(Qr(e.localStore).persistence).fn()}function gh(t,e,n,r){return(0,A.mG)(this,void 0,void 0,function(){var i,o,a;return(0,A.Jh)(this,function(s){switch(s.label){case 0:return(i=Qr(t)).$o?(Gr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,fc(i.localStore)];case 3:return o=s.sent(),a=Ea.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,sh(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,cc(i.localStore,e,!0)];case 6:return s.sent(),nh(i,e,r),[3,8];case 7:Wr(),s.label=8;case 8:return[2]}})})}function mh(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return(0,A.Jh)(this,function(f){switch(f.label){case 0:if(!(r=_h(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(Gr("SyncEngine","Adding an already active target "+a),[3,5]):[4,hc(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,uc(r.localStore,s)];case 3:return u=f.sent(),[4,Gl(r,vh(s),u.targetId,!1)];case 4:f.sent(),tl(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,cc(r.localStore,t,!1).then(function(){el(r.remoteStore,t),nh(r,t)}).catch(Au)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function _h(t){var e=Qr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ch.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kl.bind(null,e),e.vo._r=Pl.bind(null,e.eventManager),e.vo.Mo=Dl.bind(null,e.eventManager),e}function bh(t){var e=Qr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ql.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jl.bind(null,e),e}var wh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return this.R=$c(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return ec(this.persistence,new Xu,t.initialUser,this.R)},t.prototype.qo=function(t){return new Cc(Sc.bs,this.R)},t.prototype.Bo=function(t){return new Fc},t.prototype.terminate=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),kh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,A.ZT)(e,t),e.prototype.initialize=function(e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,dc(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,bh(this.Qo.syncEngine)];case 4:return n.sent(),[4,dl(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return ec(this.persistence,new Xu,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Pu(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Wu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yu.withCacheSize(this.cacheSizeBytes):yu.DEFAULT;return new zu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,qc(),Bc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Fc},e}(wh),Ch=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,A.ZT)(e,t),e.prototype.initialize=function(e){return(0,A.mG)(this,void 0,void 0,function(){var n,r=this;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Lc?(this.sharedClientState.syncEngine={ui:fh.bind(null,n),ai:gh.bind(null,n),hi:mh.bind(null,n),fn:yh.bind(null,n),ci:hh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,A.mG)(r,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return[4,dh(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=qc();if(!Lc.yt(e))throw new qr(Vr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Wu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Lc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(kh),Eh=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n=this;return(0,A.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Wl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uh.bind(null,this.syncEngine),[4,bl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Al},t.prototype.createDatastore=function(t){var e=$c(t.databaseInfo.databaseId),n=new Vc(t.databaseInfo);return function(t,e,n){return new Wc(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Wl(a.syncEngine,t,0)},o=Mc.yt()?new Mc:new Zc,new Qc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Bl(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:return e=Qr(t),Gr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Xc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Sh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Th=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ls,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,A.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Fl(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,A.mG)(this,void 0,void 0,function(){var t,e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,A.mG)(this,void 0,void 0,function(){var t,e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,A.mG)(this,void 0,void 0,function(){var e,n=this;return(0,A.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new qr(Vr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,A.Jh)(this,function(u){switch(u.label){case 0:return n=Qr(t),r=za(n.R)+"/documents",i={documents:e.map(function(t){return qa(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Kr(!!e.found);var n=Ba(t,e.found.name),r=ja(e.found.updateTime),i=new ji({mapValue:{fields:e.found.fields}});return Vi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Kr(!!e.missing),Kr(!!e.readTime);var n=Ba(t,e.missing),r=ja(e.readTime);return Vi.newNoDocument(n,r)}(t,e):Wr()}(n.R,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());Kr(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ia(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,A.mG)(this,void 0,void 0,function(){var t,e=this;return(0,A.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Ei.fromPath(n);e.mutations.push(new oa(r,e.precondition(r)))}),[4,function(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return n=Qr(t),r=za(n.R)+"/documents",i={writes:e.map(function(t){return Ka(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Wr();e=ii.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new qr(Vr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Bo.updateTime(e):Bo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ii.min()))throw new qr(Vr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bo.updateTime(e)}return Bo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Ih=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Gc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,A.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,A.Jh)(this,function(r){return t=new Th(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!wi(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!sa(e)}return!1},t}(),xh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Tc.UNAUTHENTICATED,this.clientId=Xr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,A.mG)(r,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return Gr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new qr(Vr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,A.mG)(t,void 0,void 0,function(){var t,n;return(0,A.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=El(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ah(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Gr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,A.mG)(i,void 0,void 0,function(){return(0,A.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,nc(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Oh(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Rh(t)];case 1:return n=i.sent(),Gr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,A.mG)(this,void 0,void 0,function(){var n,r;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return(n=Qr(t)).asyncQueue.verifyOperationInProgress(),Gr("RemoteStore","RemoteStore received new credentials"),r=al(n),n.Or.add(3),[4,Xc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Jc(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Rh(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Gr("FirestoreClient","Using default OfflineComponentProvider"),[4,Ah(t,new wh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Ph(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Gr("FirestoreClient","Using default OnlineComponentProvider"),[4,Oh(t,new Eh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Dh(t){return Rh(t).then(function(t){return t.persistence})}function Nh(t){return Rh(t).then(function(t){return t.localStore})}function Lh(t){return Ph(t).then(function(t){return t.remoteStore})}function Fh(t){return Ph(t).then(function(t){return t.syncEngine})}function Zh(t){return(0,A.mG)(this,void 0,void 0,function(){var e,n;return(0,A.Jh)(this,function(r){switch(r.label){case 0:return[4,Ph(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=$l.bind(null,e.syncEngine),n.onUnlisten=zl.bind(null,e.syncEngine),n)]}})})}function Mh(t,e,n){var r=this;void 0===n&&(n={});var i=new Ls;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(r,void 0,void 0,function(){var r;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Sh({next:function(o){e.enqueueAndForget(function(){return Rl(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new qr(Vr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new qr(Vr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Ll(lo(n.path),o,{includeMetadataChanges:!0,so:!0});return Ol(t,a)},[4,Zh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function jh(t,e,n){var r=this;void 0===n&&(n={});var i=new Ls;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(r,void 0,void 0,function(){var r;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Sh({next:function(n){e.enqueueAndForget(function(){return Rl(t,a)}),n.fromCache&&"server"===r.source?i.reject(new qr(Vr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Ll(n,o,{includeMetadataChanges:!0,so:!0});return Ol(t,a)},[4,Zh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Uh=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Vh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),qh=new Map,Bh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},$h=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Tc.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Gh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),zh=function(){function t(t){var e=this;this.currentUser=Tc.UNAUTHENTICATED,this.oc=new Ls,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Gr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Gr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Gr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Kr("string"==typeof n.accessToken),new Bh(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,A.mG)(n,void 0,void 0,function(){return(0,A.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Kr(null===t||"string"==typeof t),new Tc(t)},t}(),Hh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Tc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Yh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Hh(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Tc.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Wh(t,e,n){if(!n)throw new qr(Vr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Kh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qr(Vr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Qh(t,e,n,r){if(!0===e&&!0===r)throw new qr(Vr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Jh(t){if(!Ei.isDocumentKey(t))throw new qr(Vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Xh(t){if(Ei.isDocumentKey(t))throw new qr(Vr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function tf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Wr()}function ef(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qr(Vr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tf(t);throw new qr(Vr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function nf(t,e){if(e<=0)throw new qr(Vr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var rf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new qr(Vr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new qr(Vr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Qh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),of=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rf({}),this._settingsFrozen=!1,t instanceof Vh?(this._databaseId=t,this._credentials=new $h):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new qr(Vr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(t.options.projectId)}(t),this._credentials=new zh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new qr(Vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new qr(Vr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rf(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new $h;switch(t.type){case"gapi":var e=t.client;return Kr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Yh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new qr(Vr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=qh.get(this))&&(Gr("ComponentProvider","Removing Datastore"),qh.delete(this),t.terminate()),Promise.resolve();var t},t}(),af=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new uf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),sf=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),uf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,lo(r))||this)._path=r,i.type="collection",i}return(0,A.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new af(this.firestore,null,new Ei(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(sf);function cf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,O.m9)(t),Wh("collection","path",e),t instanceof of)return Xh(n=ci.fromString.apply(ci,(0,A.ev)([e],r))),new uf(t,null,n);if(!(t instanceof af||t instanceof uf))throw new qr(Vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xh(n=ci.fromString.apply(ci,(0,A.ev)([t.path],r)).child(ci.fromString(e))),new uf(t.firestore,null,n)}function lf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,O.m9)(t),1===arguments.length&&(e=Xr.u()),Wh("doc","path",e),t instanceof of)return Jh(n=ci.fromString.apply(ci,(0,A.ev)([e],r))),new af(t,null,new Ei(n));if(!(t instanceof af||t instanceof uf))throw new qr(Vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Jh(n=t._path.child(ci.fromString.apply(ci,(0,A.ev)([e],r)))),new af(t.firestore,t instanceof uf?t.converter:null,new Ei(n))}function hf(t,e){return t=(0,O.m9)(t),e=(0,O.m9)(e),(t instanceof af||t instanceof uf)&&(e instanceof af||e instanceof uf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ff(t,e){return t=(0,O.m9)(t),e=(0,O.m9)(e),t instanceof sf&&e instanceof sf&&t.firestore===e.firestore&&bo(t._query,e._query)&&t.converter===e.converter}var df=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Gc(this,"async_queue_retry"),this.Ic=function(){var e=Bc();e&&Gr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Bc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Bc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Ls;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,A.mG)(this,void 0,void 0,function(){var t,e=this;return(0,A.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Vs(t=n.sent()))throw t;return Gr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,zr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Cl.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Wr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,A.mG)(this,void 0,void 0,function(){var t;return(0,A.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function pf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ls,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var vf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new df,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,A.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||gf(this),this._firestoreClient.terminate()},e}(of);function yf(t){return t._firestoreClient||gf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Uh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new xh(t._credentials,t._queue,r)}function mf(t,e,n){var r=this,i=new Ls;return t.asyncQueue.enqueue(function(){return(0,A.mG)(r,void 0,void 0,function(){var r;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ah(t,n)];case 1:return o.sent(),[4,Oh(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Vr.FAILED_PRECONDITION||t.code===Vr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function _f(t){if(t._initialized||t._terminated)throw new qr(Vr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var bf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new qr(Vr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),wf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(di.fromBase64String(e))}catch(e){throw new qr(Vr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(di.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),kf=function(t){this._methodName=t},Cf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new qr(Vr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new qr(Vr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ti(this._lat,t._lat)||ti(this._long,t._long)},t}(),Ef=/^__.*__$/,Sf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Jo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Qo(t,this.data,e,this.fieldTransforms)},t}(),Tf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Jo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function If(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wr()}}var xf=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return Yf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(If(this.Nc)&&Ef.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Af=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||$c(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new xf({Nc:t,methodName:e,qc:n,path:hi.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Of(t){var e=t._freezeSettings(),n=$c(t._databaseId);return new Af(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rf(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);$f("Data must be an object, but it was:",a,r);var s,u,c=qf(r,a);if(o.merge)s=new fi(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Gf(e,f[h],n);if(!a.contains(d))throw new qr(Vr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Wf(l,d)||l.push(d)}s=new fi(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new Sf(new ji(c),s,u)}var Pf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(kf);function Df(t,e,n){return new xf({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Nf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Vo(t.path,new Do)},e.prototype.isEqual=function(t){return t instanceof e},e}(kf),Lf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Df(this,t,!0),n=this.Kc.map(function(t){return Vf(t,e)}),r=new No(n);return new Vo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(kf),Ff=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Df(this,t,!0),n=this.Kc.map(function(t){return Vf(t,e)}),r=new Fo(n);return new Vo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(kf),Zf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new Mo(t.R,xo(t.R,this.Qc));return new Vo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(kf);function Mf(t,e,n,r){var i=t.Uc(1,e,n);$f("Data must be an object, but it was:",i,r);var o=[],a=ji.empty();ai(r,function(t,r){var s=Hf(e,t,n);r=(0,O.m9)(r);var u=i.Oc(s);if(r instanceof Pf)o.push(s);else{var c=Vf(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new fi(o);return new Tf(a,s,i.fieldTransforms)}function jf(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[Gf(e,r,n)],u=[i];if(o.length%2!=0)throw new qr(Vr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Gf(e,o[c])),u.push(o[c+1]);for(var l=[],h=ji.empty(),f=s.length-1;f>=0;--f)if(!Wf(l,s[f])){var d=s[f],p=u[f];p=(0,O.m9)(p);var v=a.Oc(d);if(p instanceof Pf)l.push(d);else{var y=Vf(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new fi(l);return new Tf(h,g,a.fieldTransforms)}function Uf(t,e,n,r){return void 0===r&&(r=!1),Vf(n,t.Uc(r?4:3,e))}function Vf(t,e){if(Bf(t=(0,O.m9)(t)))return $f("Unsupported field value:",e,t),qf(t,e);if(t instanceof kf)return function(t,e){if(!If(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Vf(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,O.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xo(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ri.fromDate(t);return{timestampValue:Fa(e.R,n)}}if(t instanceof ri)return n=new ri(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Fa(e.R,n)};if(t instanceof Cf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wf)return{bytesValue:Za(e.R,t._byteString)};if(t instanceof af){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ua(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+tf(t))}(t,e)}function qf(t,e){var n={};return si(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ai(t,function(t,r){var i=Vf(r,e.Fc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Bf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ri||t instanceof Cf||t instanceof wf||t instanceof af||t instanceof kf)}function $f(t,e,n){if(!Bf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=tf(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Gf(t,e,n){if((e=(0,O.m9)(e))instanceof bf)return e._internalPath;if("string"==typeof e)return Hf(t,e);throw Yf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var zf=new RegExp("[~\\*/\\[\\]]");function Hf(t,e,n){if(e.search(zf)>=0)throw Yf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(bf.bind.apply(bf,(0,A.ev)([void 0],e.split(".")))))._internalPath}catch(Yd){throw Yf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Yf(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new qr(Vr.INVALID_ARGUMENT,(s+=". ")+t+u)}function Wf(t,e){return t.some(function(t){return t.isEqual(e)})}var Kf=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new af(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Qf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Jf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Qf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Kf);function Jf(t,e){return"string"==typeof e?Hf(t,e):e instanceof bf?e._internalPath:e._delegate._internalPath}var Xf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),td=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,A.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Jf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Kf),ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(td),nd=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Xf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new ed(n._firestore,n._userDataWriter,r.key,r,new Xf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qr(Vr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new ed(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Xf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ed(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Xf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:rd(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function rd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wr()}}function id(t,e){return t instanceof td&&e instanceof td?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof nd&&e instanceof nd&&t._firestore===e._firestore&&ff(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function od(t){if(fo(t)&&0===t.explicitOrderBy.length)throw new qr(Vr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ad=function(){};function sd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var ud=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,A.ZT)(e,t),e.prototype._apply=function(t){var e=Of(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new qr(Vr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){vd(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(pd(r,t,l[c]));s={arrayValue:{values:u}}}else s=pd(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||vd(a,o),s=Uf(n,"where",a,"in"===o||"not-in"===o);var h=Hi.create(i,o,s);return function(t,e){if(e.g()){var n=vo(t);if(null!==n&&!n.isEqual(e.field))throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=po(t);null!==r&&yd(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new qr(Vr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new sf(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(ad),cd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,A.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new io(e,n);return function(t,e){if(null===po(t)){var n=vo(t);null!==n&&yd(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new sf(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new uo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(ad),ld=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,A.ZT)(e,t),e.prototype._apply=function(t){return new sf(t.firestore,t.converter,_o(t._query,this.Hc,this.Jc))},e}(ad),hd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,A.ZT)(e,t),e.prototype._apply=function(t){var e=dd(t,this.type,this.Yc,this.Xc);return new sf(t.firestore,t.converter,function(t,e){return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(ad),fd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,A.ZT)(e,t),e.prototype._apply=function(t){var e=dd(t,this.type,this.Yc,this.Xc);return new sf(t.firestore,t.converter,function(t,e){return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(ad);function dd(t,e,n,r){if(n[0]=(0,O.m9)(n[0]),n[0]instanceof Kf)return function(t,e,n,r,i){if(!r)throw new qr(Vr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=go(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Pi(e,r.key));else{var c=r.data.field(u.field);if(mi(c))throw new qr(Vr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new no(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Of(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new qr(Vr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!yo(t)&&-1!==c.indexOf("/"))throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ci.fromString(c));if(!Ei.isDocumentKey(l))throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ei(l);s.push(Pi(e,h))}else{var f=Uf(n,r,c);s.push(f)}}return new no(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function pd(t,e,n){if("string"==typeof(n=(0,O.m9)(n))){if(""===n)throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yo(e)&&-1!==n.indexOf("/"))throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ci.fromString(n));if(!Ei.isDocumentKey(r))throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Pi(t,new Ei(r))}if(n instanceof af)return Pi(t,n._key);throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+tf(n)+".")}function vd(t,e){if(!Array.isArray(t)||0===t.length)throw new qr(Vr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new qr(Vr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function yd(t,e,n){if(!n.isEqual(e))throw new qr(Vr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var gd=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Si(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(gi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Wr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ai(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Cf(yi(t.latitude),yi(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=_i(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(bi(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=vi(t);return new ri(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ci.fromString(t);Kr(hs(n));var r=new Vh(n.get(1),n.get(3)),i=new Ei(n.popFirst(5));return r.isEqual(e)||zr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function md(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _d=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,A.ZT)(e,t),e.prototype.convertBytes=function(t){return new wf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new af(this.firestore,null,e)},e}(gd),bd=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Of(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=wd(t,this._firestore),i=md(r.converter,e,n),o=Rf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Bo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=wd(t,this._firestore);return o="string"==typeof(e=(0,O.m9)(e))||e instanceof bf?jf(this._dataReader,"WriteBatch.update",a._key,e,n,r):Mf(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Bo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=wd(t,this._firestore);return this._mutations=this._mutations.concat(new ia(e._key,Bo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new qr(Vr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function wd(t,e){if((t=(0,O.m9)(t)).firestore!==e)throw new qr(Vr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var kd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,A.ZT)(e,t),e.prototype.convertBytes=function(t){return new wf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new af(this.firestore,null,e)},e}(gd);function Cd(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ef(t,af);var o=ef(t.firestore,vf),a=Of(o);return Sd(o,[("string"==typeof(e=(0,O.m9)(e))||e instanceof bf?jf(a,"updateDoc",t._key,e,n,r):Mf(a,"updateDoc",t._key,e)).toMutation(t._key,Bo.exists(!0))])}function Ed(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,O.m9)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||pf(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(pf(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof af)c=ef(t.firestore,vf),l=lo(t._key.path),u={next:function(e){i[s]&&i[s](Td(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=ef(t,sf);c=ef(d.firestore,vf),l=d._query;var p=new kd(c);u={next:function(t){i[s]&&i[s](new nd(c,p,d,t))},error:i[s+1],complete:i[s+2]},od(t._query)}return function(t,e,n,r){var i=this,o=new Sh(r),a=new Ll(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(i,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:return e=Ol,[4,Zh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(i,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:return e=Rl,[4,Zh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(yf(c),l,h,u)}function Sd(t,e){return function(t,e){var n=this,r=new Ls;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(n,void 0,void 0,function(){var n;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return n=Hl,[4,Fh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(yf(t),e)}function Td(t,e,n){var r=n.docs.get(e._key),i=new kd(t);return new td(t,i,e._key,r,new Xf(n.hasPendingWrites,n.fromCache),e.converter)}var Id=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,A.ZT)(e,t),e.prototype.get=function(e){var n=this,r=wd(e,this._firestore),i=new kd(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new td(n._firestore,i,r._key,t._document,new Xf(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Of(t)}return t.prototype.get=function(t){var e=this,n=wd(t,this._firestore),r=new _d(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Wr();var i=t[0];if(i.isFoundDocument())return new Kf(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Kf(e._firestore,r,n._key,null,n.converter);throw Wr()})},t.prototype.set=function(t,e,n){var r=wd(t,this._firestore),i=md(r.converter,e,n),o=Rf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=wd(t,this._firestore);return o="string"==typeof(e=(0,O.m9)(e))||e instanceof bf?jf(this._dataReader,"Transaction.update",a._key,e,n,r):Mf(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=wd(t,this._firestore);return this._transaction.delete(e._key),this},t}());function xd(){if("undefined"==typeof Uint8Array)throw new qr(Vr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ad(){if("undefined"==typeof atob)throw new qr(Vr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Od=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Ad(),new t(wf.fromBase64String(e))},t.fromUint8Array=function(e){return xd(),new t(wf.fromUint8Array(e))},t.prototype.toBase64=function(){return Ad(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return xd(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Rd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_f(t=ef(t,vf));var n=yf(t),r=t._freezeSettings(),i=new Eh;return mf(n,i,new kh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_f(t=ef(t,vf));var e=yf(t),n=t._freezeSettings(),r=new Eh;return mf(e,r,new Ch(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new qr(Vr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ls;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,A.mG)(e,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return Ms.yt()?[4,Ms.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Wu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Pd=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Vh||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Hr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=ef(t,of))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Hr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,O.Sg)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new qr(Vr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Gh(new Bh(o,new Tc(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,A.mG)(e,void 0,void 0,function(){var e,n;return(0,A.Jh)(this,function(r){switch(r.label){case 0:return[4,Dh(t)];case 1:return e=r.sent(),[4,Lh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Qr(t);return e.Or.delete(0),Jc(e)}(n))]}})})})}(yf(ef(this._delegate,vf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,A.mG)(e,void 0,void 0,function(){var e,n;return(0,A.Jh)(this,function(r){switch(r.label){case 0:return[4,Dh(t)];case 1:return e=r.sent(),[4,Lh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:return(e=Qr(t)).Or.add(0),[4,Xc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(yf(ef(this._delegate,vf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Qh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ls;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(e,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(r){switch(r.label){case 0:return e=Xl,[4,Fh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(yf(ef(this._delegate,vf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Sh(e);return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(n,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Qr(t).Gr.add(e),e.next()},[4,Zh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(n,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Qr(t).Gr.delete(e)},[4,Zh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(yf(t=ef(t,vf)),pf(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new qr(Vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new zd(this,cf(this._delegate,t))}catch(t){throw Md(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Zd(this,lf(this._delegate,t))}catch(t){throw Md(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Bd(this,function(t,e){if(t=ef(t,of),Wh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qr(Vr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new sf(t,null,function(t){return new uo(ci.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Md(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ls;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(n,void 0,void 0,function(){var n;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return Ph(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Ih(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(yf(t),function(n){return e(new Id(t,n))})}(this._delegate,function(n){return t(new Nd(e,n))})},t.prototype.batch=function(){var t=this;return yf(this._delegate),new Ld(new bd(this._delegate,function(e){return Sd(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new qr(Vr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new qr(Vr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Dd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,A.ZT)(e,t),e.prototype.convertBytes=function(t){return new Od(new wf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Zd.eu(e,this.firestore,null)},e}(gd),Nd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Dd(t)}return t.prototype.get=function(t){var e=this,n=Hd(t);return this._delegate.get(n).then(function(t){return new Vd(e._firestore,new td(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Hd(t);return n?(Kh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Hd(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,(0,A.ev)([a,e,n],i)),this},t.prototype.delete=function(t){var e=Hd(t);return this._delegate.delete(e),this},t}(),Ld=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Hd(t);return n?(Kh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Hd(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,(0,A.ev)([a,e,n],i)),this},t.prototype.delete=function(t){var e=Hd(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Fd=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new ed(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new qd(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Dd(e),n),i.set(n,o)),o},t}();Fd.su=new WeakMap;var Zd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Dd(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new qr(Vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new af(n._delegate,r,new Ei(e)))},t.eu=function(e,n,r){return new t(n,new af(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new zd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new zd(this.firestore,cf(this._delegate,t))}catch(t){throw Md(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,O.m9)(t))instanceof af&&hf(this._delegate,t)},t.prototype.set=function(t,e){e=Kh("DocumentReference.set",e);try{return function(t,e,n){t=ef(t,af);var r=ef(t.firestore,vf),i=md(t.converter,e,n);return Sd(r,[Rf(Of(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Bo.none())])}(this._delegate,t,e)}catch(t){throw Md(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Cd(this._delegate,t):Cd.apply(void 0,(0,A.ev)([this._delegate,t,e],n))}catch(t){throw Md(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Sd(ef((t=this._delegate).firestore,vf),[new ia(t._key,Bo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=jd(e),i=Ud(e,function(e){return new Vd(t.firestore,new td(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Ed(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ef(t,af);var e=ef(t.firestore,vf),n=yf(e),r=new kd(e);return function(t,e){var n=this,r=new Ls;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(n,void 0,void 0,function(){var n;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r,i;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Qr(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new qr(Vr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=El(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Nh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new td(e,r,t._key,n,new Xf(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ef(t,af);var e=ef(t.firestore,vf);return Mh(yf(e),t._key,{source:"server"}).then(function(n){return Td(e,t,n)})}(this._delegate):function(t){t=ef(t,af);var e=ef(t.firestore,vf);return Mh(yf(e),t._key).then(function(n){return Td(e,t,n)})}(this._delegate)).then(function(t){return new Vd(e.firestore,new td(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Fd.nu(this.firestore,e):null))},t}();function Md(t,e,n){return t.message=t.message.replace(e,n),t}function jd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!pf(r))return r}return{}}function Ud(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=pf(t[0])?t[0]:pf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Vd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Zd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return id(this._delegate,t._delegate)},t}(),qd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Vd),Bd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Dd(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,sd(this._delegate,function(t,e,n){var r=e,i=Jf("where",t);return new ud(i,r,n)}(e,n,r)))}catch(e){throw Md(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,sd(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Jf("orderBy",t);return new cd(r,n)}(e,n)))}catch(e){throw Md(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,sd(this._delegate,function(t){return nf("limit",t),new ld("limit",t,"F")}(e)))}catch(e){throw Md(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,sd(this._delegate,function(t){return nf("limitToLast",t),new ld("limitToLast",t,"L")}(e)))}catch(e){throw Md(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,sd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hd("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Md(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,sd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hd("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Md(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,sd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fd("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Md(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,sd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fd("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Md(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return ff(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ef(t,sf);var e=ef(t.firestore,vf),n=yf(e),r=new kd(e);return function(t,e){var n=this,r=new Ls;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(n,void 0,void 0,function(){var n;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,A.mG)(this,void 0,void 0,function(){var r,i,o,a,s;return(0,A.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,lc(t,e,!0)];case 1:return s=u.sent(),r=new Ul(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=El(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,Nh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new nd(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ef(t,sf);var e=ef(t.firestore,vf),n=yf(e),r=new kd(e);return jh(n,t._query,{source:"server"}).then(function(n){return new nd(e,r,t,n)})}(this._delegate):function(t){t=ef(t,sf);var e=ef(t.firestore,vf),n=yf(e),r=new kd(e);return od(t._query),jh(n,t._query).then(function(n){return new nd(e,r,t,n)})}(this._delegate)).then(function(t){return new Gd(e.firestore,new nd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=jd(e),i=Ud(e,function(e){return new Gd(t.firestore,new nd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Ed(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Fd.nu(this.firestore,e):null))},t}(),$d=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new qd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Gd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Bd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new qd(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new $d(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new qd(n._firestore,r))})},t.prototype.isEqual=function(t){return id(this._delegate,t._delegate)},t}(),zd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,A.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Zd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Zd(this.firestore,void 0===t?lf(this._delegate):lf(this._delegate,t))}catch(t){throw Md(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ef(t.firestore,vf),r=lf(t),i=md(t.converter,e);return Sd(n,[Rf(Of(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Bo.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Zd(e.firestore,t)})},e.prototype.isEqual=function(t){return hf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Fd.nu(this.firestore,t):null))},e}(Bd);function Hd(t){return ef(t,af)}var Yd,Wd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(bf.bind.apply(bf,(0,A.ev)([void 0],t)))}return t.documentId=function(){return new t(hi.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,O.m9)(t))instanceof bf&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Kd=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Nf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Pf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lf("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ff("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Zf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Qd=n(5119),Jd={Firestore:Pd,GeoPoint:Cf,Timestamp:ri,Blob:Od,Transaction:Nd,WriteBatch:Ld,DocumentReference:Zd,DocumentSnapshot:Vd,Query:Bd,QueryDocumentSnapshot:qd,QuerySnapshot:Gd,CollectionReference:zd,FieldPath:Wd,FieldValue:Kd,setLogLevel:function(t){Br.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Qd.wA("firestore",function(t){return function(t,e){return new Pd(t,new vf(t,e),new Rd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Jd)))})(Yd=x.Z),Yd.registerVersion("@firebase/firestore","2.3.9");var Xd=n(5912);function tp(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.z;return new l.y(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function ep(t,e){return tp(t,e).pipe((0,b.U)(function(t){return{payload:t,type:"query"}}))}function np(t,e){return ep(t,e).pipe((0,_.O)(void 0),y(),(0,b.U)(function(t){var e=(0,s.Z)(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map(function(t){return{type:t.type,payload:t}});return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach(function(t,e){var r=i.find(function(e){return e.doc.ref.isEqual(t.ref)}),a=null==n?void 0:n.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),o}))}function rp(t,e,n){return np(t,n).pipe((0,w.R)(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return ip(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ip(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ip(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),(0,k.x)(),(0,b.U)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function ip(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function op(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var ap=function(){function t(e,n,r){(0,o.Z)(this,t),this.ref=e,this.query=n,this.afs=r}return(0,a.Z)(t,[{key:"stateChanges",value:function(t){var e=np(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,b.U)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),e.pipe((0,_.O)(void 0),y(),(0,C.h)(function(t){var e=(0,s.Z)(t,2);return e[1].length>0||!e[0]}),(0,b.U)(function(t){return(0,s.Z)(t,2)[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe((0,w.R)(function(t,e){return[].concat((0,i.Z)(t),(0,i.Z)(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=op(t);return rp(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ep(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(function(e){return e.payload.docs.map(function(e){return t.idField?Object.assign(Object.assign({},e.data()),(0,r.Z)({},t.idField,e.id)):e.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return(0,h.D)(this.query.get(t)).pipe((0,E.QV)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new sp(this.ref.doc(t),this.afs)}}]),t}(),sp=function(){function t(e,n){(0,o.Z)(this,t),this.ref=e,this.afs=n}return(0,a.Z)(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=dp(this.ref.collection(t),e);return new ap(n.ref,n.query,this.afs)}},{key:"snapshotChanges",value:function(){return tp(this.ref,this.afs.schedulers.outsideAngular).pipe((0,_.O)(void 0),y(),(0,b.U)(function(t){var e=(0,s.Z)(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe((0,b.U)(function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),(0,r.Z)({},t.idField,n.id)):n.data()}))}},{key:"get",value:function(t){return(0,h.D)(this.ref.get(t)).pipe((0,E.QV)(this.afs.schedulers.insideAngular))}}]),t}(),up=function(){function t(e,n){(0,o.Z)(this,t),this.query=e,this.afs=n}return(0,a.Z)(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?np(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),(0,C.h)(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):np(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe((0,w.R)(function(t,e){return[].concat((0,i.Z)(t),(0,i.Z)(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=op(t);return rp(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ep(this.query,this.afs.schedulers.outsideAngular);return e.pipe((0,b.U)(function(e){return e.payload.docs.map(function(e){return t.idField?Object.assign((0,r.Z)({},t.idField,e.id),e.data()):e.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return(0,h.D)(this.query.get(t)).pipe((0,E.QV)(this.afs.schedulers.insideAngular))}}]),t}(),cp=new u.OlP("angularfire2.enableFirestorePersistence"),lp=new u.OlP("angularfire2.firestore.persistenceSettings"),hp=new u.OlP("angularfire2.firestore.settings"),fp=new u.OlP("angularfire2.firestore.use-emulator");function dp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=e(t);return{query:n,ref:t}}var pp=function(){var t=function(){function t(e,n,r,a,u,c,l,d,p){(0,o.Z)(this,t),this.schedulers=new S.HU(c),this.keepUnstableUntilFirst=(0,S.ss)(this.schedulers);var v=(0,S.on)(e,c,n);!I.Z.auth&&p&&(0,S.yq)();var y=d,g=(0,S.sI)("".concat(v.name,".firestore"),"AngularFirestore",v,function(){var t=c.runOutsideAngular(function(){return v.firestore()});return a&&t.settings(a),y&&t.useEmulator.apply(t,(0,i.Z)(y)),r&&!(0,T.PM)(u)?[t,c.runOutsideAngular(function(){try{return(0,h.D)(t.enablePersistence(l||void 0).then(function(){return!0},function(){return!1}))}catch(Yd){return"undefined"!=typeof console&&console.warn(Yd),(0,f.of)(!1)}})]:[t,(0,f.of)(!1)]},[a,y,r]),m=(0,s.Z)(g,2);this.firestore=m[0],this.persistenceEnabled$=m[1]}return(0,a.Z)(t,[{key:"collection",value:function(t,e){var n=dp("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new ap(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new up(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new sp(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(S.Dh),u.LFG(S.xv,8),u.LFG(cp,8),u.LFG(hp,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(lp,8),u.LFG(fp,8),u.LFG(Xd.Qv,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(S.Dh),u.LFG(S.xv,8),u.LFG(cp,8),u.LFG(hp,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(lp,8),u.LFG(fp,8),u.LFG(Xd.Qv,8))},token:t,providedIn:"any"}),t}(),vp=function(){var t=function(){function t(){(0,o.Z)(this,t)}return(0,a.Z)(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:cp,useValue:!0},{provide:lp,useValue:e}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[pp]}),t}()},80:function(t,e,n){"use strict";n.d(e,{Q1:function(){return Wt},TE:function(){return Qt}});var r=n(1112),i=n(1998),o=n(8318),a=n(878),s=n(9764),u=n(8784),c=n(4999),l=n(6673),h=n(8569),f=function(){function t(e,n){(0,r.Z)(this,t),this.dueTime=e,this.scheduler=n}return(0,i.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.dueTime,this.scheduler))}}]),t}(),d=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,i,o){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).dueTime=i,a.scheduler=o,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return(0,i.Z)(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(l.L);function p(t){t.debouncedNext()}var v=n(9996),y=n(9098),g=n(4689),m=n(5366),_=n(2346),b=n(1062),w=n(4762),k=n(250),C=n(5119),E="firebasestorage.googleapis.com",S=function(t){function e(n,r){var i=t.call(this,T(n),"Firebase Storage: "+r+" ("+T(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,w.ZT)(e,t),e.prototype._codeEquals=function(t){return T(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(k.ZR);function T(t){return"storage/"+t}function I(){return new S("unknown","An unknown error occurred, please check the error payload for server response.")}function x(){return new S("canceled","User canceled the upload/download.")}function A(){return new S("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function O(t){return new S("invalid-argument",t)}function R(){return new S("app-deleted","The Firebase app was deleted.")}function P(t){return new S("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function D(t,e){return new S("invalid-format","String does not match format '"+t+"': "+e)}function N(t){throw new S("internal-error","Internal error: "+t)}var L={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},F=function(t,e){this.data=t,this.contentType=e||null};function Z(t,e){switch(t){case L.RAW:return new F(M(e));case L.BASE64:case L.BASE64URL:return new F(j(t,e));case L.DATA_URL:return new F((n=new U(e)).base64?j(L.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw D(L.DATA_URL,"Malformed data URL.")}return M(e)}(n.rest),new U(e).contentType)}var n;throw I()}function M(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function j(t,e){switch(t){case L.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw D(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case L.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw D(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(c){throw D(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var U=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw D(L.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)},V={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function q(t){switch(t){case"running":case"pausing":case"canceling":return V.RUNNING;case"paused":return V.PAUSED;case"success":return V.SUCCESS;case"canceled":return V.CANCELED;case"error":default:return V.ERROR}}var B=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),$=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=B.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=B.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=B.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw N("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw N("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw N("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw N("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),G=function(){function t(){}return t.prototype.createConnection=function(){return new $},t}(),z=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw new S("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===E?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var f=h[l.indices.path];f||(f=""),r=new t(h[l.indices.bucket],f),l.postModify(r);break}}if(null==r)throw function(t){return new S("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),H=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Y(t){return"string"==typeof t||t instanceof String}function W(t){return K()&&t instanceof Blob}function K(){return"undefined"!=typeof Blob}function Q(t,e,n,r){if(r<e)throw O("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw O("Invalid value for '"+t+"'. Expected "+n+" or less.")}function J(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function X(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var tt=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(u){o(u)}else null!==a?((r=I()).serverResponse=a.getResponseText(),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?R():x():new S("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new et(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new et(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===B.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new et(a,r))}else{var s=r.getErrorCode()===B.ABORT;e(!1,new et(!1,null,s))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,w.ev)([null,t],e));else{var r;u()||a?l.call.apply(l,(0,w.ev)([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout(function(){a=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),et=function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n};function nt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=nt();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(K())return new Blob(t);throw new S("unsupported-environment","This browser doesn't seem to support creating Blobs")}var it=function(){function t(t,e){var n=0,r="";W(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(W(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(K()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(rt.apply(null,r))}var i=e.map(function(t){return Y(t)?Z(L.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function ot(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function at(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function st(t,e){return e}var ut=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||st},ct=null;function lt(){if(ct)return ct;var t=[];t.push(new ut("bucket")),t.push(new ut("generation")),t.push(new ut("metageneration")),t.push(new ut("name","fullPath",!0));var e=new ut("name");e.xform=function(t,e){return function(t){return!Y(t)||t.length<2?t:at(t)}(e)},t.push(e);var n=new ut("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new ut("timeCreated")),t.push(new ut("updated")),t.push(new ut("md5Hash",null,!0)),t.push(new ut("cacheControl",null,!0)),t.push(new ut("contentDisposition",null,!0)),t.push(new ut("contentEncoding",null,!0)),t.push(new ut("contentLanguage",null,!0)),t.push(new ut("contentType",null,!0)),t.push(new ut("metadata","customMetadata",!0)),ct=t}function ht(t,e,n){var r=ot(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new z(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function ft(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var dt=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function pt(t){if(!t)throw I()}function vt(t,e){return function(n,r){var i=ht(t,r,e);return pt(null!==i),i}}function yt(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new S("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new S("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new S("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new S("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function gt(t){var e=yt(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new S("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function mt(t,e,n){var r=J(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new dt(r,"GET",vt(t,n),i);return o.errorHandler=gt(e),o}function _t(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var bt=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function wt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){pt(!1)}return pt(!!n&&-1!==(e||["active"]).indexOf(n)),n}var kt=262144,Ct=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Et(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var St=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=lt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=_t(e,r,i),s={name:a.fullPath},u=J(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=ft(a,n),h=new dt(u,"POST",function(t){var e;wt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){pt(!1)}return pt(Y(e)),e},t.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=yt(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new dt(n,"POST",function(t){var e=wt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){pt(!1)}n||pt(!1);var i=Number(n);return pt(!isNaN(i)),new bt(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=yt(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=kt*this._chunkMultiplier,n=new bt(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var a;try{a=function(t,e,n,r,i,o,a,s){var u=new bt(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new S("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},d=r.slice(h,h+l);if(null===d)throw A();var p=new dt(n,"POST",function(t,n){var i,a=wt(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?vt(e,o)(t,n):null,new bt(s,c,"final"===a,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=s||null,p.errorHandler=yt(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(u){return t._error=u,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){kt*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=mt(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=_t(e,r,i),c=ft(u,n),l=it.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw A();var h={name:u.fullPath},f=J(o,t.host),d=t.maxUploadRetryTime,p=new dt(f,"POST",vt(t,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=yt(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=x(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=q(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Ct(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(q(this._state)){case V.SUCCESS:Et(this._resolve.bind(null,this.snapshot))();break;case V.CANCELED:case V.ERROR:Et(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(q(this._state)){case V.RUNNING:case V.PAUSED:t.next&&Et(t.next.bind(t,this.snapshot))();break;case V.SUCCESS:t.complete&&Et(t.complete.bind(t))();break;case V.CANCELED:case V.ERROR:t.error&&Et(t.error.bind(t,this._error))();break;default:t.error&&Et(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Tt=function(){function t(t,e){this._service=t,this._location=e instanceof z?e:z.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new z(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return at(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new z(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw P(t)},t}();function It(t){var e={prefixes:[],items:[]};return xt(t,e).then(function(){return e})}function xt(t,e,n){return(0,w.mG)(this,void 0,void 0,function(){var r,i,o;return(0,w.Jh)(this,function(a){switch(a.label){case 0:return[4,At(t,{pageToken:n})];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,xt(t,e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function At(t,e){return(0,w.mG)(this,void 0,void 0,function(){var n,r;return(0,w.Jh)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Q("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=J(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new dt(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=ot(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new z(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=t._makeStorageReference(new z(e,c[u].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return pt(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=yt(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function Ot(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new z(t._location.bucket,n);return new Tt(t.storage,r)}function Rt(t){return/^[A-Za-z]+:\/\//.test(t)}function Pt(t,e){if(t instanceof Lt){var n=t;if(null==n._bucket)throw new S("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Tt(n,n._bucket);return null!=e?Pt(r,e):r}if(void 0!==e){if(e.includes(".."))throw O('`path` param cannot contain ".."');return Ot(t,e)}return t}function Dt(t,e){if(e&&Rt(e)){if(t instanceof Lt)return new Tt(t,e);throw O("To use ref(service, url), the first argument must be a Storage instance.")}return Pt(t,e)}function Nt(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:z.makeFromBucketSpec(n,t)}var Lt=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=E,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?z.makeFromBucketSpec(i,this._host):Nt(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?z.makeFromBucketSpec(this._url,t):Nt(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Q("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Q("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,w.mG)(this,void 0,void 0,function(){var t,e;return(0,w.Jh)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,w.mG)(this,void 0,void 0,function(){var t;return(0,w.Jh)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Tt(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new H(R());var i=function(t,e,n,r,i,o){var a=X(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new tt(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return(0,w.mG)(this,void 0,void 0,function(){var e;return(0,w.Jh)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function Ft(t,e){return Dt(t=(0,k.m9)(t),e)}var Zt,Mt,jt=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Ut=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new jt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new jt(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new jt(t,i,i._ref))}:{next:e.next?function(t){return e.next(new jt(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Vt=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new qt(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new qt(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),qt=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Ot(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Ut(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new St(t,new it(e),n)}(t=(0,k.m9)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=L.RAW),this._throwIfRoot("putString");var r=Z(e,t),i=(0,w.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Ut(new St(this._delegate,new it(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return function(t){return It(t=(0,k.m9)(t))}(this._delegate).then(function(e){return new Vt(e,t.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return At(t=(0,k.m9)(t),e)}(this._delegate,t||void 0).then(function(t){return new Vt(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,w.mG)(this,void 0,void 0,function(){var e;return(0,w.Jh)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=mt(t.storage,t._location,lt()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,k.m9)(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return(0,w.mG)(this,void 0,void 0,function(){var n;return(0,w.Jh)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=J(e.fullServerUrl(),t.host),o=ft(n,r),a=t.maxOperationRetryTime,s=new dt(i,"PATCH",vt(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=gt(e),s}(t.storage,t._location,e,lt()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,k.m9)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return function(t){return(0,w.mG)(this,void 0,void 0,function(){var e;return(0,w.Jh)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=J(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new dt(r,"GET",function(t,e){return function(n,r){var i=ht(t,r,e);return pt(null!==i),function(t,e,n){var r=ot(e);if(null===r)return null;if(!Y(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return J("/b/"+o(t.bucket)+"/o/"+o(r),n)+X({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=gt(e),o}(t.storage,t._location,lt()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new S("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=(0,k.m9)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,w.mG)(this,void 0,void 0,function(){var e;return(0,w.Jh)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=J(e.fullServerUrl(),t.host),r=new dt(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=gt(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,k.m9)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw P(t)},t}(),Bt=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Rt(t))throw O("ref() expected a child path but got a URL, use refFromURL instead.");return new qt(Ft(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Rt(t))throw O("refFromURL() expected a full URL but got a child path, use ref() instead.");try{z.makeFromUrl(t,this._delegate.host)}catch(e){throw O("refFromUrl() expected a valid full URL but got an invalid one.")}return new qt(Ft(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function $t(t){var e=function(t){return new o.y(function(e){var n=function(t){return e.next(t)};n(t.snapshot);var r=t.on("state_changed",n);return t.then(function(t){n(t),e.complete()},function(r){n(t.snapshot),function(t){e.error(t)}(r)}),function(){r()}}).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.P;return function(n){return n.lift(new f(t,e))}}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe((0,v.U)(function(t){return t.bytesTransferred/t.totalBytes*100}))}}}function Gt(t,e,n){return{getDownloadURL:function(){return(0,a.of)(void 0).pipe((0,y.QV)(e.outsideAngular),(0,g.w)(function(){return t.getDownloadURL()}),n)},getMetadata:function(){return(0,a.of)(void 0).pipe((0,y.QV)(e.outsideAngular),(0,g.w)(function(){return t.getMetadata()}),n)},delete:function(){return(0,s.D)(t.delete())},child:function(r){return Gt(t.child(r),e,n)},updateMetadata:function(e){return(0,s.D)(t.updateMetadata(e))},put:function(e,n){return $t(t.put(e,n))},putString:function(e,n,r){return $t(t.putString(e,n,r))},listAll:function(){return(0,s.D)(t.listAll())}}}Mt={TaskState:V,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:L,Storage:Lt,Reference:qt},(Zt=b.Z).INTERNAL.registerComponent(new C.wA("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Bt(r,new Lt(r,i,o,new G,n,b.Z.SDK_VERSION))},"PUBLIC").setServiceProps(Mt).setMultipleInstances(!0)),Zt.registerVersion("@firebase/storage","0.6.0"),n(1116);var zt=new m.OlP("angularfire2.storageBucket"),Ht=new m.OlP("angularfire2.storage.maxUploadRetryTime"),Yt=new m.OlP("angularfire2.storage.maxOperationRetryTime"),Wt=function(){var t=function(){function t(e,n,i,o,a,s,u){(0,r.Z)(this,t),this.schedulers=new _.HU(a),this.keepUnstableUntilFirst=(0,_.ss)(this.schedulers);var c=(0,_.on)(e,a,n);this.storage=(0,_.sI)("".concat(c.name,".storage.").concat(i),"AngularFireStorage",c,function(){var t=a.runOutsideAngular(function(){return c.storage(i||void 0)});return s&&t.setMaxUploadRetryTime(s),u&&t.setMaxOperationRetryTime(u),t},[s,u])}return(0,i.Z)(t,[{key:"ref",value:function(t){return Gt(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"refFromURL",value:function(t){return Gt(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(t,e,n){return Gt(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.LFG(_.Dh),m.LFG(_.xv,8),m.LFG(zt,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Ht,8),m.LFG(Yt,8))},t.\u0275prov=m.Yz7({factory:function(){return new t(m.LFG(_.Dh),m.LFG(_.xv,8),m.LFG(zt,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Ht,8),m.LFG(Yt,8))},token:t,providedIn:"any"}),t}(),Kt=function(){var t=function t(){(0,r.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({}),t}(),Qt=function(){var t=function t(){(0,r.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[Wt],imports:[Kt]}),t}()},2346:function(t,e,n){"use strict";n.d(e,{hO:function(){return O},xv:function(){return C},Dh:function(){return k},HU:function(){return g},GT:function(){return w},sI:function(){return x},on:function(){return S},ss:function(){return m},pX:function(){return b},yq:function(){return T}});var r=n(160),i=n(5121),o=n(1112),a=n(1998),s=n(8489),u=n(8569),c=n(6599),l=n(4187),h=n(9098),f=n(5366),d=n(1858);function p(){}t=n.hmd(t);var v=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.N;(0,o.Z)(this,t),this.zone=e,this.delegate=n}return(0,a.Z)(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),y=function(){function t(e){(0,o.Z)(this,t),this.zone=e,this.task=null}return(0,a.Z)(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",p,{},p,p)}),e.pipe((0,c.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),g=function t(e){(0,o.Z)(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new v(Zone.current)}),this.insideAngular=e.run(function(){return new v(Zone.current,u.z)})};function m(t){return function(e){return(e=e.lift(new y(t.ngZone))).pipe((0,l.R)(t.outsideAngular),(0,h.QV)(t.insideAngular))}}var _=["ngOnDestroy"],b=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,a){return n.runOutsideAngular(function(){var o;if(t[a])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(a,t[a]),t[a];if(_.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,o=t&&t.apply(void 0,(0,i.Z)(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,o),o})}})})}})},w=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},k=new f.OlP("angularfire2.app.options"),C=new f.OlP("angularfire2.app.nameOrConfig"),E=new f.GfV("6.1.5");function S(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=d.Z.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return d.Z.initializeApp(e,i)});try{if(JSON.stringify(e)!==JSON.stringify(o.options)){var a=!!t.hot;I("error","".concat(o.name," Firebase App already initialized with different options").concat(a?", you may need to reload as Firebase is not HMR aware.":"."))}}catch(s){}return o}var T=function(){I("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},I=function(t){if((0,f.X6Q)()&&"undefined"!=typeof console){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console)[t].apply(e,r)}};function x(e,n,o,a,s){var u=globalThis.\u0275AngularfireInstanceCache.get(e)||[],c=(0,r.Z)(u),l=c[0],h=c.slice(1);if(l){try{if(s.some(function(t,e){var n=h[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})){var f=!!t.hot;I("error","".concat(n," was already initialized on the ").concat(o.name," Firebase App instance with different settings.").concat(f?" You may need to reload as Firebase is not HMR aware.":""))}}catch(p){}return l}var d=a();return globalThis.\u0275AngularfireInstanceCache.set(e,[d].concat((0,i.Z)(s))),d}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var A={provide:function t(){(0,o.Z)(this,t)},useFactory:S,deps:[k,f.R0b,[new f.FiY,C]]},O=function(){var t=function(){function t(e){(0,o.Z)(this,t),d.Z.registerVersion("angularfire",E.full,e.toString()),d.Z.registerVersion("angular",f.q4F.full)}return(0,a.Z)(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:k,useValue:e},{provide:C,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.LFG(f.Lbi))},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({providers:[A]}),t}()},1462:function(t,e,n){"use strict";n.d(e,{qu:function(){return Lt},u:function(){return xt},sg:function(){return Tt},u5:function(){return Pt},JU:function(){return b},a5:function(){return z},JJ:function(){return Y},JL:function(){return W},On:function(){return wt},UX:function(){return Dt},Q7:function(){return Ot},kI:function(){return A},_Y:function(){return kt}});var r=n(1357),i=n(2454),o=n(5121),a=n(8784),s=n(4999),u=n(1112),c=n(1998),l=n(5366),h=n(1116),f=n(8318),d=n(8470),p=n(9996),v=n(2056),y=n(9764);function g(t,e){return new f.y(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=(0,y.D)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var m=function(){var t=function(){function t(e,n){(0,u.Z)(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return(0,c.Z)(t,[{key:"setProperty",value:function(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"setDisabledState",value:function(t){this.setProperty("disabled",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Qsj),l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t}),t}(),_=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,u.Z)(this,n),e.apply(this,arguments)}return n}(m);return t.\u0275fac=function(){var e;return function(n){return(e||(e=l.n5z(t)))(n||t)}}(),t.\u0275dir=l.lG2({type:t,features:[l.qOj]}),t}(),b=new l.OlP("NgValueAccessor"),w={provide:b,useExisting:(0,l.Gpc)(function(){return C}),multi:!0},k=new l.OlP("CompositionEventMode"),C=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r,i){var o,a;return(0,u.Z)(this,n),(o=e.call(this,t,r))._compositionMode=i,o._composing=!1,null==o._compositionMode&&(o._compositionMode=(a=(0,h.q)()?(0,h.q)().getUserAgent():"",!/android (\d+)/.test(a.toLowerCase()))),o}return(0,c.Z)(n,[{key:"writeValue",value:function(t){this.setProperty("value",null==t?"":t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),n}(m);return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(k,8))},t.\u0275dir=l.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&l.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[l._Bn([w]),l.qOj]}),t}();function E(t){return null==t||0===t.length}function S(t){return null!=t&&"number"==typeof t.length}var T=new l.OlP("NgValidators"),I=new l.OlP("NgAsyncValidators"),x=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,A=function(){function t(){(0,u.Z)(this,t)}return(0,c.Z)(t,null,[{key:"min",value:function(t){return e=t,function(t){if(E(t.value)||E(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null};var e}},{key:"max",value:function(t){return e=t,function(t){if(E(t.value)||E(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null};var e}},{key:"required",value:function(t){return O(t)}},{key:"requiredTrue",value:function(t){return function(t){return!0===t.value?null:{required:!0}}(t)}},{key:"email",value:function(t){return function(t){return E(t.value)||x.test(t.value)?null:{email:!0}}(t)}},{key:"minLength",value:function(t){return e=t,function(t){return E(t.value)||!S(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null};var e}},{key:"maxLength",value:function(t){return e=t,function(t){return S(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null};var e}},{key:"pattern",value:function(t){return(e=t)?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(E(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):R;var e,n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){return Z(t)}},{key:"composeAsync",value:function(t){return j(t)}}]),t}();function O(t){return E(t.value)?{required:!0}:null}function R(t){return null}function P(t){return null!=t}function D(t){var e=(0,l.QGY)(t)?(0,y.D)(t):t;return(0,l.CqO)(e),e}function N(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function L(t,e){return e.map(function(e){return e(t)})}function F(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Z(t){if(!t)return null;var e=t.filter(P);return 0==e.length?null:function(t){return N(L(t,e))}}function M(t){return null!=t?Z(F(t)):null}function j(t){if(!t)return null;var e=t.filter(P);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if((0,d.k)(r))return g(r,null);if((0,v.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return g(i.map(function(t){return r[t]}),i)}}if("function"==typeof e[e.length-1]){var a=e.pop();return g(e=1===e.length&&(0,d.k)(e[0])?e[0]:e,null).pipe((0,p.U)(function(t){return a.apply(void 0,(0,o.Z)(t))}))}return g(e,null)}(L(t,e).map(D)).pipe((0,p.U)(N))}}function U(t){return null!=t?j(F(t)):null}function V(t,e){return null===t?[e]:Array.isArray(t)?[].concat((0,o.Z)(t),[e]):[t,e]}function q(t){return t._rawValidators}function B(t){return t._rawAsyncValidators}var $=function(){var t=function(){function t(){(0,u.Z)(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return(0,c.Z)(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=M(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=U(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t}),t}(),G=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,u.Z)(this,n),e.apply(this,arguments)}return(0,c.Z)(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}($);return t.\u0275fac=function(){var e;return function(n){return(e||(e=l.n5z(t)))(n||t)}}(),t.\u0275dir=l.lG2({type:t,features:[l.qOj]}),t}(),z=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){var t;return(0,u.Z)(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}($),H=function(){function t(e){(0,u.Z)(this,t),this._cd=e}return(0,c.Z)(t,[{key:"is",value:function(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}]),t}(),Y=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t){return(0,u.Z)(this,n),e.call(this,t)}return n}(H);return t.\u0275fac=function(e){return new(e||t)(l.Y36(z,2))},t.\u0275dir=l.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&l.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[l.qOj]}),t}(),W=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t){return(0,u.Z)(this,n),e.call(this,t)}return n}(H);return t.\u0275fac=function(e){return new(e||t)(l.Y36(G,10))},t.\u0275dir=l.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&l.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[l.qOj]}),t}();function K(t,e){return[].concat((0,o.Z)(e.path),[t])}function Q(t,e){tt(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&nt(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&nt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function J(t,e){var n=function(){};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),et(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}function X(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tt(t,e){var n=q(t);null!==e.validator?t.setValidators(V(n,e.validator)):"function"==typeof n&&t.setValidators([n]);var r=B(t);null!==e.asyncValidator?t.setAsyncValidators(V(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);var i=function(){return t.updateValueAndValidity()};X(e._rawValidators,i),X(e._rawAsyncValidators,i)}function et(t,e){var n=!1;if(null!==t){if(null!==e.validator){var r=q(t);if(Array.isArray(r)&&r.length>0){var i=r.filter(function(t){return t!==e.validator});i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){var o=B(t);if(Array.isArray(o)&&o.length>0){var a=o.filter(function(t){return t!==e.asyncValidator});a.length!==o.length&&(n=!0,t.setAsyncValidators(a))}}}var s=function(){};return X(e._rawValidators,s),X(e._rawAsyncValidators,s),n}function nt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rt(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function it(t,e){if(!e)return null;Array.isArray(e);var n=void 0,r=void 0,i=void 0;return e.forEach(function(t){t.constructor===C?n=t:Object.getPrototypeOf(t.constructor)===_?r=t:i=t}),i||r||n||null}function ot(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var at="VALID",st="INVALID",ut="PENDING",ct="DISABLED";function lt(t){return(pt(t)?t.validators:t)||null}function ht(t){return Array.isArray(t)?M(t):t||null}function ft(t,e){return(pt(e)?e.asyncValidators:t)||null}function dt(t){return Array.isArray(t)?U(t):t||null}function pt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var vt=function(){function t(e,n){(0,u.Z)(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=ht(this._rawValidators),this._composedAsyncValidatorFn=dt(this._rawAsyncValidators)}return(0,c.Z)(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===at}},{key:"invalid",get:function(){return this.status===st}},{key:"pending",get:function(){return this.status==ut}},{key:"disabled",get:function(){return this.status===ct}},{key:"enabled",get:function(){return this.status!==ct}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=ht(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=dt(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=ut,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status=ct,this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status=at,this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==at&&this.status!==ut||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?ct:at}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status=ut,this._hasOwnPendingAsyncValidator=!0;var n=D(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof gt?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof mt&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?ct:this.errors?st:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ut)?ut:this._anyControlsHaveStatus(st)?st:at}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){pt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),yt=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return(0,u.Z)(this,n),(t=e.call(this,lt(i),ft(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!t.asyncValidator}),t}return(0,c.Z)(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){ot(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){ot(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(vt),gt=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r,i){var o;return(0,u.Z)(this,n),(o=e.call(this,lt(r),ft(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return(0,c.Z)(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof yt?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var r=e.controls[n];r&&t(r,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++)if(this.controls[e[t]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(vt),mt=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r,i){var o;return(0,u.Z)(this,n),(o=e.call(this,lt(r),ft(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return(0,c.Z)(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}},{key:"setControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof yt?t.value:t.getRawValue()})}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=(0,i.Z)(this.controls);try{for(e.s();!(t=e.n()).done;)if(t.value.enabled)return!1}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(vt),_t={provide:z,useExisting:(0,l.Gpc)(function(){return wt})},bt=function(){return Promise.resolve(null)}(),wt=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,i,o,a){var s;return(0,u.Z)(this,n),(s=e.call(this)).control=new yt,s._registered=!1,s.update=new l.vpe,s._parent=t,s._setValidators(i),s._setAsyncValidators(o),s.valueAccessor=it((0,r.Z)(s),a),s}return(0,c.Z)(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),rt(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?K(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Q(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;bt.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;bt.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})}}]),n}(z);return t.\u0275fac=function(e){return new(e||t)(l.Y36(G,9),l.Y36(T,10),l.Y36(I,10),l.Y36(b,10))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([_t]),l.qOj,l.TTD]}),t}(),kt=function(){var t=function t(){(0,u.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t}(),Ct=function(){var t=function t(){(0,u.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t}(),Et=new l.OlP("NgModelWithFormControlWarning"),St={provide:G,useExisting:(0,l.Gpc)(function(){return Tt})},Tt=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r){var i;return(0,u.Z)(this,n),(i=e.call(this)).validators=t,i.asyncValidators=r,i.submitted=!1,i._onCollectionChange=function(){return i._updateDomValue()},i.directives=[],i.form=null,i.ngSubmit=new l.vpe,i._setValidators(t),i._setAsyncValidators(r),i}return(0,c.Z)(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(et(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Q(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){J(t.control||null,t),ot(this.directives,t)}},{key:"addFormGroup",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormGroup",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormArray",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=e.control,r=t.form.get(e.path);n!==r&&(J(n||null,e),r instanceof yt&&(Q(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(t){var e=this.form.get(t.path);(function(t,e){tt(t,e)})(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(t){if(this.form){var e=this.form.get(t.path);e&&function(t,e){return et(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){tt(this.form,this),this._oldForm&&et(this._oldForm,this)}},{key:"_checkFormPresent",value:function(){}}]),n}(G);return t.\u0275fac=function(e){return new(e||t)(l.Y36(T,10),l.Y36(I,10))},t.\u0275dir=l.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&l.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([St]),l.qOj,l.TTD]}),t}(),It={provide:z,useExisting:(0,l.Gpc)(function(){return xt})},xt=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,i,o,a,s){var c;return(0,u.Z)(this,n),(c=e.call(this))._ngModelWarningConfig=s,c._added=!1,c.update=new l.vpe,c._ngModelWarningSent=!1,c._parent=t,c._setValidators(i),c._setAsyncValidators(o),c.valueAccessor=it((0,r.Z)(c),a),c}return(0,c.Z)(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),rt(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return K(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(z);return t.\u0275fac=function(e){return new(e||t)(l.Y36(G,13),l.Y36(T,10),l.Y36(I,10),l.Y36(b,10),l.Y36(Et,8))},t.\u0275dir=l.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([It]),l.qOj,l.TTD]}),t._ngModelWarningSentOnce=!1,t}(),At={provide:T,useExisting:(0,l.Gpc)(function(){return Ot}),multi:!0},Ot=function(){var t=function(){function t(){(0,u.Z)(this,t),this._required=!1}return(0,c.Z)(t,[{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&"false"!=="".concat(t),this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this.required?O(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&l.uIk("required",e.required?"":null)},inputs:{required:"required"},features:[l._Bn([At])]}),t}(),Rt=function(){var t=function t(){(0,u.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[Ct]]}),t}(),Pt=function(){var t=function t(){(0,u.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[Rt]}),t}(),Dt=function(){var t=function(){function t(){(0,u.Z)(this,t)}return(0,c.Z)(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Et,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[Rt]}),t}();function Nt(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}var Lt=function(){var t=function(){function t(){(0,u.Z)(this,t)}return(0,c.Z)(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(Nt(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new gt(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new yt(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new mt(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n}},{key:"_createControl",value:function(t){return t instanceof yt||t instanceof gt||t instanceof mt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,l.Yz7)({factory:function(){return new t},token:t,providedIn:Dt}),t}()},9272:function(t,e,n){"use strict";n.d(e,{gz:function(){return de},y6:function(){return Ln},OD:function(){return st},eC:function(){return Ct},wm:function(){return Qn},F0:function(){return qn},rH:function(){return $n},Od:function(){return Hn},Bz:function(){return or},Hx:function(){return $t}});var r=n(5587),i=n(1357),o=n(2454),a=n(5121),s=n(1998),u=n(8784),c=n(4999),l=n(1112),h=n(1116),f=n(5366),d=n(6163),p=n(8470),v=n(9829),y=n(7e3),g=n(9342),m={},_=function(){function t(e){(0,l.Z)(this,t),this.resultSelector=e}return(0,s.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new b(t,this.resultSelector))}}]),t}(),b=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r){var i;return(0,l.Z)(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return(0,s.Z)(n,[{key:"_next",value:function(t){this.values.push(m),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add((0,y.D)(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===m?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(v.L),w=n(8318),k=n(9764),C=n(653);function E(t){return new w.y(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,k.D)(n):(0,C.c)()).subscribe(e)})}var S=n(878),T=n(8512),I=n(9665),x=n(7930),A=n(2875),O=n(5959),R=n(1532),P=n(3620),D=n(6882);function N(t){return function(e){var n=new L(t),r=e.lift(n);return n.caught=r}}var L=function(){function t(e){(0,l.Z)(this,t),this.selector=e}return(0,s.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new F(t,this.selector,this.caught))}}]),t}(),F=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i){var o;return(0,l.Z)(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return(0,s.Z)(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void(0,R.Z)((0,P.Z)(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new D.IY(this);this.add(r);var i=(0,D.ft)(e,r);i!==r&&this.add(i)}}}]),n}(D.Ds),Z=n(3835),M=n(6673),j=n(8402);function U(t){return function(e){return 0===t?(0,C.c)():e.lift(new V(t))}}var V=function(){function t(e){if((0,l.Z)(this,t),this.total=e,this.total<0)throw new j.W}return(0,s.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new q(t,this.total))}}]),t}(),q=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r){var i;return(0,l.Z)(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return(0,s.Z)(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(M.L),B=n(790),$=n(7768),G=n(3392),z=n(7570),H=function(){function t(e){(0,l.Z)(this,t),this.callback=e}return(0,s.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new Y(t,this.callback))}}]),t}(),Y=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r){var i;return(0,l.Z)(this,n),(i=e.call(this,t)).add(new z.w(r)),i}return n}(M.L),W=n(9996),K=n(4689),Q=n(611),J=n(6238),X=n(2023),tt=n(436),et=n(3530),nt=n(3982),rt=n(6599),it=n(1564),ot=n(7471),at=function t(e,n){(0,l.Z)(this,t),this.id=e,this.url=n},st=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,l.Z)(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return(0,s.Z)(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(at),ut=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i){var o;return(0,l.Z)(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return(0,s.Z)(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(at),ct=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i){var o;return(0,l.Z)(this,n),(o=e.call(this,t,r)).reason=i,o}return(0,s.Z)(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(at),lt=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i){var o;return(0,l.Z)(this,n),(o=e.call(this,t,r)).error=i,o}return(0,s.Z)(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(at),ht=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i,o){var a;return(0,l.Z)(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return(0,s.Z)(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(at),ft=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i,o){var a;return(0,l.Z)(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return(0,s.Z)(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(at),dt=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i,o,a){var s;return(0,l.Z)(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return(0,s.Z)(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(at),pt=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i,o){var a;return(0,l.Z)(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return(0,s.Z)(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(at),vt=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i,o){var a;return(0,l.Z)(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return(0,s.Z)(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(at),yt=function(){function t(e){(0,l.Z)(this,t),this.route=e}return(0,s.Z)(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),gt=function(){function t(e){(0,l.Z)(this,t),this.route=e}return(0,s.Z)(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),mt=function(){function t(e){(0,l.Z)(this,t),this.snapshot=e}return(0,s.Z)(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),_t=function(){function t(e){(0,l.Z)(this,t),this.snapshot=e}return(0,s.Z)(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),bt=function(){function t(e){(0,l.Z)(this,t),this.snapshot=e}return(0,s.Z)(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),wt=function(){function t(e){(0,l.Z)(this,t),this.snapshot=e}return(0,s.Z)(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),kt=function(){function t(e,n,r){(0,l.Z)(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return(0,s.Z)(t,[{key:"toString",value:function(){var t=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(t,"')")}}]),t}(),Ct="primary",Et=function(){function t(e){(0,l.Z)(this,t),this.params=e||{}}return(0,s.Z)(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function St(t){return new Et(t)}function Tt(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function It(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xt(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!At(t[n=r[o]],e[n]))return!1;return!0}function At(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=(0,a.Z)(t).sort(),r=(0,a.Z)(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function Ot(t){return Array.prototype.concat.apply([],t)}function Rt(t){return t.length>0?t[t.length-1]:null}function Pt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Dt(t){return(0,f.CqO)(t)?t:(0,f.QGY)(t)?(0,k.D)(Promise.resolve(t)):(0,S.of)(t)}var Nt={exact:function t(e,n,r){if(!Bt(e.segments,n.segments))return!1;if(!jt(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Zt},Lt={exact:function(t,e){return xt(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return At(t[n],e[n])})},ignored:function(){return!0}};function Ft(t,e,n){return Nt[n.paths](t.root,e.root,n.matrixParams)&&Lt[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Zt(t,e,n){return Mt(t,e,e.segments,n)}function Mt(t,e,n,r){if(t.segments.length>n.length){var i=t.segments.slice(0,n.length);return!!Bt(i,n)&&!e.hasChildren()&&!!jt(i,n,r)}if(t.segments.length===n.length){if(!Bt(t.segments,n))return!1;if(!jt(t.segments,n,r))return!1;for(var o in e.children){if(!t.children[o])return!1;if(!Zt(t.children[o],e.children[o],r))return!1}return!0}var a=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!Bt(t.segments,a)&&!!jt(t.segments,a,r)&&!!t.children[Ct]&&Mt(t.children[Ct],e,s,r)}function jt(t,e,n){return e.every(function(e,r){return Lt[n](t[r].parameters,e.parameters)})}var Ut=function(){function t(e,n,r){(0,l.Z)(this,t),this.root=e,this.queryParams=n,this.fragment=r}return(0,s.Z)(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return zt.serialize(this)}}]),t}(),Vt=function(){function t(e,n){var r=this;(0,l.Z)(this,t),this.segments=e,this.children=n,this.parent=null,Pt(n,function(t,e){return t.parent=r})}return(0,s.Z)(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Ht(this)}}]),t}(),qt=function(){function t(e,n){(0,l.Z)(this,t),this.path=e,this.parameters=n}return(0,s.Z)(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return te(this)}}]),t}();function Bt(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var $t=function t(){(0,l.Z)(this,t)},Gt=function(){function t(){(0,l.Z)(this,t)}return(0,s.Z)(t,[{key:"parse",value:function(t){var e=new oe(t);return new Ut(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r="/".concat(Yt(t.root,!0)),i=(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(Kt(t),"=").concat(Kt(e))}).join("&"):"".concat(Kt(t),"=").concat(Kt(n))}).filter(function(t){return!!t})).length?"?".concat(n.join("&")):""),o="string"==typeof t.fragment?"#".concat(encodeURI(t.fragment)):"";return"".concat(r).concat(i).concat(o)}}]),t}(),zt=new Gt;function Ht(t){return t.segments.map(function(t){return te(t)}).join("/")}function Yt(t,e){if(!t.hasChildren())return Ht(t);if(e){var n=t.children[Ct]?Yt(t.children[Ct],!1):"",r=[];return Pt(t.children,function(t,e){e!==Ct&&r.push("".concat(e,":").concat(Yt(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return Pt(t.children,function(t,r){r===Ct&&(n=n.concat(e(t,r)))}),Pt(t.children,function(t,r){r!==Ct&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return n===Ct?[Yt(t.children[Ct],!1)]:["".concat(n,":").concat(Yt(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children[Ct]?"".concat(Ht(t),"/").concat(i[0]):"".concat(Ht(t),"/(").concat(i.join("//"),")")}function Wt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kt(t){return Wt(t).replace(/%3B/gi,";")}function Qt(t){return Wt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jt(t){return decodeURIComponent(t)}function Xt(t){return Jt(t.replace(/\+/g,"%20"))}function te(t){return"".concat(Qt(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Qt(t),"=").concat(Qt(e[t]))}).join("")));var e}var ee=/^[^\/()?;=#]+/;function ne(t){var e=t.match(ee);return e?e[0]:""}var re=/^[^=?&#]+/,ie=/^[^?&#]+/,oe=function(){function t(e){(0,l.Z)(this,t),this.url=e,this.remaining=e}return(0,s.Z)(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Ct]=new Vt(t,e)),n}},{key:"parseSegment",value:function(){var t=ne(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new qt(Jt(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=ne(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=ne(this.remaining);r&&this.capture(n=r)}t[Jt(e)]=Jt(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(re);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(ie);return e?e[0]:""}(this.remaining);r&&this.capture(n=r)}var i=Xt(e),o=Xt(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(t[i]=a=[a]),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=ne(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ct);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Ct]:new Vt([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),ae=function(){function t(e){(0,l.Z)(this,t),this._root=e}return(0,s.Z)(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=se(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=se(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=ue(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return ue(t,this._root).map(function(t){return t.value})}}]),t}();function se(t,e){if(t===e.value)return e;var n,r=(0,o.Z)(e.children);try{for(r.s();!(n=r.n()).done;){var i=se(t,n.value);if(i)return i}}catch(a){r.e(a)}finally{r.f()}return null}function ue(t,e){if(t===e.value)return[e];var n,r=(0,o.Z)(e.children);try{for(r.s();!(n=r.n()).done;){var i=ue(t,n.value);if(i.length)return i.unshift(e),i}}catch(a){r.e(a)}finally{r.f()}return[]}var ce=function(){function t(e,n){(0,l.Z)(this,t),this.value=e,this.children=n}return(0,s.Z)(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function le(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var he=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r){var o;return(0,l.Z)(this,n),(o=e.call(this,t)).snapshot=r,me((0,i.Z)(o),t),o}return(0,s.Z)(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(ae);function fe(t,e){var n=function(t,e){var n=new ye([],{},{},"",{},Ct,e,null,t.root,-1,{});return new ge("",new ce(n,[]))}(t,e),r=new T.X([new qt("",{})]),i=new T.X({}),o=new T.X({}),a=new T.X({}),s=new T.X(""),u=new de(r,i,a,s,o,Ct,e,n.root);return u.snapshot=n.root,new he(new ce(u,[]),n)}var de=function(){function t(e,n,r,i,o,a,s,u){(0,l.Z)(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return(0,s.Z)(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe((0,W.U)(function(t){return St(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,W.U)(function(t){return St(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function pe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return ve(n.slice(r))}function ve(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}var ye=function(){function t(e,n,r,i,o,a,s,u,c,h,f){(0,l.Z)(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=h,this._resolve=f}return(0,s.Z)(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var t=this.url.map(function(t){return t.toString()}).join("/"),e=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(t,"', path:'").concat(e,"')")}}]),t}(),ge=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r){var o;return(0,l.Z)(this,n),(o=e.call(this,r)).url=t,me((0,i.Z)(o),r),o}return(0,s.Z)(n,[{key:"toString",value:function(){return _e(this._root)}}]),n}(ae);function me(t,e){e.value._routerState=t,e.children.forEach(function(e){return me(t,e)})}function _e(t){var e=t.children.length>0?" { ".concat(t.children.map(_e).join(", ")," } "):"";return"".concat(t.value).concat(e)}function be(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),xt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!xt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),xt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function we(t,e){var n,r;return xt(t.params,e.params)&&Bt(n=t.url,r=e.url)&&n.every(function(t,e){return xt(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||we(t.parent,e.parent))}function ke(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=(0,o.Z)(n.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(t.shouldReuseRoute(e.value,a.value.snapshot))return ke(t,e,a)}}catch(s){i.e(s)}finally{i.f()}return ke(t,e)})}(t,e,n);return new ce(r,i)}if(t.shouldAttach(e.value)){var a=t.retrieve(e.value);if(null!==a){var s=a.route;return Ce(e,s),s}}var u,c=new de(new T.X((u=e.value).url),new T.X(u.params),new T.X(u.queryParams),new T.X(u.fragment),new T.X(u.data),u.outlet,u.component,u),l=e.children.map(function(e){return ke(t,e)});return new ce(c,l)}function Ce(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)Ce(t.children[n],e.children[n])}function Ee(t,e,n,r,i){if(0===n.length)return Ie(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ae(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Pt(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),[].concat((0,a.Z)(t),[{outlets:o}])}if(r.segmentPath)return[].concat((0,a.Z)(t),[r.segmentPath])}return"string"!=typeof r?[].concat((0,a.Z)(t),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat((0,a.Z)(t),[r])},[]);return new Ae(n,e,r)}(n);if(o.toRoot())return Ie(e.root,new Vt([],{}),e,r,i);var s=function(t,e,n){if(t.isAbsolute)return new Oe(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Oe(r,r===e.root,0)}var i=Se(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Oe(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?Pe(s.segmentGroup,s.index,o.commands):Re(s.segmentGroup,s.index,o.commands);return Ie(s.segmentGroup,u,e,r,i)}function Se(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Te(t){return"object"==typeof t&&null!=t&&t.outlets}function Ie(t,e,n,r,i){var o={};return r&&Pt(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new Ut(n.root===t?e:xe(n.root,t,e),o,i)}function xe(t,e,n){var r={};return Pt(t.children,function(t,i){r[i]=t===e?n:xe(t,e,n)}),new Vt(t.segments,r)}var Ae=function(){function t(e,n,r){if((0,l.Z)(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Se(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(Te);if(i&&i!==Rt(r))throw new Error("{outlets:{}} has to be the last command")}return(0,s.Z)(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Oe=function t(e,n,r){(0,l.Z)(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function Re(t,e,n){if(t||(t=new Vt([],{})),0===t.segments.length&&t.hasChildren())return Pe(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(Te(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Fe(u,c,a))return o;r+=2}else{if(!Fe(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Vt(t.segments.slice(0,r.pathIndex),{});return o.children[Ct]=new Vt(t.segments.slice(r.pathIndex),t.children),Pe(o,0,i)}return r.match&&0===i.length?new Vt(t.segments,{}):r.match&&!t.hasChildren()?De(t,e,n):r.match?Pe(t,0,i):De(t,e,n)}function Pe(t,e,n){if(0===n.length)return new Vt(t.segments,{});var i=function(t){return Te(t[0])?t[0].outlets:(0,r.Z)({},Ct,t)}(n),o={};return Pt(i,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(o[r]=Re(t.children[r],e,n))}),Pt(t.children,function(t,e){void 0===i[e]&&(o[e]=t)}),new Vt(t.segments,o)}function De(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(Te(o)){var a=Ne(o.outlets);return new Vt(r,a)}if(0===i&&Se(n[0]))r.push(new qt(t.segments[e].path,Le(n[0]))),i++;else{var s=Te(o)?o.outlets[Ct]:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&Se(u)?(r.push(new qt(s,Le(u))),i+=2):(r.push(new qt(s,{})),i++)}}return new Vt(r,{})}function Ne(t){var e={};return Pt(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=De(new Vt([],{}),0,t))}),e}function Le(t){var e={};return Pt(t,function(t,n){return e[n]="".concat(t)}),e}function Fe(t,e,n){return t==n.path&&xt(e,n.parameters)}var Ze=function(){function t(e,n,r,i){(0,l.Z)(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return(0,s.Z)(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),be(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=le(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Pt(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=le(t),o=0,a=Object.keys(i);o<a.length;o++)this.deactivateRouteAndItsChildren(i[a[o]],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=le(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new wt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new _t(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(be(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Me(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Me(t){be(t.value),t.children.forEach(Me)}var je=function t(e,n){(0,l.Z)(this,t),this.routes=e,this.module=n};function Ue(t){return"function"==typeof t}function Ve(t){return t instanceof Ut}var qe=Symbol("INITIAL_VALUE");function Be(){return(0,K.w)(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,i=void 0;return(0,d.K)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&(0,p.k)(e[0])&&(e=e[0]),(0,g.n)(e,i).lift(new _(r))}(t.map(function(t){return t.pipe((0,Q.q)(1),(0,J.O)(qe))})).pipe((0,X.R)(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==qe)return t;if(r===qe&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ve(r))return r}return t},t)},qe),(0,Z.h)(function(t){return t!==qe}),(0,W.U)(function(t){return Ve(t)?t:!0===t}),(0,Q.q)(1))})}var $e=function(){var t=function t(){(0,l.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&f._UZ(0,"router-outlet")},directives:function(){return[Yn]},encapsulation:2}),t}();function Ge(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n],i=He(e,r);ze(r,i)}}function ze(t,e){t.children&&Ge(t.children,e)}function He(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Ye(t){var e=t.children&&t.children.map(Ye),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ct&&(n.component=$e),n}function We(t){return t.outlet||Ct}function Ke(t,e){var n=t.filter(function(t){return We(t)===e});return n.push.apply(n,(0,a.Z)(t.filter(function(t){return We(t)!==e}))),n}var Qe={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Je(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Qe):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||It)(n,t,e);if(!i)return Object.assign({},Qe);var o={};Pt(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Xe(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&nn(t,n,r)){var o=new Vt(e,en(t,e,r,new Vt(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&rn(t,n,r)){var a=new Vt(t.segments,tn(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Vt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function tn(t,e,n,r,i,a){var s,u={},c=(0,o.Z)(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(on(t,n,l)&&!i[We(l)]){var h=new Vt([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===a?t.segments.length:e.length,u[We(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},i),u)}function en(t,e,n,r){var i={};i[Ct]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var a,s=(0,o.Z)(n);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(""===u.path&&We(u)!==Ct){var c=new Vt([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[We(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return i}function nn(t,e,n){return n.some(function(n){return on(t,e,n)&&We(n)!==Ct})}function rn(t,e,n){return n.some(function(n){return on(t,e,n)})}function on(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function an(t,e,n,r){return!!(We(t)===r||r!==Ct&&on(e,n,t))&&("**"===t.path||Je(e,t,n).matched)}function sn(t,e,n){return 0===e.length&&!t.children[n]}var un=function t(e){(0,l.Z)(this,t),this.segmentGroup=e||null},cn=function t(e){(0,l.Z)(this,t),this.urlTree=e};function ln(t){return new w.y(function(e){return e.error(new un(t))})}function hn(t){return new w.y(function(e){return e.error(new cn(t))})}function fn(t){return new w.y(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var dn=function(){function t(e,n,r,i,o){(0,l.Z)(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}return(0,s.Z)(t,[{key:"apply",value:function(){var t=this,e=Xe(this.urlTree.root,[],[],this.config).segmentGroup,n=new Vt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Ct).pipe((0,W.U)(function(e){return t.createUrlTree(pn(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(N(function(e){if(e instanceof cn)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof un)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ct).pipe((0,W.U)(function(n){return e.createUrlTree(pn(n),t.queryParams,t.fragment)})).pipe(N(function(t){if(t instanceof un)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var i=t.segments.length>0?new Vt([],(0,r.Z)({},Ct,t)):t;return new Ut(i,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,W.U)(function(t){return new Vt([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return(0,k.D)(i).pipe((0,tt.b)(function(i){var o=n.children[i],a=Ke(e,i);return r.expandSegmentGroup(t,a,o,i).pipe((0,W.U)(function(t){return{segment:t,outlet:i}}))}),(0,X.R)(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?(0,Z.h)(function(e,n){return t(e,n,r)}):G.y,U(1),n?(0,$.d)(e):(0,B.T)(function(){return new I.K}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return(0,k.D)(n).pipe((0,tt.b)(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(N(function(t){if(t instanceof un)return(0,S.of)(null);throw t}))}),(0,et.P)(function(t){return!!t}),N(function(t,n){if(t instanceof I.K||"EmptyError"===t.name){if(sn(e,r,i))return(0,S.of)(new Vt([],{}));throw new un(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return an(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ln(e):ln(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?hn(o):this.lineralizeSegments(n,o).pipe((0,nt.zg)(function(n){var o=new Vt(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Je(e,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return ln(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?hn(h):this.lineralizeSegments(r,h).pipe((0,nt.zg)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,S.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,W.U)(function(t){return n._loadedConfig=t,new Vt(r,{})})):(0,S.of)(new Vt(r,{}));var a=Je(e,n,r),s=a.consumedSegments,u=a.lastChild;if(!a.matched)return ln(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe((0,nt.zg)(function(t){var r=t.module,a=t.routes,u=Xe(e,s,c,a),l=u.segmentGroup,h=u.slicedSegments,f=new Vt(l.segments,l.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe((0,W.U)(function(t){return new Vt(s,t)}));if(0===a.length&&0===h.length)return(0,S.of)(new Vt(s,{}));var d=We(n)===i;return o.expandSegment(r,f,a,h,d?Ct:i,!0).pipe((0,W.U)(function(t){return new Vt(s.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?(0,S.of)(new je(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,S.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,nt.zg)(function(n){return n?r.configLoader.load(t.injector,e).pipe((0,W.U)(function(t){return e._loadedConfig=t,t})):function(t){return new w.y(function(e){return e.error(Tt("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):(0,S.of)(new je([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return(0,S.of)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&Ue(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Ue(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Dt(i)});return(0,S.of)(o).pipe(Be(),(0,rt.b)(function(t){if(Ve(t)){var e=Tt('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),(0,W.U)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,S.of)(n);if(r.numberOfChildren>1||!r.children[Ct])return fn(t.redirectTo);r=r.children[Ct]}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Ut(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Pt(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Pt(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Vt(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=(0,o.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.path===t.path)return e.splice(r),a;r++}}catch(s){i.e(s)}finally{i.f()}return t}}]),t}();function pn(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=pn(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children[Ct]){var e=t.children[Ct];return new Vt(t.segments.concat(e.segments),e.children)}return t}(new Vt(t.segments,e))}var vn=function t(e){(0,l.Z)(this,t),this.path=e,this.route=this.path[this.path.length-1]},yn=function t(e,n){(0,l.Z)(this,t),this.component=e,this.route=n};function gn(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function mn(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=le(e);return t.children.forEach(function(t){_n(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Pt(o,function(t,e){return wn(t,n.getContext(e),i)}),i}function _n(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=bn(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vn(r)):(o.data=a.data,o._resolvedData=a._resolvedData),mn(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new yn(s.outlet.component,a))}else a&&wn(e,s,i),i.canActivateChecks.push(new vn(r)),mn(t,null,o.component?s?s.children:null:n,r,i);return i}function bn(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bt(t.url,e.url)||!xt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!we(t,e)||!xt(t.queryParams,e.queryParams);case"paramsChange":default:return!we(t,e)}}function wn(t,e,n){var r=le(t),i=t.value;Pt(r,function(t,r){wn(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new yn(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var kn=function t(){(0,l.Z)(this,t)};function Cn(t){return new w.y(function(e){return e.error(t)})}var En=function(){function t(e,n,r,i,o,a){(0,l.Z)(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return(0,s.Z)(t,[{key:"recognize",value:function(){var t=Xe(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ct);if(null===e)return null;var n=new ye([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ce(n,e),i=new ge(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=pe(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,i=Object.keys(e.children);r<i.length;r++){var o=i[r],s=e.children[o],u=Ke(t,o),c=this.processSegmentGroup(u,s,o);if(null===c)return null;n.push.apply(n,(0,a.Z)(c))}var l=Sn(n);return l.sort(function(t,e){return t.value.outlet===Ct?-1:e.value.outlet===Ct?1:t.value.outlet.localeCompare(e.value.outlet)}),l}},{key:"processSegment",value:function(t,e,n,r){var i,a=(0,o.Z)(t);try{for(a.s();!(i=a.n()).done;){var s=this.processSegmentAgainstRoute(i.value,e,n,r);if(null!==s)return s}}catch(u){a.e(u)}finally{a.f()}return sn(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!an(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?Rt(n).parameters:{};i=new ye(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xn(t),We(t),t.component,t,Tn(e),In(e)+n.length,An(t))}else{var u=Je(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new ye(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xn(t),We(t),t.component,t,Tn(e),In(e)+o.length,An(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Xe(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new ce(i,d)]}if(0===c.length&&0===f.length)return[new ce(i,[])];var p=We(t)===r,v=this.processSegment(c,h,f,p?Ct:r);return null===v?null:[new ce(i,v)]}}]),t}();function Sn(t){var e,n=[],r=new Set,i=(0,o.Z)(t);try{var s=function(){var t=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(t))return n.push(t),"continue";var i,o=n.find(function(e){return t.value.routeConfig===e.value.routeConfig});void 0!==o?((i=o.children).push.apply(i,(0,a.Z)(t.children)),r.add(o)):n.push(t)};for(i.s();!(e=i.n()).done;)s()}catch(f){i.e(f)}finally{i.f()}var u,c=(0,o.Z)(r);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=Sn(l.children);n.push(new ce(l.value,h))}}catch(f){c.e(f)}finally{c.f()}return n.filter(function(t){return!r.has(t)})}function Tn(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function In(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function xn(t){return t.data||{}}function An(t){return t.resolve||{}}function On(t){return(0,K.w)(function(e){var n=t(e);return n?(0,k.D)(n).pipe((0,W.U)(function(){return e})):(0,S.of)(e)})}var Rn=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),e.apply(this,arguments)}return n}(function(){function t(){(0,l.Z)(this,t)}return(0,s.Z)(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),Pn=new f.OlP("ROUTES"),Dn=function(){function t(e,n,r,i){(0,l.Z)(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return(0,s.Z)(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe((0,W.U)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new je(Ot(i.injector.get(Pn,void 0,f.XFs.Self|f.XFs.Optional)).map(Ye),i)}),N(function(t){throw e._loader$=void 0,t}));return e._loader$=new A.c(r,function(){return new O.xQ}).pipe((0,it.x)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?(0,k.D)(this.loader.load(t)):Dt(t()).pipe((0,nt.zg)(function(t){return t instanceof f.YKP?(0,S.of)(t):(0,k.D)(e.compiler.compileModuleAsync(t))}))}}]),t}(),Nn=function t(){(0,l.Z)(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Ln,this.attachRef=null},Ln=function(){function t(){(0,l.Z)(this,t),this.contexts=new Map}return(0,s.Z)(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Nn,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Fn=function(){function t(){(0,l.Z)(this,t)}return(0,s.Z)(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Zn(t){throw t}function Mn(t,e,n){return e.parse("/")}function jn(t,e){return(0,S.of)(null)}var Un={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qn=function(){var t=function(){function t(e,n,r,i,o,a,s,u){var c=this;(0,l.Z)(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new O.xQ,this.errorHandler=Zn,this.malformedUriErrorHandler=Mn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jn,afterPreactivation:jn},this.urlHandlingStrategy=new Fn,this.routeReuseStrategy=new Rn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(f.h0i),this.console=o.get(f.c2e);var h=o.get(f.R0b);this.isNgZoneEnabled=h instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Ut(new Vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dn(a,s,function(t){return c.triggerEvent(new yt(t))},function(t){return c.triggerEvent(new gt(t))}),this.routerState=fe(this.currentUrlTree,this.rootComponentType),this.transitions=new T.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return(0,s.Z)(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe((0,Z.h)(function(t){return 0!==t.id}),(0,W.U)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),(0,K.w)(function(t){var r,i,o,a,s=!1,u=!1;return(0,S.of)(t).pipe((0,rt.b)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,K.w)(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,S.of)(t).pipe((0,K.w)(function(t){var r=e.transitions.getValue();return n.next(new st(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?C.E:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,(0,K.w)(function(t){return function(t,e,n,r,i){return new dn(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe((0,W.U)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),(0,rt.b)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return(0,nt.zg)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new En(t,e,n,r,i,o).recognize();return null===a?Cn(new kn):(0,S.of)(a)}catch(s){return Cn(s)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe((0,W.U)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),(0,rt.b)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,t),e.browserUrlTree=t.urlAfterRedirects);var r=new ht(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.extractedUrl,c=t.source,l=t.restoredState,h=t.extras,f=new st(t.id,e.serializeUrl(u),c,l);n.next(f);var d=fe(u,e.rootComponentType).snapshot;return(0,S.of)(Object.assign(Object.assign({},t),{targetSnapshot:d,urlAfterRedirects:u,extras:Object.assign(Object.assign({},h),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),C.E}),On(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),(0,rt.b)(function(t){var n=new ft(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(0,W.U)(function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,mn(o,r?r._root:null,i,[o.value]))});var n,r,i,o}),function(t,e){return(0,nt.zg)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?(0,S.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,k.D)(t).pipe((0,nt.zg)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,S.of)(!0);var a=o.map(function(o){var a,s=gn(o,e,i);if(function(t){return t&&Ue(t.canDeactivate)}(s))a=Dt(s.canDeactivate(t,e,n,r));else{if(!Ue(s))throw new Error("Invalid CanDeactivate guard");a=Dt(s(t,e,n,r))}return a.pipe((0,et.P)())});return(0,S.of)(a).pipe(Be())}(t.component,t.route,n,e,r)}),(0,et.P)(function(t){return!0!==t},!0))}(s,r,i,t).pipe((0,nt.zg)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return(0,k.D)(e).pipe((0,tt.b)(function(e){return(0,x.z)(function(t,e){return null!==t&&e&&e(new mt(t)),(0,S.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new bt(t)),(0,S.of)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return E(function(){var i=e.guards.map(function(i){var o,a=gn(i,e.node,n);if(function(t){return t&&Ue(t.canActivateChild)}(a))o=Dt(a.canActivateChild(r,t));else{if(!Ue(a))throw new Error("Invalid CanActivateChild guard");o=Dt(a(r,t))}return o.pipe((0,et.P)())});return(0,S.of)(i).pipe(Be())})});return(0,S.of)(i).pipe(Be())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,S.of)(!0);var i=r.map(function(r){return E(function(){var i,o=gn(r,e,n);if(function(t){return t&&Ue(t.canActivate)}(o))i=Dt(o.canActivate(e,t));else{if(!Ue(o))throw new Error("Invalid CanActivate guard");i=Dt(o(e,t))}return i.pipe((0,et.P)())})});return(0,S.of)(i).pipe(Be())}(t,e.route,n))}),(0,et.P)(function(t){return!0!==t},!0))}(r,a,t,e):(0,S.of)(n)}),(0,W.U)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),(0,rt.b)(function(t){if(Ve(t.guardsResult)){var n=Tt('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new dt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),(0,Z.h)(function(t){return!!t.guardsResult||(e.cancelNavigationTransition(t,""),!1)}),On(function(t){if(t.guards.canActivateChecks.length)return(0,S.of)(t).pipe((0,rt.b)(function(t){var n=new pt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(0,K.w)(function(t){var n,r,i=!1;return(0,S.of)(t).pipe((n=e.paramsInheritanceStrategy,r=e.ngModule.injector,(0,nt.zg)(function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;if(!i.length)return(0,S.of)(t);var o=0;return(0,k.D)(i).pipe((0,tt.b)(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return(0,S.of)({});var o={};return(0,k.D)(i).pipe((0,nt.zg)(function(i){return function(t,e,n,r){var i=gn(t,e,r);return Dt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,rt.b)(function(t){o[i]=t}))}),U(1),(0,nt.zg)(function(){return Object.keys(o).length===i.length?(0,S.of)(o):C.E}))}(t._resolve,t,e,r).pipe((0,W.U)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),pe(t,n).resolve),null}))}(t.route,e,n,r)}),(0,rt.b)(function(){return o++}),U(1),(0,nt.zg)(function(e){return o===i.length?(0,S.of)(t):C.E}))})),(0,rt.b)({next:function(){return i=!0},complete:function(){i||e.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}))}),(0,rt.b)(function(t){var n=new vt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),On(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),(0,W.U)(function(t){var n,r,i,o=(i=ke(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new he(i,n));return Object.assign(Object.assign({},t),{targetRouterState:o})}),(0,rt.b)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,t),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},(0,W.U)(function(t){return new Ze(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),(0,rt.b)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){s||u||e.cancelNavigationTransition(t,"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId)),e.currentNavigation=null},function(t){return t.lift(new H(r))}),N(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Ve(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new ct(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new lt(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var s;return C.E}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Ge(t),this.config=t.map(Ye),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.queryParamsHandling,a=e.preserveFragment,s=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i,c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),Ee(s,this.currentUrlTree,t,c,null!=u?u:null)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Ve(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree),i=null;if("computed"===this.canceledNavigationResolution){var o=0===this.currentPageId;(o||e.skipLocationChange||e.replaceUrl)&&(i=this.location.getState())}return this.scheduleNavigation(r,"imperative",i,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return Bn(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){var n;if(n=!0===e?Object.assign({},Un):!1===e?Object.assign({},Vn):e,Ve(t))return Ft(this.currentUrlTree,t,n);var r=this.parseUrl(t);return Ft(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.currentPageId=e.targetPageId,t.events.next(new ut(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,targetPageId:"computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e){var n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();var n=new ct(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}},{key:"generateNgRouterState",value:function(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.LFG(f.DyG),f.LFG($t),f.LFG(Ln),f.LFG(h.Ye),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac}),t}();function Bn(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}var $n=function(){var t=function(){function t(e,n,r,i,o){(0,l.Z)(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new O.xQ,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return(0,s.Z)(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"onClick",value:function(){var t={skipLocationChange:zn(this.skipLocationChange),replaceUrl:zn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zn(this.preserveFragment)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Y36(qn),f.Y36(de),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},t.\u0275dir=f.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&f.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),t}(),Gn=function(){var t=function(){function t(e,n,r){var i=this;(0,l.Z)(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new O.xQ,this.subscription=e.events.subscribe(function(t){t instanceof ut&&i.updateTargetUrlAndHref()})}return(0,s.Z)(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:zn(this.skipLocationChange),replaceUrl:zn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zn(this.preserveFragment)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Y36(qn),f.Y36(de),f.Y36(h.S$))},t.\u0275dir=f.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&f.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(f.Ikx("href",e.href,f.LSH),f.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),t}();function zn(t){return""===t||!!t}var Hn=function(){var t=function(){function t(e,n,r,i,o,a){var s=this;(0,l.Z)(this,t),this.router=e,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(function(t){t instanceof ut&&s.update()})}return(0,s.Z)(t,[{key:"ngAfterContentInit",value:function(){var t=this;(0,S.of)(this.links.changes,this.linksWithHrefs.changes,(0,S.of)(null)).pipe((0,ot.J)()).subscribe(function(e){t.update(),t.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var n=[].concat((0,a.Z)(this.links.toArray()),(0,a.Z)(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(t){return!!t}).map(function(t){return t.onChanges});this.linkInputChangesSubscription=(0,k.D)(n).pipe((0,ot.J)()).subscribe(function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()})}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(t){var e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return function(n){return t.isActive(n.urlTree,e)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Y36(qn),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36($n,8),f.Y36(Gn,8))},t.\u0275dir=f.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(f.Suo(n,$n,5),f.Suo(n,Gn,5)),2&t&&(f.iGM(r=f.CRH())&&(e.links=r),f.iGM(r=f.CRH())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[f.TTD]}),t}(),Yn=function(){var t=function(){function t(e,n,r,i,o){(0,l.Z)(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=i||Ct,e.onChildOutletCreated(this.name,this)}return(0,s.Z)(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Wn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Y36(Ln),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},t.\u0275dir=f.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t}(),Wn=function(){function t(e,n,r){(0,l.Z)(this,t),this.route=e,this.childContexts=n,this.parent=r}return(0,s.Z)(t,[{key:"get",value:function(t,e){return t===de?this.route:t===Ln?this.childContexts:this.parent.get(t,e)}}]),t}(),Kn=function t(){(0,l.Z)(this,t)},Qn=function(){function t(){(0,l.Z)(this,t)}return(0,s.Z)(t,[{key:"preload",value:function(t,e){return e().pipe(N(function(){return(0,S.of)(null)}))}}]),t}(),Jn=function(){function t(){(0,l.Z)(this,t)}return(0,s.Z)(t,[{key:"preload",value:function(t,e){return(0,S.of)(null)}}]),t}(),Xn=function(){var t=function(){function t(e,n,r,i,o){(0,l.Z)(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Dn(n,r,function(t){return e.triggerEvent(new yt(t))},function(t){return e.triggerEvent(new gt(t))})}return(0,s.Z)(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe((0,Z.h)(function(t){return t instanceof ut}),(0,tt.b)(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=(0,o.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children))}}catch(u){i.e(u)}finally{i.f()}return(0,k.D)(r).pipe((0,ot.J)(),(0,W.U)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?(0,S.of)(e._loadedConfig):n.loader.load(t.injector,e)).pipe((0,nt.zg)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.LFG(qn),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(Kn))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac}),t}(),tr=function(){var t=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,l.Z)(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return(0,s.Z)(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof st?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ut&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof kt&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new kt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.LFG(qn),f.LFG(h.EM),f.LFG(void 0))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac}),t}(),er=new f.OlP("ROUTER_CONFIGURATION"),nr=new f.OlP("ROUTER_FORROOT_GUARD"),rr=[h.Ye,{provide:$t,useClass:Gt},{provide:qn,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new qn(null,t,e,n,r,i,o,Ot(a));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),lr(s,l),s.enableTracing&&l.events.subscribe(function(t){var e,n;null===(e=console.group)||void 0===e||e.call(console,"Router Event: ".concat(t.constructor.name)),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[$t,Ln,h.Ye,f.zs3,f.v3s,f.Sil,Pn,er,[function t(){(0,l.Z)(this,t)},new f.FiY],[function t(){(0,l.Z)(this,t)},new f.FiY]]},Ln,{provide:de,useFactory:function(t){return t.routerState.root},deps:[qn]},{provide:f.v3s,useClass:f.EAV},Xn,Jn,Qn,{provide:er,useValue:{enableTracing:!1}}];function ir(){return new f.PXZ("Router",qn)}var or=function(){var t=function(){function t(e,n){(0,l.Z)(this,t)}return(0,s.Z)(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[rr,cr(e),{provide:nr,useFactory:ur,deps:[[qn,new f.FiY,new f.tp0]]},{provide:er,useValue:n||{}},{provide:h.S$,useFactory:sr,deps:[h.lw,[new f.tBr(h.mr),new f.FiY],er]},{provide:tr,useFactory:ar,deps:[qn,h.EM,er]},{provide:Kn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Jn},{provide:f.PXZ,multi:!0,useFactory:ir},[hr,{provide:f.ip1,multi:!0,useFactory:fr,deps:[hr]},{provide:pr,useFactory:dr,deps:[hr]},{provide:f.tb,multi:!0,useExisting:pr}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[cr(e)]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.LFG(nr,8),f.LFG(qn,8))},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({}),t}();function ar(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new tr(t,e,n)}function sr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new h.Do(t,e):new h.b0(t,e)}function ur(t){return"guarded"}function cr(t){return[{provide:f.deG,multi:!0,useValue:t},{provide:Pn,multi:!0,useValue:t}]}function lr(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}var hr=function(){var t=function(){function t(e){(0,l.Z)(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new O.xQ}return(0,s.Z)(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(h.V_,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(qn),i=t.injector.get(er);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?(0,S.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(er),n=this.injector.get(Xn),r=this.injector.get(tr),i=this.injector.get(qn),o=this.injector.get(f.z2F);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.LFG(f.zs3))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac}),t}();function fr(t){return t.appInitializer.bind(t)}function dr(t){return t.bootstrapListener.bind(t)}var pr=new f.OlP("Router Initializer")},1062:function(t,e,n){"use strict";var r,i,o=n(4762),a=n(250),s=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),v=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(t),this.container=new s.H0(e.name),this._addComponent(new s.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,a.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(v);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.ZB)(e,t)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var b=y;!function(t,e){t.INTERNAL.registerComponent(new s.wA("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion(h,"0.6.28",void 0),t.registerVersion("fire-js","")}(b),e.Z=b},5119:function(t,e,n){"use strict";n.d(e,{wA:function(){return o},H0:function(){return u},zt:function(){return s}});var r=n(4762),i=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=a),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];a===this.normalizeInstanceIdentifier(l[0])&&h.resolve(s)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=(0,r.XA)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===a?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=a),this.component?this.component.multipleInstances?t:a:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},2107:function(t,e,n){"use strict";var r=n(1062),i=n(5119),o=n(250),a=n(4762),s=n(308);t=n.hmd(t);var u="";function c(t){u=t}var l,h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.Pz)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.cI)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),f=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.r3)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new f},p=d("localStorage"),v=d("sessionStorage"),y=new s.Yd("@firebase/database"),g=(l=1,function(){return l++}),m=function(t){var e=(0,o.dS)(t),n=new o.gQ;n.update(e);var r=n.digest();return o.US.encodeByteArray(r)},_=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=t.apply(null,a):r+="object"==typeof a?(0,o.Pz)(a):a,r+=" "}return r},b=null,w=!0,k=function(t,e){(0,o.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(y.logLevel=s.in.VERBOSE,b=y.log.bind(y),e&&v.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,v.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===b&&!0===v.get("logging_enabled")&&k(!0)),b){var n=_.apply(null,t);b(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,(0,a.ev)([t],(0,a.CR)(e)))}},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,(0,a.ev)([],(0,a.CR)(t)));y.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,(0,a.ev)([],(0,a.CR)(t)));throw y.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,(0,a.ev)([],(0,a.CR)(t)));y.warn(n)},x=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",O="[MAX_NAME]",R=function(t,e){if(t===e)return 0;if(t===A||e===O)return-1;if(e===A||t===O)return 1;var n=j(t),r=j(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.Pz)(e))},N=function t(e){if("object"!=typeof e||null===e)return(0,o.Pz)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.Pz)(n[a]),i+=":",i+=t(e[n[a]]);return i+"}"},L=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function F(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Z=function(t){var e,n,r,i,a;(0,o.hu)(!x(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},M=new RegExp("^-?(0*)\\d{1,10}$"),j=function(t){if(M.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},U=function(t){try{t()}catch(e){setTimeout(function(){throw I("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){I('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),B=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';I(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),$=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,z="websocket",H="long_polling",Y=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function W(t,e,n){var r;if((0,o.hu)("string"==typeof e,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),e===z)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==H)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return F(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var K=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.p$)(this.counters_)},t}(),Q={},J={};function X(t){var e=t.toString();return Q[e]||(Q[e]=new K),Q[e]}var tt=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&U(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),et="start",nt="close",rt=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=X(e),this.urlFn=function(t){return s.appCheckToken&&(t.ac=s.appCheckToken),W(e,H,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new tt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,o.Yr)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new it(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,a.CR)(t,5),i=r[0],o=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===et)n.id=o,n.password=s;else{if(i!==nt)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,a.CR)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&G.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!((0,o.Yr)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.h$)(e),r=L(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),it=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){C("frame writing exception"),u.stack&&C(u.stack),C(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;(0,o.Yr)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),ot=null;"undefined"!=typeof MozWebSocket?ot=MozWebSocket:"undefined"!=typeof WebSocket&&(ot=WebSocket);var at=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=X(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),W(t,z,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new ot(this.connURL,[],r)}else this.mySock=new ot(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ot&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.cI)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=L(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),st=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[rt,at]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=at&&at.isAvailable(),o=i&&!at.previouslyFailed();if(e.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[at];else{var s=this.transports_=[];try{for(var u=(0,a.XA)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),ut=function(){function t(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new st(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?S("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ct=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),lt=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.hu)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),ht=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return(0,a.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(lt),ft=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function dt(){return new ft("")}function pt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function vt(t){return t.pieces_.length-t.pieceNum_}function yt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new ft(t.pieces_,e)}function gt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function mt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function _t(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ft(e,0)}function bt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ft)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ft(n,0)}function wt(t){return t.pieceNum_>=t.pieces_.length}function kt(t,e){var n=pt(t),r=pt(e);if(null===n)return e;if(n===r)return kt(yt(t),yt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ct(t,e){for(var n=mt(t,0),r=mt(e,0),i=0;i<n.length&&i<r.length;i++){var o=R(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Et(t,e){if(vt(t)!==vt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function St(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(vt(t)>vt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Tt=function(t,e){this.errorPrefix_=e,this.parts_=mt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);It(this)};function It(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xt(t))}function xt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var At,Ot,Rt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return(0,a.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(lt),Pt=1e3,Dt=function(t){function e(n,r,i,a,s,u,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=E("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Pt,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Rt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ht.getInstance().on("online",h.onOnline_,h),h}return(0,a.ZT)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.BH,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.r3)(t,"w")){var n=(0,o.DV)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.Pz)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):S("Unrecognized action received from server: "+(0,o.Pz)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return(0,a.mG)(this,void 0,void 0,function(){var t,n,r,i,s,u,c,l,h,f,d,p,v,y=this;return(0,a.Jh)(this,function(g){switch(g.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(t){(0,o.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return f=a.CR.apply(void 0,[g.sent(),2]),d=f[0],p=f[1],u?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,c=new ut(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){I(t+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")},s)),[3,4];case 3:return v=g.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&I(v),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return N(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ft(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){C("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.XA)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.Yr)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+u.replace(/\./g,"-")]=1,(0,o.uI)()?t["framework.cordova"]=1:(0,o.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ht.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ct),Nt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Lt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Nt(A,t),r=new Nt(A,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Nt.MIN},t}(),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return At},set:function(t){At=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return R(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return new Nt(O,At)},e.prototype.makePost=function(t,e){return(0,o.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Nt(t,At)},e.prototype.toString=function(){return".key"},e}(Lt),Zt=new Ft,Mt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),jt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Vt.EMPTY_NODE,this.right=null!=o?o:Vt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ut=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new jt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,jt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Mt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Mt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ut,t}();function qt(t,e){return R(t.name,e.name)}function Bt(t,e){return R(t,e)}var $t,Gt,zt,Ht,Yt,Wt=function(t){return"number"==typeof t?"number:"+Z(t):"string:"+t},Kt=function(t){if(t.isLeafNode()){var e=t.val();(0,o.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.r3)(e,".sv"),"Priority must be a string or number.")}else(0,o.hu)(t===Ot||t.isEmpty(),"priority of unexpected type.");(0,o.hu)(t===Ot||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Qt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Kt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return $t},set:function(t){$t=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return wt(e)?this:".priority"===pt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=pt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===vt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Wt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Z(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Jt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?R(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return new Nt(O,new Qt("[PRIORITY-POST]",zt))},e.prototype.makePost=function(t,e){var n=Gt(t);return new Nt(e,new Qt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Lt)),Xt=Math.log(2),te=function(){function t(t){this.count=parseInt(Math.log(t+1)/Xt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),ee=function(t,e,n,r){t.sort(e);var i=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new jt(a,o.node,jt.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new jt(a,o.node,jt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new jt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,jt.BLACK):(s(h,jt.BLACK),s(h,jt.RED))}return o}(new te(t.length));return new Vt(r||e,o)},ne={},re=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.hu)(ne&&Jt,"ChildrenNode.ts has not been loaded"),Ht=Ht||new t({".priority":ne},{".priority":Jt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vt?e:null},t.prototype.hasIndex=function(t){return(0,o.r3)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.hu)(e!==Zt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Nt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?ee(i,e.getCompare()):ne;var l=e.toString(),h=(0,a.pi)({},this.indexSet_);h[l]=e;var f=(0,a.pi)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,o.UI)(this.indexes_,function(t,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),t===ne){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(Nt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),ee(s,a.getCompare())}return ne}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Nt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.UI)(this.indexes_,function(t){if(t===ne)return t;var r=n.get(e.name);return r?t.remove(new Nt(e.name,r)):t}),this.indexSet_)},t}(),ie=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Kt(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Yt||(Yt=new t(new Vt(Bt),null,re.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Yt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Yt:e},t.prototype.getChild=function(t){var e=pt(t);return null===e?this:this.getImmediateChild(e).getChild(yt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Nt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Yt:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=pt(t);if(null===n)return e;(0,o.hu)(".priority"!==pt(t)||1===vt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(yt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Jt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Wt(this.getPriority().val())+":"),this.forEachChild(Jt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Nt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Nt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Nt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Nt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Nt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===oe?-1:0},t.prototype.withIndex=function(e){if(e===Zt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Zt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Jt),r=e.getIterator(Jt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Zt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),oe=new(function(t){function e(){return t.call(this,new Vt(Bt),ie.EMPTY_NODE,re.Default)||this}return(0,a.ZT)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ie.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ie));function ae(t,e){if(void 0===e&&(e=null),null===t)return ie.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Qt(t,ae(e));if(t instanceof Array){var n=ie.EMPTY_NODE;return F(t,function(e,r){if((0,o.r3)(t,e)&&"."!==e.substring(0,1)){var i=ae(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(ae(e))}var r=[],i=!1;if(F(t,function(t,e){if("."!==t.substring(0,1)){var n=ae(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Nt(t,n)))}}),0===r.length)return ie.EMPTY_NODE;var a=ee(r,qt,function(t){return t.name},Bt);if(i){var s=ee(r,Jt.getCompare());return new ie(a,ae(e),new re({".priority":s},{".priority":Jt}))}return new ie(a,ae(e),re.Default)}Object.defineProperties(Nt,{MIN:{value:new Nt(A,ie.EMPTY_NODE)},MAX:{value:new Nt(O,oe)}}),Ft.__EMPTY_NODE=ie.EMPTY_NODE,Qt.__childrenNodeConstructor=ie,Ot=oe,zt=oe,Gt=ae;var se,ue,ce=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.hu)(!wt(e)&&".priority"!==pt(e),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?R(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=ae(t),r=ie.EMPTY_NODE.updateChild(this.indexPath_,n);return new Nt(e,r)},e.prototype.maxPost=function(){var t=ie.EMPTY_NODE.updateChild(this.indexPath_,oe);return new Nt(O,t)},e.prototype.toString=function(){return mt(this.indexPath_,0).join("/")},e}(Lt),le=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?R(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return Nt.MAX},e.prototype.makePost=function(t,e){var n=ae(t);return new Nt(e,n)},e.prototype.toString=function(){return".value"},e}(Lt)),he="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fe=(se=0,ue=[],function(t){var e,n=t===se;se=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=he.charAt(t%64),t=Math.floor(t/64);(0,o.hu)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===ue[e];e--)ue[e]=0;ue[e]++}else for(e=0;e<12;e++)ue[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=he.charAt(ue[e]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),de=function(t){if("2147483647"===t)return"-";var e=j(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return O;var o=he.charAt(he.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},pe=function(t){if("-2147483648"===t)return A;var e=j(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=he.charAt(he.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ve(t){return{type:"value",snapshotNode:t}}function ye(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ge(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function me(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var _e=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){(0,o.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(ge(e,s)):(0,o.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(ye(e,n)):a.trackChildChange(me(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Jt,function(t,r){e.hasChild(t)||n.trackChildChange(ge(t,r))}),e.isLeafNode()||e.forEachChild(Jt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(me(e,r,i))}else n.trackChildChange(ye(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ie.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(e){this.indexedFilter_=new _e(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Nt(e,n))||(n=ie.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ie.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ie.EMPTY_NODE);var i=this;return e.forEachChild(Jt,function(t,e){i.matches(new Nt(t,e))||(r=r.updateImmediateChild(t,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),we=function(){function t(t){this.rangedFilter_=new be(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Nt(e,n))||(n=ie.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ie.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ie.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(ie.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ie.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Nt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(me(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ge(e,f));var v=u.updateImmediateChild(e,ie.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(ye(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(ge(l.name,l.node)),i.trackChildChange(ye(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,ie.EMPTY_NODE)):t},t}(),ke=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Jt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Ce(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ee(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Se(t,e){var n=t.copy();return n.index_=e,n}function Te(t){var e,n={};return t.isDefault()||(t.index_===Jt?e="$priority":t.index_===le?e="$value":t.index_===Zt?e="$key":((0,o.hu)(t.index_ instanceof ce,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,o.Pz)(e),t.startSet_&&(n.startAt=(0,o.Pz)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,o.Pz)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,o.Pz)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,o.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Ie(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Jt&&(e.i=t.index_.toString()),e}var xe=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=E("p:rest:"),o.listens_={},o}return(0,a.ZT)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Te(t._queryParams);this.restRequest_(s+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Te(t._queryParams),r=t._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var s=(0,a.CR)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(e.auth=u.accessToken),c&&c.token&&(e.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.xO)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=(0,o.cI)(h.responseText)}catch(e){I("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&I("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(ct),Ae=function(){function t(){this.rootNode_=ie.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Oe(){return{value:null,children:new Map}}function Re(t,e,n){if(wt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=pt(e);t.children.has(r)||t.children.set(r,Oe()),Re(t.children.get(r),e=yt(e),n)}}function Pe(t,e){if(wt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Jt,function(e,n){Re(t,new ft(e),n)}),Pe(t,e)}if(t.children.size>0){var r=pt(e);return e=yt(e),t.children.has(r)&&Pe(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function De(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){De(r,new ft(e.toString()+"/"+t),n)})}var Ne=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,a.pi)({},t);return this.last_&&F(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Le=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ne(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;F(e,function(e,i){i>0&&(0,o.r3)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Fe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Ze(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Me,je=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Fe.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(wt(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ft(e));return new t(dt(),n,this.revert)}return(0,o.hu)(pt(this.path)===e,"operationForChild called for unrelated child."),new t(yt(this.path),this.affectedTree,this.revert)},t}(),Ue=function(){function t(t,e){this.source=t,this.path=e,this.type=Fe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return wt(this.path)?new t(this.source,dt()):new t(this.source,yt(this.path))},t}(),Ve=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Fe.OVERWRITE}return t.prototype.operationForChild=function(e){return wt(this.path)?new t(this.source,dt(),this.snap.getImmediateChild(e)):new t(this.source,yt(this.path),this.snap)},t}(),qe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Fe.MERGE}return t.prototype.operationForChild=function(e){if(wt(this.path)){var n=this.children.subtree(new ft(e));return n.isEmpty()?null:n.value?new Ve(this.source,dt(),n.value):new t(this.source,dt(),n)}return(0,o.hu)(pt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,yt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Be=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(wt(t))return this.isFullyInitialized()&&!this.filtered_;var e=pt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),$e=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function Ge(t,e,n,r,i,a){var s=r.filter(function(t){return t.type===n});s.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Nt(e.childName,e.snapshotNode),i=new Nt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),s.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,a);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function ze(t,e){return{eventCache:t,serverCache:e}}function He(t,e,n,r){return ze(new Be(e,n,r),t.serverCache)}function Ye(t,e,n,r){return ze(t.eventCache,new Be(e,n,r))}function We(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ke(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Qe=function(){function t(t,e){void 0===e&&(Me||(Me=new Vt(P)),e=Me),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return F(e,function(t,e){n=n.set(new ft(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:dt(),value:this.value};if(wt(t))return null;var n=pt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(yt(t),e);return null!=i?{path:bt(new ft(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(wt(e))return this;var n=pt(e),r=this.children.get(n);return null!==r?r.subtree(yt(e)):new t(null)},t.prototype.set=function(e,n){if(wt(e))return new t(n,this.children);var r=pt(e),i=(this.children.get(r)||new t(null)).set(yt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(wt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=pt(e),r=this.children.get(n);if(r){var i=r.remove(yt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(wt(t))return this.value;var e=pt(t),n=this.children.get(e);return n?n.get(yt(t)):null},t.prototype.setTree=function(e,n){if(wt(e))return n;var r,i=pt(e),o=(this.children.get(i)||new t(null)).setTree(yt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(dt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(bt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,dt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(wt(t))return null;var i=pt(t),o=this.children.get(i);return o?o.findOnPath_(yt(t),bt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,dt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(wt(e))return this;this.value&&r(n,this.value);var i=pt(e),o=this.children.get(i);return o?o.foreachOnPath_(yt(e),bt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(dt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(bt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Je=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Qe(null))},t}();function Xe(t,e,n){if(wt(e))return new Je(new Qe(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=kt(i,e);return o=o.updateChild(a,n),new Je(t.writeTree_.set(i,o))}var s=new Qe(n),u=t.writeTree_.setTree(e,s);return new Je(u)}function tn(t,e,n){var r=t;return F(n,function(t,n){r=Xe(r,bt(e,t),n)}),r}function en(t,e){if(wt(e))return Je.empty();var n=t.writeTree_.setTree(e,new Qe(null));return new Je(n)}function nn(t,e){return null!=rn(t,e)}function rn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(kt(n.path,e)):null}function on(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Jt,function(t,n){e.push(new Nt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Nt(t,n.value))}),e}function an(t,e){if(wt(e))return t;var n=rn(t,e);return new Je(null!=n?new Qe(n):t.writeTree_.subtree(e))}function sn(t){return t.writeTree_.isEmpty()}function un(t,e){return cn(dt(),t.writeTree_,e)}function cn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=cn(bt(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(bt(t,".priority"),r)),n}function ln(t,e){return wn(e,t)}function hn(t,e){if(t.snap)return St(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&St(bt(t.path,n),e))return!0;return!1}function fn(t){return t.visible}function dn(t,e,n){for(var r=Je.empty(),i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)St(n,s)?r=Xe(r,u=kt(n,s),a.snap):St(s,n)&&(u=kt(s,n),r=Xe(r,dt(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(St(n,s))r=tn(r,u=kt(n,s),a.children);else if(St(s,n))if(wt(u=kt(s,n)))r=tn(r,dt(),a.children);else{var c=(0,o.DV)(a.children,pt(u));if(c){var l=c.getChild(yt(u));r=Xe(r,dt(),l)}}}}}return r}function pn(t,e,n,r,i){if(r||i){var o=an(t.visibleWrites,e);return!i&&sn(o)?n:i||null!=n||nn(o,dt())?un(dn(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(St(t.path,e)||St(e,t.path))},e),n||ie.EMPTY_NODE):null}var a=rn(t.visibleWrites,e);if(null!=a)return a;var s=an(t.visibleWrites,e);return sn(s)?n:null!=n||nn(s,dt())?un(s,n||ie.EMPTY_NODE):null}function vn(t,e,n,r){return pn(t.writeTree,t.treePath,e,n,r)}function yn(t,e){return function(t,e,n){var r=ie.EMPTY_NODE,i=rn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Jt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=an(t.visibleWrites,e);return n.forEachChild(Jt,function(t,e){var n=un(an(o,new ft(t)),e);r=r.updateImmediateChild(t,n)}),on(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return on(an(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function gn(t,e,n,r){return function(t,e,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=bt(e,n);if(nn(t.visibleWrites,a))return null;var s=an(t.visibleWrites,a);return sn(s)?i.getChild(n):un(s,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function mn(t,e){return function(t,e){return rn(t.visibleWrites,e)}(t.writeTree,bt(t.treePath,e))}function _n(t,e,n){return function(t,e,n,r){var i=bt(e,n),o=rn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?un(an(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function bn(t,e){return wn(bt(t.treePath,e),t.writeTree)}function wn(t,e){return{treePath:t,writeTree:e}}var kn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,me(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,ge(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,ye(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,me(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Cn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),En=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Be(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _n(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ke(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=an(t.visibleWrites,e),c=rn(u,dt());if(null!=c)s=c;else{if(null==n)return[];s=un(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function Sn(t,e,n,r,i,a){var s=e.eventCache;if(null!=mn(r,n))return e;var u=void 0,c=void 0;if(wt(n))if((0,o.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Ke(e),h=yn(r,l instanceof ie?l:ie.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{var f=vn(r,Ke(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{var d=pt(n);if(".priority"===d){(0,o.hu)(1===vt(n),"Can't have a priority with additional path components");var p=s.getNode(),v=gn(r,n,p,c=e.serverCache.getNode());u=null!=v?t.filter.updatePriority(p,v):s.getNode()}else{var y=yt(n),g=void 0;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();var m=gn(r,n,s.getNode(),c);g=null!=m?s.getNode().getImmediateChild(d).updateChild(y,m):s.getNode().getImmediateChild(d)}else g=_n(r,d,e.serverCache);u=null!=g?t.filter.updateChild(s.getNode(),d,g,y,i,a):s.getNode()}}return He(e,u,s.isFullyInitialized()||wt(n),t.filter.filtersNodes())}function Tn(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(wt(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=pt(n);if(!c.isCompleteForPath(n)&&vt(n)>1)return e;var d=yt(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Cn,null)}var v=Ye(e,u,c.isFullyInitialized()||wt(n),l.filtersNodes());return Sn(t,v,n,i,new En(i,v,o),s)}function In(t,e,n,r,i,o,a){var s,u,c=e.eventCache,l=new En(i,e,o);if(wt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=He(e,u,!0,t.filter.filtersNodes());else{var h=pt(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=He(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=yt(n),d=c.getNode().getImmediateChild(h),p=void 0;if(wt(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===gt(f)&&v.getChild(_t(f)).isEmpty()?v:v.updateChild(f,r):ie.EMPTY_NODE}s=d.equals(p)?e:He(e,t.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),t.filter.filtersNodes())}}return s}function xn(t,e){return t.eventCache.isCompleteForChild(e)}function An(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function On(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=wt(n)?r:new Qe(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=An(0,e.serverCache.getNode().getImmediateChild(n),r);c=Tn(t,c,new ft(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=An(0,e.serverCache.getNode().getImmediateChild(n),r);c=Tn(t,c,new ft(n),h,i,o,a,s)}}),c}var Rn,Pn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new _e(r.getIndex()),o=(n=r).loadsAllData()?new _e(n.getIndex()):n.hasLimit()?new we(n):new be(n);this.processor_=function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode(ie.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ie.EMPTY_NODE,s.getNode(),null),l=new Be(u,a.isFullyInitialized(),i.filtersNodes()),h=new Be(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=ze(h,l),this.eventGenerator_=new $e(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Dn(t,e){var n=Ke(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!wt(e)&&!n.getImmediateChild(pt(e)).isEmpty())?n.getChild(e):null}function Nn(t){return 0===t.eventRegistrations_.length}function Ln(t,e,n){var r=[];if(n){(0,o.hu)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(u)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function Fn(t,e,n,r){e.type===Fe.MERGE&&null!==e.source.queryId&&((0,o.hu)(Ke(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(We(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=t.viewCache_,u=function(t,e,n,r,i){var a,s,u=new kn;if(n.type===Fe.OVERWRITE){var c=n;c.source.fromUser?a=In(t,e,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!wt(c.path),a=Tn(t,e,c.path,c.snap,r,i,s,u))}else if(n.type===Fe.MERGE){var l=n;l.source.fromUser?a=function(t,e,n,r,i,o,a){var s=e;return r.foreach(function(r,u){var c=bt(n,r);xn(e,pt(c))&&(s=In(t,s,c,u,i,o,a))}),r.foreach(function(r,u){var c=bt(n,r);xn(e,pt(c))||(s=In(t,s,c,u,i,o,a))}),s}(t,e,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered(),a=On(t,e,l.path,l.children,r,i,s,u))}else if(n.type===Fe.ACK_USER_WRITE){var h=n;a=h.revert?function(t,e,n,r,i,a){var s;if(null!=mn(r,n))return e;var u=new En(r,e,i),c=e.eventCache.getNode(),l=void 0;if(wt(n)||".priority"===pt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=vn(r,Ke(e));else{var f=e.serverCache.getNode();(0,o.hu)(f instanceof ie,"serverChildren would be complete if leaf node"),h=yn(r,f)}l=t.filter.updateFullNode(c,h=h,a)}else{var d=pt(n),p=_n(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?t.filter.updateChild(c,d,p,yt(n),u,a):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(c,d,ie.EMPTY_NODE,yt(n),u,a):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=vn(r,Ke(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,s,a))}return s=e.serverCache.isFullyInitialized()||null!=mn(r,dt()),He(e,l,s,t.filter.filtersNodes())}(t,e,h.path,r,i,u):function(t,e,n,r,i,o,a){if(null!=mn(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(wt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Tn(t,e,n,u.getNode().getChild(n),i,o,s,a);if(wt(n)){var c=new Qe(null);return u.getNode().forEachChild(Zt,function(t,e){c=c.set(new ft(t),e)}),On(t,e,n,c,i,o,s,a)}return e}var l=new Qe(null);return r.foreach(function(t,e){var r=bt(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),On(t,e,n,l,i,o,s,a)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Fe.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(t,e,n,r,i){var o=e.serverCache;return Sn(t,Ye(e,o.getNode(),o.isFullyInitialized()||wt(n),o.isFiltered()),n,r,Cn,i)}(t,e,n.path,r,u)}var f=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=We(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ve(We(e)))}}(e,a,f),{viewCache:a,changes:f}}(t.processor_,s,e,n,r);return i=t.processor_,(0,o.hu)((a=u.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Zn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Zn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),Ge(t,i,"child_removed",e,r,n),Ge(t,i,"child_added",e,r,n),Ge(t,i,"child_moved",o,r,n),Ge(t,i,"child_changed",e,r,n),Ge(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Mn,jn=function(){this.views=new Map};function Un(t,e,n,r){var i,s,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Fn(c,e,n,r)}var l=[];try{for(var h=(0,a.XA)(t.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(Fn(c=f.value,e,n,r))}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Vn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var a=vn(n,i?r:null),s=!1;a?s=!0:r instanceof ie?(a=yn(n,r),s=!1):(a=ie.EMPTY_NODE,s=!1);var u=ze(new Be(a,s,!1),new Be(r,i,!1));return new Pn(e,u)}return o}function qn(t){var e,n,r=[];try{for(var i=(0,a.XA)(t.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Bn(t,e){var n,r,i=null;try{for(var o=(0,a.XA)(t.views.values()),s=o.next();!s.done;s=o.next())i=i||Dn(s.value,e)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function $n(t,e){return e._queryParams.loadsAllData()?Hn(t):t.views.get(e._queryIdentifier)}function Gn(t,e){return null!=$n(t,e)}function zn(t){return null!=Hn(t)}function Hn(t){var e,n;try{for(var r=(0,a.XA)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Yn=1,Wn=function(t){this.listenProvider_=t,this.syncPointTree_=new Qe(null),this.pendingWriteTree_={visibleWrites:Je.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Kn(t,e,n,r,i){return function(t,e,n,r,i){(0,o.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Xe(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?nr(t,new Ve({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Qn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=t.allWrites.length-1;i&&s>=0;){var u=t.allWrites[s];u.visible&&(s>=n&&hn(u,r.path)?i=!1:St(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(t){t.visibleWrites=dn(t.allWrites,fn,dt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=en(t.visibleWrites,r.path):F(r.children,function(e){t.visibleWrites=en(t.visibleWrites,bt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var i=new Qe(null);return null!=r.snap?i=i.set(dt(),!0):F(r.children,function(t){i=i.set(new ft(t),!0)}),nr(t,new je(r.path,i,n))}return[]}function Jn(t,e,n){return nr(t,new Ve({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Xn(t,e,n,r){var i=e._path,s=t.syncPointTree_.get(i),u=[];if(s&&("default"===e._queryIdentifier||Gn(s,e))){var c=function(t,e,n,r){var i,s,u=e._queryIdentifier,c=[],l=[],h=zn(t);if("default"===u)try{for(var f=(0,a.XA)(t.views.entries()),d=f.next();!d.done;d=f.next()){var p,v=(0,a.CR)(d.value,2),y=v[0];l=l.concat(Ln(p=v[1],n,r)),Nn(p)&&(t.views.delete(y),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(p=t.views.get(u))&&(l=l.concat(Ln(p,n,r)),Nn(p)&&(t.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!zn(t)&&c.push(new((0,o.hu)(Rn,"Reference.ts has not been loaded"),Rn)(e._repo,e._path)),{removed:c,events:l}}(s,e,n,r);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),f=t.syncPointTree_.findOnPath(i,function(t,e){return zn(e)});if(h&&!f){var d=t.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&zn(e))return[Hn(e)];var r=[];return e&&(r=qn(e)),F(n,function(t,e){r=r.concat(e)}),r})}(d),v=0;v<p.length;++v){var y=p[v],g=y.query,m=or(t,y);t.listenProvider_.startListening(hr(g),ar(t,g),m.hashFn,m.onComplete)}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(hr(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(sr(e));t.listenProvider_.stopListening(hr(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=sr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function tr(t,e,n){var r=e._path,i=null,a=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=kt(t,r);i=i||Bn(e,n),a=a||zn(e)});var s,u=t.syncPointTree_.get(r);u?(a=a||zn(u),i=i||Bn(u,dt())):(u=new jn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=ie.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Bn(e,dt());n&&(i=i.updateImmediateChild(t,n))}));var c=Gn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=sr(e);(0,o.hu)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Yn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var f=function(t,e,n,r,i,o){var a=Vn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Jt,function(t,e){r.push(ye(t,e))}),n.isFullyInitialized()&&r.push(ve(n.getNode())),Zn(t,r,n.getNode(),e)}(a,n)}(u,e,n,ln(t.pendingWriteTree_,r),i,s);if(!c&&!a){var d=$n(u,e);f=f.concat(function(t,e,n){var r=e._path,i=ar(t,e),a=or(t,n),s=t.listenProvider_.startListening(hr(e),i,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(r);if(i)(0,o.hu)(!zn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!wt(t)&&e&&zn(e))return[Hn(e).query];var r=[];return e&&(r=r.concat(qn(e).map(function(t){return t.query}))),F(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(hr(h),ar(t,h))}return s}(t,e,d))}return f}function er(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Bn(n,kt(t,e));if(r)return r});return pn(r,e,i,n,!0)}function nr(t,e){return rr(e,t.syncPointTree_,null,ln(t.pendingWriteTree_,dt()))}function rr(t,e,n,r){if(wt(t.path))return ir(t,e,n,r);var i=e.get(dt());null==n&&null!=i&&(n=Bn(i,dt()));var o=[],a=pt(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=bn(r,a);o=o.concat(rr(s,u,c,l))}return i&&(o=o.concat(Un(i,t,r,n))),o}function ir(t,e,n,r){var i=e.get(dt());null==n&&null!=i&&(n=Bn(i,dt()));var o=[];return e.children.inorderTraversal(function(e,i){var a=n?n.getImmediateChild(e):null,s=bn(r,e),u=t.operationForChild(e);u&&(o=o.concat(ir(u,i,a,s)))}),i&&(o=o.concat(Un(i,t,r,n))),o}function or(t,e){var n=e.query,r=ar(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||ie.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=ur(t,n);if(r){var i=cr(r),o=i.path,a=i.queryId,s=kt(o,e);return lr(t,o,new Ue(Ze(a),s))}return[]}(t,n._path,r):function(t,e){return nr(t,new Ue({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Xn(t,n,null,i)}}}function ar(t,e){var n=sr(e);return t.queryToTagMap.get(n)}function sr(t){return t._path.toString()+"$"+t._queryIdentifier}function ur(t,e){return t.tagToQueryMap.get(e)}function cr(t){var e=t.indexOf("$");return(0,o.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ft(t.substr(0,e))}}function lr(t,e,n){var r=t.syncPointTree_.get(e);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),Un(r,n,ln(t.pendingWriteTree_,e),null)}function hr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,o.hu)(Mn,"Reference.ts has not been loaded"),Mn)(t._repo,t._path):t}var fr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),dr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=bt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return er(this.syncTree_,this.path_)},t}(),pr=function(t,e,n){return t&&"object"==typeof t?((0,o.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?vr(t[".sv"],e,n):"object"==typeof t[".sv"]?yr(t[".sv"],e):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},vr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+t)}},yr=function(t,e,n){t.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},gr=function(t,e,n,r){return _r(e,new dr(n,t),r)},mr=function(t,e,n){return _r(t,new fr(e),n)};function _r(t,e,n){var r,i=t.getPriority().val(),o=pr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=pr(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Qt(s,ae(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Qt(o))),u.forEachChild(Jt,function(t,i){var o=_r(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var br=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function wr(t,e){for(var n=e instanceof ft?e:new ft(e),r=t,i=pt(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new br(i,r,a),i=pt(n=yt(n))}return r}function kr(t){return t.node.value}function Cr(t,e){t.node.value=e,xr(t)}function Er(t){return t.node.childCount>0}function Sr(t,e){F(t.node.children,function(n,r){e(new br(n,t,r))})}function Tr(t,e,n,r){n&&!r&&e(t),Sr(t,function(t){Tr(t,e,!0,r)}),n&&r&&e(t)}function Ir(t){return new ft(null===t.parent?t.name:Ir(t.parent)+"/"+t.name)}function xr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===kr(t)&&!Er(t)}(n),i=(0,o.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,xr(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,xr(t))}(t.parent,t.name,t)}var Ar=/[\[\].#$\/\u0000-\u001F\u007F]/,Or=/[\[\].#$\u0000-\u001F\u007F]/,Rr=10485760,Pr=function(t){return"string"==typeof t&&0!==t.length&&!Ar.test(t)},Dr=function(t){return"string"==typeof t&&0!==t.length&&!Or.test(t)},Nr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!x(t)||t&&"object"==typeof t&&(0,o.r3)(t,".sv")},Lr=function(t,e,n,r){r&&void 0===e||Fr((0,o.gK)(t,"value"),e,n)},Fr=function t(e,n,r){var i=r instanceof ft?new Tt(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+xt(i));if("function"==typeof n)throw new Error(e+"contains a function "+xt(i)+" with contents = "+n.toString());if(x(n))throw new Error(e+"contains "+n.toString()+" "+xt(i));if("string"==typeof n&&n.length>Rr/3&&(0,o.ug)(n)>Rr)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+xt(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(F(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Pr(n)))throw new Error(e+" contains an invalid key ("+n+") "+xt(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.ug)(e),It(t)}(i,n),t(e,r,i),c=(u=i).parts_.pop(),u.byteLength_-=(0,o.ug)(c),u.parts_.length>0&&(u.byteLength_-=1)}),a&&s)throw new Error(e+' contains ".value" child '+xt(i)+" in addition to actual children.")}},Zr=function(t,e,n,r){if(!r||void 0!==e){var i=(0,o.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var a=[];F(e,function(t,e){var r=new ft(t);if(Fr(i,e,bt(n,r)),".priority"===gt(r)&&!Nr(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=mt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Pr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Ct);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&St(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Mr=function(t,e,n){if(!n||void 0!==e){if(x(e))throw new Error((0,o.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nr(e))throw new Error((0,o.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},jr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ur=function(t,e,n,r){if(!(r&&void 0===n||Pr(n)))throw new Error((0,o.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vr=function(t,e,n,r){if(!(r&&void 0===n||Dr(n)))throw new Error((0,o.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qr=function(t,e){if(".info"===pt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Br=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Pr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Dr(t)}(n))throw new Error((0,o.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},$r=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(t,e)+"must be a boolean.")},Gr=function(){this.eventLists_=[],this.recursionDepth_=0};function zr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Et(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Hr(t,e,n){zr(t,n),Wr(t,function(t){return Et(t,e)})}function Yr(t,e,n){zr(t,n),Wr(t,function(t){return St(t,e)||St(e,t)})}function Wr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Kr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Kr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();b&&C("event: "+n.toString()),U(r)}}}var Qr="repo_interrupt",Jr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oe(),this.transactionQueueTree_=new br,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Xr(t){var e=t.infoData_.getNode(new ft(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ti(t){return(e=(e={timestamp:Xr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function ei(t,e,n,r,i){t.dataUpdateCount++;var a=new ft(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,function(t){return ae(t)});s=function(t,e,n,r){var i=ur(t,r);if(i){var o=cr(i),a=o.path,s=o.queryId,u=kt(a,e),c=Qe.fromObject(n);return lr(t,a,new qe(Ze(s),u,c))}return[]}(t.serverSyncTree_,a,u,i)}else{var c=ae(n);s=function(t,e,n,r){var i=ur(t,r);if(null!=i){var o=cr(i),a=o.path,s=o.queryId,u=kt(a,e);return lr(t,a,new Ve(Ze(s),u,n))}return[]}(t.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.UI)(n,function(t){return ae(t)});s=function(t,e,n){var r=Qe.fromObject(n);return nr(t,new qe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,l)}else{var h=ae(n);s=Jn(t.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=pi(t,a)),Yr(t.eventQueue_,f,s)}function ni(t,e){ri(t,"connected",e),!1===e&&function(t){li(t,"onDisconnectEvents");var e=ti(t),n=Oe();De(t.onDisconnect_,dt(),function(r,i){var o=gr(r,i,t.serverSyncTree_,e);Re(n,r,o)});var r=[];De(n,dt(),function(e,n){r=r.concat(Jn(t.serverSyncTree_,e,n));var i=_i(t,e);pi(t,i)}),t.onDisconnect_=Oe(),Yr(t.eventQueue_,dt(),r)}(t)}function ri(t,e,n){var r=new ft("/.info/"+e),i=ae(n);t.infoData_.updateSnapshot(r,i);var o=Jn(t.infoSyncTree_,r,i);Yr(t.eventQueue_,r,o)}function ii(t){return t.nextWriteId_++}function oi(t,e,n,r,i){li(t,"set",{path:e.toString(),value:n,priority:r});var o=ti(t),a=ae(n,r),s=er(t.serverSyncTree_,e),u=mr(a,s,o),c=ii(t),l=Kn(t.serverSyncTree_,e,u,c,!0);zr(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),function(n,r){var o="ok"===n;o||I("set at "+e+" failed: "+n);var a=Qn(t.serverSyncTree_,c,!o);Yr(t.eventQueue_,e,a),hi(0,i,n,r)});var h=_i(t,e);pi(t,h),Yr(t.eventQueue_,h,[])}function ai(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Pe(t.onDisconnect_,e),hi(0,n,r,i)})}function si(t,e,n,r){var i=ae(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Re(t.onDisconnect_,e,i),hi(0,r,n,o)})}function ui(t,e,n){var r;r=".info"===pt(e._path)?Xn(t.infoSyncTree_,e,n):Xn(t.serverSyncTree_,e,n),Hr(t.eventQueue_,e._path,r)}function ci(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Qr)}function li(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),C.apply(void 0,(0,a.ev)([r],(0,a.CR)(e)))}function hi(t,e,n,r){e&&U(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function fi(t,e,n){return er(t.serverSyncTree_,e,n)||ie.EMPTY_NODE}function di(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||mi(t,e),kr(e)){var n=yi(t,e);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=fi(t,e,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=kt(e,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=e;t.server_.put(f.toString(),h,function(r){li(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(Qn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},s=0;s<n.length;s++)a(s);for(mi(t,wr(t.transactionQueueTree_,e)),di(t,t.transactionQueueTree_),Yr(t.eventQueue_,e,i),s=0;s<o.length;s++)U(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(I("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;pi(t,e)}},s)}(t,Ir(e),n)}else Er(e)&&Sr(e,function(e){di(t,e)})}function pi(t,e){var n=vi(t,e),r=Ir(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],a=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),s=function(s){var u,c=e[s],l=kt(n,c.path),h=!1;if((0,o.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(Qn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(Qn(t.serverSyncTree_,c.currentWriteId,!0));else{var f=fi(t,c.path,a);c.currentInputSnapshot=f;var d=e[s].update(f.val());if(void 0!==d){Fr("transaction failed: Data returned ",d,c.path);var p=ae(d);"object"==typeof d&&null!=d&&(0,o.r3)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,y=ti(t),g=mr(p,f,y);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=ii(t),a.splice(a.indexOf(v),1),i=(i=i.concat(Kn(t.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(Qn(t.serverSyncTree_,v,!0))}else h=!0,u="nodata",i=i.concat(Qn(t.serverSyncTree_,c.currentWriteId,!0))}Yr(t.eventQueue_,n,i),i=[],h&&(e[s].status=2,setTimeout(e[s].unwatcher,Math.floor(0)),e[s].onComplete&&r.push("nodata"===u?function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)}:function(){return e[s].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)s(u);for(mi(t,t.transactionQueueTree_),u=0;u<r.length;u++)U(r[u]);di(t,t.transactionQueueTree_)}}(t,yi(t,n),r),r}function vi(t,e){var n,r=t.transactionQueueTree_;for(n=pt(e);null!==n&&void 0===kr(r);)r=wr(r,n),n=pt(e=yt(e));return r}function yi(t,e){var n=[];return gi(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function gi(t,e,n){var r=kr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Sr(e,function(e){gi(t,e,n)})}function mi(t,e){var n=kr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Cr(e,n.length>0?n:void 0)}Sr(e,function(e){mi(t,e)})}function _i(t,e){var n=Ir(vi(t,e)),r=wr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){bi(t,e)}),bi(t,r),Tr(r,function(e){bi(t,e)}),n}function bi(t,e){var n=kr(e);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Qn(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Cr(e,void 0):n.length=a+1,Yr(t.eventQueue_,Ir(e),i),s=0;s<r.length;s++)U(r[s])}}var wi=function(t,e){var n=ki(t),r=n.namespace;return"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Y(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ft(n.pathString)}},ki=function(t){var e="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=(0,a.XA)(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ci=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},t}(),Ei=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Si=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Ti=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.BH;return ai(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){qr("OnDisconnect.remove",this._path);var t=new o.BH;return si(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){qr("OnDisconnect.set",this._path),Lr("OnDisconnect.set",t,this._path,!1);var e=new o.BH;return si(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){qr("OnDisconnect.setWithPriority",this._path),Lr("OnDisconnect.setWithPriority",t,this._path,!1),Mr("OnDisconnect.setWithPriority",e,!1);var n=new o.BH;return function(t,e,n,r,i){var o=ae(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Re(t.onDisconnect_,e,o),hi(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){qr("OnDisconnect.update",this._path),Zr("OnDisconnect.update",t,this._path,!1);var e=new o.BH;return function(t,e,n,r){if((0,o.xb)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void hi(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&F(n,function(n,r){var i=ae(r);Re(t.onDisconnect_,bt(e,n),i)}),hi(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),Ii=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return wt(this._path)?null:gt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ri(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Ie(this._queryParams),e=N(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Ie(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=(0,o.m9)(e))instanceof t))return!1;var n=this._repo===e._repo,r=Et(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function xi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ai(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Zt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==A)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Jt){if(null!=e&&!Nr(e)||null!=n&&!Nr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(t.getIndex()instanceof ce||t.getIndex()===le,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Oi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ri=function(t){function e(e,n){return t.call(this,e,n,new ke,!1)||this}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=_t(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Ii),Pi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new ft(e),r=Li(this.ref,e);return new t(this._node.getChild(n),r,Jt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Li(n.ref,r),Jt))})},t.prototype.hasChild=function(t){var e=new ft(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Di(t,e){return(t=(0,o.m9)(t))._checkNotDeleted("ref"),void 0!==e?Li(t._root,e):t._root}function Ni(t,e){(t=(0,o.m9)(t))._checkNotDeleted("refFromURL");var n=wi(e,t._repo.repoInfo_.nodeAdmin);Br("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Di(t,n.path.toString())}function Li(t,e){var n;return null===pt((t=(0,o.m9)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vr("child","path",n,!1)):Vr("child","path",e,!1),new Ri(t._repo,bt(t._path,e))}function Fi(t,e){t=(0,o.m9)(t),qr("push",t._path),Lr("push",e,t._path,!0);var n,r=Xr(t._repo),i=fe(r),a=Li(t,i),s=Li(t,i);return n=null!=e?Mi(s,e).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Zi(t){return qr("remove",t._path),Mi(t,null)}function Mi(t,e){t=(0,o.m9)(t),qr("set",t._path),Lr("set",e,t._path,!1);var n=new o.BH;return oi(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function ji(t,e){t=(0,o.m9)(t),qr("setPriority",t._path),Mr("setPriority",e,!1);var n=new o.BH;return oi(t._repo,bt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Ui(t,e,n){if(qr("setWithPriority",t._path),Lr("setWithPriority",e,t._path,!1),Mr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.BH;return oi(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Vi(t,e){Zr("update",e,t._path,!1);var n=new o.BH;return function(t,e,n,r){li(t,"update",{path:e.toString(),value:n});var i=!0,a=ti(t),s={};if(F(n,function(n,r){i=!1,s[n]=gr(bt(e,n),ae(r),t.serverSyncTree_,a)}),i)C("update() called with empty data.  Don't do anything."),hi(0,r,"ok",void 0);else{var u=ii(t),c=function(t,e,n,r){!function(t,e,n,r){(0,o.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=tn(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=Qe.fromObject(n);return nr(t,new qe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,u);zr(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||I("update at "+e+" failed: "+n);var a=Qn(t.serverSyncTree_,u,!o),s=a.length>0?pi(t,e):e;Yr(t.eventQueue_,s,a),hi(0,r,n,i)}),F(n,function(n){var r=_i(t,bt(e,n));pi(t,r)}),Yr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var qi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Ci("value",this,new Pi(t.snapshotNode,new Ri(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ei(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Bi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ei(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.hu)(null!=t.childName,"Child events should have a childName.");var n=Li(new Ri(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Ci(t.type,this,new Pi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function $i(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){ui(t._repo,t,c),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Si(n,o||void 0),c="value"===e?new qi(u):new Bi(e,u);return function(t,e,n){var r;r=".info"===pt(e._path)?tr(t.infoSyncTree_,e,n):tr(t.serverSyncTree_,e,n),Hr(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return ui(t._repo,t,c)}}function Gi(t,e,n,r){return $i(t,"value",e,n,r)}function zi(t,e,n,r){return $i(t,"child_added",e,n,r)}function Hi(t,e,n,r){return $i(t,"child_changed",e,n,r)}function Yi(t,e,n,r){return $i(t,"child_moved",e,n,r)}function Wi(t,e,n,r){return $i(t,"child_removed",e,n,r)}function Ki(t,e,n){var r=null,i=n?new Si(n):null;"value"===e?r=new qi(i):e&&(r=new Bi(e,i)),ui(t._repo,t,r)}var Qi=function(){},Ji=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.ZT)(e,t),e.prototype._apply=function(t){Lr("endAt",this._value,t._path,!0);var e=Ee(t._queryParams,this._value,this._key);if(Oi(e),Ai(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ii(t._repo,t._path,e,t._orderByCalled)},e}(Qi);function Xi(t,e){return Ur("endAt","key",e,!0),new Ji(t,e)}var to=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.ZT)(e,t),e.prototype._apply=function(t){Lr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Zt?("string"==typeof n&&(n=pe(n)),i=Ee(e,n,r)):i=Ee(e,n,null==r?A:pe(r)),i.endBeforeSet_=!0,i);if(Oi(o),Ai(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ii(t._repo,t._path,o,t._orderByCalled)},e}(Qi);function eo(t,e){return Ur("endBefore","key",e,!0),new to(t,e)}var no=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.ZT)(e,t),e.prototype._apply=function(t){Lr("startAt",this._value,t._path,!0);var e=Ce(t._queryParams,this._value,this._key);if(Oi(e),Ai(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ii(t._repo,t._path,e,t._orderByCalled)},e}(Qi);function ro(t,e){return void 0===t&&(t=null),Ur("startAt","key",e,!0),new no(t,e)}var io=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.ZT)(e,t),e.prototype._apply=function(t){Lr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Zt?("string"==typeof n&&(n=de(n)),i=Ce(e,n,r)):i=Ce(e,n,null==r?O:de(r)),i.startAfterSet_=!0,i);if(Oi(o),Ai(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ii(t._repo,t._path,o,t._orderByCalled)},e}(Qi);function oo(t,e){return Ur("startAfter","key",e,!0),new io(t,e)}var ao=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,a.ZT)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ii(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Qi);function so(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ao(t)}var uo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,a.ZT)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ii(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Qi);function co(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new uo(t)}var lo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return(0,a.ZT)(e,t),e.prototype._apply=function(t){xi(t,"orderByChild");var e=new ft(this._path);if(wt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ce(e),r=Se(t._queryParams,n);return Ai(r),new Ii(t._repo,t._path,r,!0)},e}(Qi);function ho(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vr("orderByChild","path",t,!1),new lo(t)}var fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype._apply=function(t){xi(t,"orderByKey");var e=Se(t._queryParams,Zt);return Ai(e),new Ii(t._repo,t._path,e,!0)},e}(Qi);function po(){return new fo}var vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype._apply=function(t){xi(t,"orderByPriority");var e=Se(t._queryParams,Jt);return Ai(e),new Ii(t._repo,t._path,e,!0)},e}(Qi);function yo(){return new vo}var go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype._apply=function(t){xi(t,"orderByValue");var e=Se(t._queryParams,le);return Ai(e),new Ii(t._repo,t._path,e,!0)},e}(Qi);function mo(){return new go}var _o=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.ZT)(e,t),e.prototype._apply=function(t){if(Lr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ji(this._value,this._key)._apply(new no(this._value,this._key)._apply(t))},e}(Qi);function bo(t,e){return Ur("equalTo","key",e,!0),new _o(t,e)}function wo(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(t);try{for(var u=(0,a.XA)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s}!function(t){(0,o.hu)(!Rn,"__referenceConstructor has already been defined"),Rn=t}(Ri),function(t){(0,o.hu)(!Mn,"__referenceConstructor has already been defined"),Mn=t}(Ri);var ko={},Co=!1;function Eo(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=wi(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,u=(s=wi(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new $($.OWNER):new B(t.name,t.options,e);Br("Invalid Firebase Database URL",s),wt(s.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=ko[e.name];i||(ko[e.name]=i={});var o=i[t.toURLString()];return o&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Jr(t,Co,n,r),i[t.toURLString()]=o,o}(u,t,l,new q(t.name,n));return new So(h,t)}var So=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=X(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new xe(t.repoInfo_,function(e,n,r,i){ei(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return ni(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}t.persistentConnection_=new Dt(t.repoInfo_,e,function(e,n,r,i){ei(t,e,n,r,i)},function(e){ni(t,e)},function(e){!function(t,e){F(e,function(e,n){ri(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(r=function(){return new Le(t.stats_,t.server_)},i=t.repoInfo_.toString(),J[i]||(J[i]=r()),J[i]),t.infoData_=new Ae,t.infoSyncTree_=new Wn({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=Jn(t.infoSyncTree_,e._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),ri(t,"connected",!1),t.serverSyncTree_=new Wn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Yr(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ri(this._repo,dt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=ko[e=this.app.name])&&n[t.key]===t||T("Database "+e+"("+t.repoInfo_+") has already been deleted."),ci(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&T("Cannot call "+t+" on a deleted database.")},t}();function To(t){(t=(0,o.m9)(t))._checkNotDeleted("goOffline"),ci(t._repo)}function Io(t){var e;(t=(0,o.m9)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Qr)}var xo={".sv":"timestamp"},Ao=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Oo(t,e,n){var r;if(t=(0,o.m9)(t),qr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.BH,s=Gi(t,function(){});return function(e,n,r,i,s,u){li(e,"transaction on "+n);var c={path:n,update:r,onComplete:function(e,n,r){var i=null;e?a.reject(e):(i=new Pi(r,new Ri(t._repo,t._path),Jt),a.resolve(new Ao(n,i)))},status:null,order:g(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=fi(e,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Fr("transaction failed: Data returned ",h,c.path),c.status=0;var f=wr(e.transactionQueueTree_,n),d=kr(f)||[];d.push(c),Cr(f,d);var p=void 0;"object"==typeof h&&null!==h&&(0,o.r3)(h,".priority")?(p=(0,o.DV)(h,".priority"),(0,o.hu)(Nr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(er(e.serverSyncTree_,n)||ie.EMPTY_NODE).getPriority().val();var v=ti(e),y=ae(h,p),m=mr(y,l,v);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=m,c.currentWriteId=ii(e);var _=Kn(e.serverSyncTree_,n,m,c.currentWriteId,c.applyLocally);Yr(e.eventQueue_,n,_),di(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,s,i),a.promise}var Ro=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),Po=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Do=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Vr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Vr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Lo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),No=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var a,s=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new Do(s.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return Gi(this._delegate,c,l),n;case"child_added":return zi(this._delegate,c,l),n;case"child_removed":return Wi(this._delegate,c,l),n;case"child_changed":return Hi(this._delegate,c,l),n;case"child_moved":return Yi(this._delegate,c,l),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,o.Dv)("Query.off",0,3,arguments.length),jr("Query.off",t,!0),(0,o.Wj)("Query.off","callback",e,!0),(0,o.lb)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Ki(this._delegate,t,r)}else Ki(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=kt(t,n);r=r||Bn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Bn(i,dt()):(i=new jn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new Be(r,!0,!1):null;return We(Vn(i,e,ln(t.pendingWriteTree_,e._path),o?a.getNode():ie.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=ae(n).withIndex(e._queryParams.getIndex()),i=Jn(t.serverSyncTree_,e._path,r);return Hr(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return li(t,"get for query "+(0,o.Pz)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=(0,o.m9)(t))._repo,t).then(function(e){return new Pi(e,new Ri(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Do(t.database,e)})},t.prototype.once=function(e,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.BH,c=function(t,e){var r=new Do(a.database,t);n&&n.call(s.context,r,e),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(t){s.cancel&&s.cancel.call(s.context,t),u.reject(t)};switch(e){case"value":Gi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":zi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Wi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Hi(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Yi(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new t(this.database,wo(this._delegate,so(e)))},t.prototype.limitToLast=function(e){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new t(this.database,wo(this._delegate,co(e)))},t.prototype.orderByChild=function(e){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new t(this.database,wo(this._delegate,ho(e)))},t.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new t(this.database,wo(this._delegate,po()))},t.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new t(this.database,wo(this._delegate,yo()))},t.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new t(this.database,wo(this._delegate,mo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new t(this.database,wo(this._delegate,ro(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new t(this.database,wo(this._delegate,oo(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new t(this.database,wo(this._delegate,Xi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new t(this.database,wo(this._delegate,eo(e,n)))},t.prototype.equalTo=function(e,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new t(this.database,wo(this._delegate,bo(e,n)))},t.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,o.Wj)(t,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,o.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Lo(this.database,new Ri(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Lo=function(t){function e(e,n){var r=t.call(this,e,new Ii(n._repo,n._path,new ke,!1))||this;return r.database=e,r._delegate=n,r}return(0,a.ZT)(e,t),e.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Li(this._delegate,t))},e.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",e,!0);var n=Mi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qr("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",e,!0);var i=Vi(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=Ui(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",t,!0);var e=Zi(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,o.Wj)("Reference.transaction","onComplete",e,!0),$r("Reference.transaction","applyLocally",n,!0);var i=Oo(this._delegate,t,{applyLocally:n}).then(function(t){return new Po(t.committed,new Do(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",e,!0);var n=ji(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=Fi(this._delegate,t),a=i.then(function(t){return new e(r.database,t)});n&&a.then(function(){return n(null)},function(t){return n(t)});var s=new e(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return qr("Reference.onDisconnect",this._delegate._path),new Ro(new Ti(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(No),Fo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=(0,o.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new $($.OWNER);else if(r.mockUserToken){var s=(0,o.Sg)(r.mockUserToken,t.app.options.projectId);a=new $(s)}!function(t,e,n,r){t.repoInfo_=new Y(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,a)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,o.Dv)("database.ref",0,1,arguments.length),t instanceof Lo){var e=Ni(this._delegate,t.toString());return new Lo(this,e)}return e=Di(this._delegate,t),new Lo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,o.Dv)(e,1,1,arguments.length);var n=Ni(this._delegate,t);return new Lo(this,n)},t.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),To(this._delegate)},t.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),Io(this._delegate)},t.ServerValue={TIMESTAMP:xo,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Zo=Object.freeze({__proto__:null,forceLongPolling:function(){at.forceDisallow(),rt.forceAllow()},forceWebSockets:function(){rt.forceDisallow()},isWebSocketsAvailable:function(){return at.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Ne(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);F(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;c(t.version);var u=new i.zt("auth-internal",new i.H0("database-standalone"));return u.setComponent(new i.wA("auth-internal",function(){return r},"PRIVATE")),{instance:new Fo(Eo(e,u,void 0,n,s),e),namespace:o}}}),Mo=Dt;Dt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Dt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var jo=Object.freeze({__proto__:null,DataConnection:Mo,RealTimeConnection:ut,hijackHash:function(t){var e=Dt.prototype.put;return Dt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Dt.prototype.put=e}},ConnectionTarget:Y,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){Co=t}}),Uo=Fo.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.wA("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Fo(Eo(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Lo,Query:No,Database:Fo,DataSnapshot:Do,enableLogging:k,INTERNAL:Zo,ServerValue:Uo,TEST_ACCESS:jo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.8"),(0,o.Yr)()&&(t.exports=n)}(r.Z)},308:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,{in:function(){return a},Yd:function(){return h},Ub:function(){return f},Am:function(){return d}});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},250:function(t,e,n){"use strict";n.d(e,{BH:function(){return f},LL:function(){return T},ZR:function(){return S},gQ:function(){return j},hu:function(){return i},g5:function(){return o},US:function(){return s},h$:function(){return u},r3:function(){return N},Sg:function(){return d},ne:function(){return U},p$:function(){return l},ZB:function(){return h},gK:function(){return $},m9:function(){return W},z$:function(){return p},GJ:function(){return D},jU:function(){return g},ru:function(){return m},d:function(){return b},xb:function(){return F},w1:function(){return w},uI:function(){return v},UG:function(){return y},Yr:function(){return C},b$:function(){return _},G6:function(){return E},Mn:function(){return k},w9:function(){return P},cI:function(){return A},UI:function(){return Z},xO:function(){return M},DV:function(){return L},ug:function(){return Y},dS:function(){return H},Pz:function(){return O},Dv:function(){return B},Wj:function(){return G},lb:function(){return z}});var r=n(4762),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return s.encodeByteArray(e,!0)},c=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function d(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),s.encodeString(JSON.stringify(a),!1),""].join(".")}function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function g(){return"object"==typeof self&&self.self===self}function m(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return p().indexOf("Electron/")>=0}function w(){var t=p();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k(){return p().indexOf("MSAppHost/")>=0}function C(){return!1}function E(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var S=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,T.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),T=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?I(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new S(i,s,r);return u},t}();function I(t,e){return t.replace(x,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var x=/\{\$([^}]+)}/g;function A(t){return JSON.parse(t)}function O(t){return JSON.stringify(t)}var R=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=A(c(o[0])||""),n=A(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},P=function(t){var e=R(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},D=function(t){var e=R(t).claims;return"object"==typeof e&&!0===e.admin};function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function F(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Z(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function M(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var j=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function U(t,e){var n=new V(t,e);return n.subscribe.bind(n)}var V=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=q),void 0===r.error&&(r.error=q),void 0===r.complete&&(r.complete=q);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function q(){}var B=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function $(t,e){return t+" failed: "+e+" argument "}function G(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error($(t,e)+"must be a valid function.")}function z(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error($(t,e)+"must be a valid context object.")}var H=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Y=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function W(t){return t&&t._delegate?t._delegate:t}},1585:function(t,e,n){"use strict";n.d(e,{V1:function(){return a}});var r=n(4762),i=n(5962),o=n(5366),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},e.EncodingType={JPEG:0,PNG:1},e.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},e.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},e.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},e.Direction={BACK:0,FRONT:1},e}return(0,r.ZT)(e,t),e.prototype.getPicture=function(t){return(0,i.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},e.prototype.cleanup=function(){return(0,i.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},e.pluginName="Camera",e.plugin="cordova-plugin-camera",e.pluginRef="navigator.camera",e.repo="https://github.com/apache/cordova-plugin-camera",e.platforms=["Android","Browser","iOS","Windows"],e.\u0275fac=function(){var t;return function(n){return(t||(t=o.n5z(e)))(n||e)}}(),e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(i.KY)},5962:function(t,e,n){"use strict";n.d(e,{KY:function(){return _},gR:function(){return f},DM:function(){return b},e4:function(){return w},sM:function(){return s},G5:function(){return d},Uj:function(){return k},Fj:function(){return C}});var r=n(8318),i=n(7254),o={error:"cordova_not_available"},a={error:"plugin_not_installed"};function s(t){if("undefined"!=typeof window&&window.angular){var e=window.document,n=window.angular.element(e.querySelector("[ng-app]")||e.body).injector();if(n)return n.get("$q")(function(e,n){t(e,n)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(e,n){t(e,n)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function u(t,e,n,r){var i,o;void 0===r&&(r={});var a=s(function(a,s){i=r.destruct?v(t,e,n,r,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)}):v(t,e,n,r,a,s),o=s});return i&&i.error&&(a.catch(function(){}),"function"==typeof o&&o(i.error)),a}function c(t,e,n,r){return void 0===r&&(r={}),s(function(i,o){var a=v(t,e,n,r);a?a.error?o(a.error):a.then&&a.then(i).catch(o):o({error:"unexpected_error"})})}function l(t,e,n,i){return void 0===i&&(i={}),new r.y(function(r){var o;return(o=i.destruct?v(t,e,n,i,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)}):v(t,e,n,i,r.next.bind(r),r.error.bind(r)))&&o.error&&(r.error(o.error),r.complete()),function(){try{if(i.clearFunction)return i.clearWithArgs?v(t,i.clearFunction,n,i,r.next.bind(r),r.error.bind(r)):v(t,i.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}})}function h(t,e){return e="undefined"!=typeof window&&e?m(window,e):e||("undefined"!=typeof window?window:{}),(0,i.R)(e,t)}function f(t,e,n){var r,i,s;return"string"==typeof t?r=t:(r=t.constructor.getPluginRef(),n=t.constructor.getPluginName(),s=t.constructor.getPluginInstallName()),!(!(i=g(r))||e&&void 0===i[e])||("undefined"!=typeof window&&window.cordova?(function(t,e,n){n?console.warn("Native: tried calling "+t+"."+n+", but the "+t+" plugin is not installed."):console.warn("Native: tried accessing the "+t+" plugin but it's not installed."),e&&console.warn("Install the "+t+" plugin: 'ionic cordova plugin add "+e+"'")}(n,s,e),a):(function(t,e){"undefined"==typeof process&&(e?console.warn("Native: tried calling "+t+"."+e+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+t+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(n,e),o))}function d(t,e){return t._objectInstance&&(!e||void 0!==t._objectInstance[e])}function p(t,e,n,r){if(void 0===e&&(e={}),e.sync)return t;if("reverse"===e.callbackOrder)t.unshift(r),t.unshift(n);else if("node"===e.callbackStyle)t.push(function(t,e){t?r(t):n(e)});else if("object"===e.callbackStyle&&e.successName&&e.errorName){var i={};i[e.successName]=n,i[e.errorName]=r,t.push(i)}else if(void 0!==e.successIndex||void 0!==e.errorIndex){var o=function(){e.successIndex>t.length?t[e.successIndex]=n:t.splice(e.successIndex,0,n)},a=function(){e.errorIndex>t.length?t[e.errorIndex]=r:t.splice(e.errorIndex,0,r)};e.successIndex>e.errorIndex?(a(),o()):(o(),a())}else t.push(n),t.push(r);return t}function v(t,e,n,r,i,o){void 0===r&&(r={}),n=p(n,r,i,o);var a=f(t,e);if(!0===a){var s=g(t.constructor.getPluginRef());return s[e].apply(s,n)}return a}function y(t,e,n,r,i,o){if(void 0===r&&(r={}),n=p(n,r,i,o),d(t,e))return t._objectInstance[e].apply(t._objectInstance,n)}function g(t){return"undefined"!=typeof window?m(window,t):null}function m(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}var _=function(){function t(){}return t.installed=function(){return!0===f(this.pluginRef)},t.getPlugin=function(){return"undefined"!=typeof window?function(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}(window,this.pluginRef):null},t.getPluginName=function(){return this.pluginName},t.getPluginRef=function(){return this.pluginRef},t.getPluginInstallName=function(){return this.plugin},t.getSupportedPlatforms=function(){return this.platforms},t.pluginName="",t.pluginRef="",t.plugin="",t.repo="",t.platforms=[],t.install="",t}();function b(t,e,n,r){return function(t,e,n){return void 0===n&&(n={}),function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n.sync?v(t,e,r,n):n.observable?l(t,e,r,n):n.eventObservable&&n.event?h(n.event,n.element):n.otherPromise?c(t,e,r,n):u(t,e,r,n)}}(t,e,n).apply(this,r)}function w(t,e,n,i){return i=Array.from(i),function(t,e,n){return void 0===n&&(n={}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n.sync)return y(t,e,i,n);if(n.observable)return new r.y(function(r){var o;return(o=n.destruct?y(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)}):y(t,e,i,n,r.next.bind(r),r.error.bind(r)))&&o.error&&r.error(o.error),function(){try{return n.clearWithArgs?y(t,n.clearFunction,i,n,r.next.bind(r),r.error.bind(r)):y(t,n.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}});if(n.otherPromise)return s(function(r,o){var a;(a=n.destruct?y(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):y(t,e,i,n,r,o))&&a.then?a.then(r,o):o()});var a,u,c=s(function(r,o){a=n.destruct?y(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):y(t,e,i,n,r,o),u=o});return a&&a.error&&(c.catch(function(){}),"function"==typeof u&&u(a.error)),c}}(t,e,n).apply(this,i)}function k(t,e){return t._objectInstance&&t._objectInstance[e]?t._objectInstance[e]:null}function C(t,e,n){t._objectInstance&&(t._objectInstance[e]=n)}!function(){if("undefined"==typeof process){var t="undefined"!=typeof window?window:{},e=Date.now(),n=!1;t.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-e)+" ms"),n=!0}),setTimeout(function(){!n&&t.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},6986:function(t,e,n){"use strict";n.d(e,{d:function(){return a}});var r=n(4762),i=n(5962),o=n(5366),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.reverseGeocode=function(t,e,n){return(0,i.DM)(this,"reverseGeocode",{callbackOrder:"reverse"},arguments)},e.prototype.forwardGeocode=function(t,e){return(0,i.DM)(this,"forwardGeocode",{callbackOrder:"reverse"},arguments)},e.pluginName="NativeGeocoder",e.plugin="cordova-plugin-nativegeocoder",e.pluginRef="nativegeocoder",e.repo="https://github.com/sebastianbaar/cordova-plugin-nativegeocoder",e.platforms=["iOS","Android"],e.\u0275fac=function(){var t;return function(n){return(t||(t=o.n5z(e)))(n||e)}}(),e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(i.KY)},4812:function(t,e,n){"use strict";n.d(e,{BX:function(){return le},Br:function(){return he},w:function(){return q},dr:function(){return nt},BJ:function(){return rt},oU:function(){return it},cs:function(){return se},YG:function(){return ot},Sm:function(){return at},PM:function(){return st},FN:function(){return ut},Zi:function(){return ct},gZ:function(){return lt},W2:function(){return ht},Gu:function(){return ft},gu:function(){return dt},Xz:function(){return pt},pK:function(){return vt},Ie:function(){return yt},u8:function(){return gt},IK:function(){return mt},td:function(){return _t},Q$:function(){return bt},q_:function(){return wt},yh:function(){return kt},z0:function(){return Ct},fG:function(){return Et},zc:function(){return St},nJ:function(){return Tt},Wo:function(){return It},jP:function(){return oe},VI:function(){return xt},cJ:function(){return At},GO:function(){return Ot},t9:function(){return Rt},n0:function(){return Pt},jI:function(){return Dt},g2:function(){return Nt},Bs:function(){return Lt},wd:function(){return Ft},ho:function(){return Zt},sr:function(){return Mt},Pc:function(){return me},r4:function(){return ye},HT:function(){return fe},IN:function(){return de},SH:function(){return W},as:function(){return B},t4:function(){return z},YI:function(){return ue},QI:function(){return $},j9:function(){return G},yF:function(){return ve}});var r=n(2454),i=n(1532),o=n(3620),a=n(8784),s=n(4999),u=n(1112),c=n(1998),l=n(8774),h=n.n(l);function f(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function d(t,e){return function(n,r){e(n,r,t)}}function p(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}var v,y,g,m,_=n(5366),b=n(1462),w=n(1116),k=n(9272),C=(n(5337),n(8176),n(8520),n(7505)),E=n(1843),S=n(5538),T=(n(4378),n(1558)),I=(n(6953),n(2322)),x=(n(4641),n(5959)),A=n(7254),O=n(8512),R=n(3835),P=n(4689),D=n(8720),N=C.i,L=["*"],F=function(t){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t)},Z=function(){var t=function(){function t(e,n){(0,u.Z)(this,t),this.injector=e,this.el=n,this.onChange=function(){},this.onTouched=function(){}}return(0,c.Z)(t,[{key:"writeValue",value:function(t){this.el.nativeElement.value=this.lastValue=null==t?"":t,M(this.el)}},{key:"handleChangeEvent",value:function(t,e){t===this.el.nativeElement&&(e!==this.lastValue&&(this.lastValue=e,this.onChange(e)),M(this.el))}},{key:"_handleBlurEvent",value:function(t){t===this.el.nativeElement&&(this.onTouched(),M(this.el))}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this.el.nativeElement.disabled=t}},{key:"ngOnDestroy",value:function(){this.statusChanges&&this.statusChanges.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var t,e=this;try{t=this.injector.get(b.a5)}catch(r){}if(t){t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(function(){return M(e.el)}));var n=t.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(function(t){if(n[t]){var r=n[t].bind(n);n[t]=function(){r.apply(void 0,arguments),M(e.el)}}})}}}]),t}();return t.\u0275fac=function(t){_.$Z()},t.\u0275dir=_.lG2({type:t,hostBindings:function(t,e){1&t&&_.NdJ("ionBlur",function(t){return e._handleBlurEvent(t.target)})}}),t}(),M=function(t){F(function(){var e=t.nativeElement,n=j(e);U(e,n);var r=e.closest("ion-item");r&&U(r,n)})},j=function(t){for(var e=t.classList,n=[],r=0;r<e.length;r++){var i=e.item(r);null!==i&&V(i,"ng-")&&n.push("ion-".concat(i.substr(3)))}return n},U=function(t,e){var n=t.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(function(t){return n.remove(t)}),e.forEach(function(t){return n.add(t)})},V=function(t,e){return t.substr(0,e.length)===e},q=function(){var t=v=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r){return(0,u.Z)(this,n),e.call(this,t,r)}return(0,c.Z)(n,[{key:"writeValue",value:function(t){this.el.nativeElement.checked=this.lastValue=null!=t&&t,M(this.el)}},{key:"_handleIonChange",value:function(t){this.handleChangeEvent(t,t.checked)}}]),n}(Z);return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.zs3),_.Y36(_.SBq))},t.\u0275dir=_.lG2({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,e){1&t&&_.NdJ("ionChange",function(t){return e._handleIonChange(t.target)})},features:[_._Bn([{provide:b.JU,useExisting:v,multi:!0}]),_.qOj]}),t}(),B=function(){var t=y=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r){return(0,u.Z)(this,n),e.call(this,t,r)}return(0,c.Z)(n,[{key:"_handleIonChange",value:function(t){this.handleChangeEvent(t,t.value)}},{key:"registerOnChange",value:function(t){(0,i.Z)((0,o.Z)(n.prototype),"registerOnChange",this).call(this,function(e){t(""===e?null:parseFloat(e))})}}]),n}(Z);return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.zs3),_.Y36(_.SBq))},t.\u0275dir=_.lG2({type:t,selectors:[["ion-input","type","number"]],hostBindings:function(t,e){1&t&&_.NdJ("ionChange",function(t){return e._handleIonChange(t.target)})},features:[_._Bn([{provide:b.JU,useExisting:y,multi:!0}]),_.qOj]}),t}(),$=function(){var t=g=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r){return(0,u.Z)(this,n),e.call(this,t,r)}return(0,c.Z)(n,[{key:"_handleChangeEvent",value:function(t){this.handleChangeEvent(t,t.value)}}]),n}(Z);return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.zs3),_.Y36(_.SBq))},t.\u0275dir=_.lG2({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,e){1&t&&_.NdJ("ionChange",function(t){return e._handleChangeEvent(t.target)})},features:[_._Bn([{provide:b.JU,useExisting:g,multi:!0}]),_.qOj]}),t}(),G=function(){var t=m=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r){return(0,u.Z)(this,n),e.call(this,t,r)}return(0,c.Z)(n,[{key:"_handleInputEvent",value:function(t){this.handleChangeEvent(t,t.value)}}]),n}(Z);return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.zs3),_.Y36(_.SBq))},t.\u0275dir=_.lG2({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,e){1&t&&_.NdJ("ionChange",function(t){return e._handleInputEvent(t.target)})},features:[_._Bn([{provide:b.JU,useExisting:m,multi:!0}]),_.qOj]}),t}(),z=function(){var t=function(){function t(e,n){var r=this;(0,u.Z)(this,t),this.doc=e,this.backButton=new x.xQ,this.keyboardDidShow=new x.xQ,this.keyboardDidHide=new x.xQ,this.pause=new x.xQ,this.resume=new x.xQ,this.resize=new x.xQ,n.run(function(){var t;r.win=e.defaultView,r.backButton.subscribeWithPriority=function(t,e){return this.subscribe(function(r){return r.register(t,function(t){return n.run(function(){return e(t)})})})},Y(r.pause,e,"pause"),Y(r.resume,e,"resume"),Y(r.backButton,e,"ionBackButton"),Y(r.resize,r.win,"resize"),Y(r.keyboardDidShow,r.win,"ionKeyboardDidShow"),Y(r.keyboardDidHide,r.win,"ionKeyboardDidHide"),r._readyPromise=new Promise(function(e){t=e}),r.win&&r.win.cordova?e.addEventListener("deviceready",function(){t("cordova")},{once:!0}):t("dom")})}return(0,c.Z)(t,[{key:"is",value:function(t){return(0,C.a)(this.win,t)}},{key:"platforms",value:function(){return(0,C.g)(this.win)}},{key:"ready",value:function(){return this._readyPromise}},{key:"isRTL",get:function(){return"rtl"===this.doc.dir}},{key:"getQueryParam",value:function(t){return H(this.win.location.href,t)}},{key:"isLandscape",value:function(){return!this.isPortrait()}},{key:"isPortrait",value:function(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches}},{key:"testUserAgent",value:function(t){var e=this.win.navigator;return!!(e&&e.userAgent&&e.userAgent.indexOf(t)>=0)}},{key:"url",value:function(){return this.win.location.href}},{key:"width",value:function(){return this.win.innerWidth}},{key:"height",value:function(){return this.win.innerHeight}}]),t}();return t.\u0275fac=function(e){return new(e||t)(_.LFG(w.K0),_.LFG(_.R0b))},t.\u0275prov=_.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,_.Yz7)({factory:function(){return new t((0,_.LFG)(w.K0),(0,_.LFG)(_.R0b))},token:t,providedIn:"root"}),t=f([d(0,(0,_.tBr)(w.K0))],t)}(),H=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},Y=function(t,e,n){e&&e.addEventListener(n,function(e){t.next(null!=e?e.detail:void 0)})},W=function(){var t=function(){function t(e,n,r,i){var o=this;(0,u.Z)(this,t),this.location=n,this.serializer=r,this.router=i,this.direction=Q,this.animated=J,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(function(t){if(t instanceof k.OD){var e=t.restoredState?t.restoredState.navigationId:t.id;o.guessDirection=e<o.lastNavId?"back":"forward",o.guessAnimation=t.restoredState?void 0:o.guessDirection,o.lastNavId="forward"===o.guessDirection?t.id:e}}),e.backButton.subscribeWithPriority(0,function(t){o.pop(),t()})}return(0,c.Z)(t,[{key:"navigateForward",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setDirection("forward",e.animated,e.animationDirection,e.animation),this.navigate(t,e)}},{key:"navigateBack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.navigate(t,e)}},{key:"navigateRoot",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setDirection("root",e.animated,e.animationDirection,e.animation),this.navigate(t,e)}},{key:"back",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{animated:!0,animationDirection:"back"};return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}},{key:"pop",value:function(){return p(this,void 0,void 0,h().mark(function t(){var e;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.topOutlet;case 1:if(!e){t.next=11;break}return t.next=4,e.pop();case 4:if(!t.sent){t.next=8;break}return t.abrupt("break",11);case 8:e=e.parentOutlet;case 9:t.next=1;break;case 11:case"end":return t.stop()}},t,this)}))}},{key:"setDirection",value:function(t,e,n,r){this.direction=t,this.animated=K(t,e,n),this.animationBuilder=r}},{key:"setTopOutlet",value:function(t){this.topOutlet=t}},{key:"consumeTransition",value:function(){var t,e="root",n=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,t=this.guessAnimation):(t=this.animated,e=this.direction),this.direction=Q,this.animated=J,this.animationBuilder=void 0,{direction:e,animation:t,animationBuilder:n}}},{key:"navigate",value:function(t,e){if(Array.isArray(t))return this.router.navigate(t,e);var n=this.serializer.parse(t.toString());return void 0!==e.queryParams&&(n.queryParams=Object.assign({},e.queryParams)),void 0!==e.fragment&&(n.fragment=e.fragment),this.router.navigateByUrl(n,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(_.LFG(z),_.LFG(w.Ye),_.LFG(k.Hx),_.LFG(k.F0,8))},t.\u0275prov=_.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,_.Yz7)({factory:function(){return new t((0,_.LFG)(z),(0,_.LFG)(w.Ye),(0,_.LFG)(k.Hx),(0,_.LFG)(k.F0,8))},token:t,providedIn:"root"}),t=f([d(3,(0,_.FiY)())],t)}(),K=function(t,e,n){if(!1!==e)return void 0!==n?n:"forward"===t||"back"===t?t:"root"===t&&!0===e?"forward":void 0},Q="auto",J=void 0,X=function(t,e,n){n.forEach(function(n){return t[n]=(0,A.R)(e,n)})};function tt(t){return function(e){var n;return t.inputs&&(n=e.prototype,t.inputs.forEach(function(t){Object.defineProperty(n,t,{get:function(){return this.el[t]},set:function(e){var n=this;this.z.runOutsideAngular(function(){return n.el[t]=e})}})})),t.methods&&function(t,e){var n=t.prototype;e.forEach(function(t){n[t]=function(){var e=this,n=arguments;return this.z.runOutsideAngular(function(){return e.el[t].apply(e.el,n)})}})}(e,t.methods),e}}var et,nt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-app"]],ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t}(),rt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-avatar"]],ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t}(),it=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t)}(),ot=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionFocus","ionBlur"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t)}(),at=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["collapse"]})],t)}(),st=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],t)}(),ut=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["mode"]})],t)}(),ct=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["color","mode","translucent"]})],t)}(),lt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["color","mode"]})],t)}(),ht=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t)}(),ft=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["collapse","mode","translucent"]})],t)}(),dt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-icon"]],inputs:{ariaHidden:"ariaHidden",ariaLabel:"ariaLabel",color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["ariaHidden","ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t)}(),pt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["alt","src"]})],t)}(),vt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t)}(),yt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],t)}(),gt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t)}(),mt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionSwipe"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["side"]})],t)}(),_t=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionDrag"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t)}(),bt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["color","mode","position"]})],t)}(),wt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t)}(),kt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["color","lines","mode"]})],t)}(),Ct=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],t)}(),Et=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["autoHide","color","disabled","menu","mode","type"]})],t)}(),St=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["autoHide","menu"]})],t)}(),Tt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionRefresh","ionPull","ionStart"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],t)}(),It=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],t)}(),xt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],t)}(),At=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionChange"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["color","disabled","mode","scrollable","swipeGesture","value"]})],t)}(),Ot=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["disabled","layout","mode","type","value"]})],t)}(),Rt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],t)}(),Pt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["disabled","value"]})],t)}(),Dt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionSplitPaneVisible"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["contentId","disabled","when"]})],t)}(),Nt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],t)}(),Lt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-thumbnail"]],ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t}(),Ft=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["color","size"]})],t)}(),Zt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement,X(this,this.el,["ionChange","ionFocus","ionBlur"])};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["checked","color","disabled","mode","name","value"]})],t)}(),Mt=function(){var t=function t(e,n,r){(0,u.Z)(this,t),this.z=r,e.detach(),this.el=n.nativeElement};return t.\u0275fac=function(e){return new(e||t)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},t.\u0275cmp=_.Xpm({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),t=f([tt({inputs:["color","mode"]})],t)}(),jt=function(){var t=function(){function t(){(0,u.Z)(this,t)}return(0,c.Z)(t,[{key:"get",value:function(t,e){var n=Vt();return n?n.get(t,e):null}},{key:"getBoolean",value:function(t,e){var n=Vt();return!!n&&n.getBoolean(t,e)}},{key:"getNumber",value:function(t,e){var n=Vt();return n?n.getNumber(t,e):0}},{key:"set",value:function(t,e){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");var n=Vt();n&&n.set(t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,_.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Ut=new _.OlP("USERCONFIG"),Vt=function(){if("undefined"!=typeof window){var t=window.Ionic;if(t&&t.config)return t.config}return null},qt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.Z)(this,t),this.data=e}return(0,c.Z)(t,[{key:"get",value:function(t){return this.data[t]}}]),t}(),Bt=function(){var t=function(){function t(e,n){(0,u.Z)(this,t),this.zone=e,this.appRef=n}return(0,c.Z)(t,[{key:"create",value:function(t,e,n){return new $t(t,e,n,this.appRef,this.zone)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(_.LFG(_.R0b),_.LFG(_.z2F))},t.\u0275prov=_.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),$t=function(){function t(e,n,r,i,o){(0,u.Z)(this,t),this.resolver=e,this.injector=n,this.location=r,this.appRef=i,this.zone=o,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}return(0,c.Z)(t,[{key:"attachViewToDom",value:function(t,e,n,r){var i=this;return this.zone.run(function(){return new Promise(function(o){o(Gt(i.zone,i.resolver,i.injector,i.location,i.appRef,i.elRefMap,i.elEventsMap,t,e,n,r))})})}},{key:"removeViewFromDom",value:function(t,e){var n=this;return this.zone.run(function(){return new Promise(function(t){var r=n.elRefMap.get(e);if(r){r.destroy(),n.elRefMap.delete(e);var i=n.elEventsMap.get(e);i&&(i(),n.elEventsMap.delete(e))}t()})})}}]),t}(),Gt=function(t,e,n,i,o,a,s,u,c,l,h){var f=e.resolveComponentFactory(c),d=_.zs3.create({providers:Wt(l),parent:n}),p=i?i.createComponent(f,i.length,d):f.create(d),v=p.instance,y=p.location.nativeElement;if(l&&Object.assign(v,l),h){var g,m=(0,r.Z)(h);try{for(m.s();!(g=m.n()).done;)y.classList.add(g.value)}catch(w){m.e(w)}finally{m.f()}}var b=Ht(t,v,y);return u.appendChild(y),i||o.attachView(p.hostView),p.changeDetectorRef.reattach(),a.set(y,p),s.set(y,b),y},zt=[S.L,S.a,S.b,S.c,S.d],Ht=function(t,e,n){return t.run(function(){var t=zt.filter(function(t){return"function"==typeof e[t]}).map(function(t){var r=function(n){return e[t](n.detail)};return n.addEventListener(t,r),function(){return n.removeEventListener(t,r)}});return function(){return t.forEach(function(t){return t()})}})},Yt=new _.OlP("NavParamsToken"),Wt=function(t){return[{provide:Yt,useValue:t},{provide:qt,useFactory:Kt,deps:[Yt]}]},Kt=function(t){return new qt(t)},Qt=function(t,e){return(t=t.filter(function(t){return t.stackId!==e.stackId})).push(e),t},Jt=function(t,e){var n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},Xt=function(t,e){if(t)for(var n=te(e),r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},te=function(t){return t.split("/").map(function(t){return t.trim()}).filter(function(t){return""!==t})},ee=function(t){t&&(t.ref.destroy(),t.unlistenEvents())},ne=function(){function t(e,n,r,i,o,a){(0,u.Z)(this,t),this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=a,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?te(e):void 0}return(0,c.Z)(t,[{key:"createView",value:function(t,e){var n=Jt(this.router,e),r=t&&t.location&&t.location.nativeElement,i=Ht(this.zone,t.instance,r);return{id:this.nextId++,stackId:Xt(this.tabsPrefix,n),unlistenEvents:i,element:r,ref:t,url:n}}},{key:"getExistingView",value:function(t){var e=Jt(this.router,t),n=this.views.find(function(t){return t.url===e});return n&&n.ref.changeDetectorRef.reattach(),n}},{key:"setActive",value:function(t){var e=this,n=this.navCtrl.consumeTransition(),r=n.direction,i=n.animation,o=n.animationBuilder,a=this.activeView,s=function(t,e){return!e||t.stackId!==e.stackId}(t,a);s&&(r="back",i=void 0);var u,c=this.views.slice(),l=this.router;l.getCurrentNavigation?u=l.getCurrentNavigation():l.navigations&&l.navigations.value&&(u=l.navigations.value),u&&u.extras&&u.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);var h=this.views.includes(t),f=this.insertView(t,r);h||t.ref.changeDetectorRef.detectChanges();var d=t.animationBuilder;return void 0!==o||"back"!==r||s||void 0===d||(o=d),a&&(a.animationBuilder=o),this.zone.runOutsideAngular(function(){return e.wait(function(){return a&&a.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),e.transition(t,a,i,e.canGoBack(1),!1,o).then(function(){return re(t,f,c,e.location)}).then(function(){return{enteringView:t,direction:r,animation:i,tabSwitch:s}})})})}},{key:"canGoBack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getActiveStackId();return this.getStack(e).length>t}},{key:"pop",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getActiveStackId();return this.zone.run(function(){var r=e.getStack(n);if(r.length<=t)return Promise.resolve(!1);var i=r[r.length-t-1],o=i.url,a=i.savedData;if(a){var s=a.get("primary");s&&s.route&&s.route._routerState&&s.route._routerState.snapshot&&s.route._routerState.snapshot.url&&(o=s.route._routerState.snapshot.url)}var u=e.navCtrl.consumeTransition();return e.navCtrl.navigateBack(o,Object.assign({},i.savedExtras,{animation:u.animationBuilder})).then(function(){return!0})})}},{key:"startBackTransition",value:function(){var t=this,e=this.activeView;if(e){var n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(function(){return t.transition(r,e,"back",t.canGoBack(2),!0,i)})}return Promise.resolve()}},{key:"endBackTransition",value:function(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&ie(this.activeView,this.views,this.views,this.location)}},{key:"getLastUrl",value:function(t){var e=this.getStack(t);return e.length>0?e[e.length-1]:void 0}},{key:"getRootUrl",value:function(t){var e=this.getStack(t);return e.length>0?e[0]:void 0}},{key:"getActiveStackId",value:function(){return this.activeView?this.activeView.stackId:void 0}},{key:"hasRunningTask",value:function(){return void 0!==this.runningTask}},{key:"destroy",value:function(){this.containerEl=void 0,this.views.forEach(ee),this.activeView=void 0,this.views=[]}},{key:"getStack",value:function(t){return this.views.filter(function(e){return e.stackId===t})}},{key:"insertView",value:function(t,e){return this.activeView=t,this.views=function(t,e,n){return"root"===n?Qt(t,e):"forward"===n?function(t,e){return t.indexOf(e)>=0?t=t.filter(function(t){return t.stackId!==e.stackId||t.id<=e.id}):t.push(e),t}(t,e):function(t,e){return t.indexOf(e)>=0?t.filter(function(t){return t.stackId!==e.stackId||t.id<=e.id}):Qt(t,e)}(t,e)}(this.views,t,e),this.views.slice()}},{key:"transition",value:function(t,e,n,r,i,o){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===t)return Promise.resolve(!1);var a=t?t.element:void 0,s=e?e.element:void 0,u=this.containerEl;return a&&a!==s&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),u.commit)?u.commit(a,s,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:r,progressAnimation:i,animationBuilder:o}):Promise.resolve(!1)}},{key:"wait",value:function(t){return p(this,void 0,void 0,h().mark(function e(){var n,r=this;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.runningTask){e.next=4;break}return e.next=3,this.runningTask;case 3:this.runningTask=void 0;case 4:return(n=this.runningTask=t()).finally(function(){return r.runningTask=void 0}),e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}))}}]),t}(),re=function(t,e,n,r){return"function"==typeof requestAnimationFrame?new Promise(function(i){requestAnimationFrame(function(){ie(t,e,n,r),i()})}):Promise.resolve()},ie=function(t,e,n,r){n.filter(function(t){return!e.includes(t)}).forEach(ee),e.forEach(function(e){var n=r.path().split("?")[0].split("#")[0];if(e!==t&&e.url!==n){var i=e.element;i.setAttribute("aria-hidden","true"),i.classList.add("ion-page-hidden"),e.ref.changeDetectorRef.detach()}})},oe=function(){var t=function(){function t(e,n,r,i,o,a,s,c,l,h,f,d,p){(0,u.Z)(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.config=a,this.navCtrl=s,this.parentOutlet=p,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new O.X(null),this.stackEvents=new _.vpe,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.nativeEl=l.nativeElement,this.name=i||k.eC,this.tabsPrefix="true"===o?Jt(h,d):void 0,this.stackCtrl=new ne(this.tabsPrefix,this.nativeEl,h,s,f,c),e.onChildOutletCreated(this.name,this)}return(0,c.Z)(t,[{key:"animation",set:function(t){this.nativeEl.animation=t}},{key:"animated",set:function(t){this.nativeEl.animated=t}},{key:"swipeGesture",set:function(t){var e=this;this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:function(){return e.stackCtrl.canGoBack(1)&&!e.stackCtrl.hasRunningTask()},onStart:function(){return e.stackCtrl.startBackTransition()},onEnd:function(t){return e.stackCtrl.endBackTransition(t)}}:void 0}},{key:"ngOnDestroy",value:function(){this.stackCtrl.destroy()}},{key:"getContext",value:function(){return this.parentContexts.getContext(this.name)}},{key:"ngOnInit",value:function(){var t=this;if(!this.activated){var e=this.getContext();e&&e.route&&this.activateWith(e.route,e.resolver||null)}new Promise(function(e){return(0,E.c)(t.nativeEl,e)}).then(function(){void 0===t._swipeGesture&&(t.swipeGesture=t.config.getBoolean("swipeBackEnabled","ios"===t.nativeEl.mode))})}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){throw new Error("incompatible reuse strategy")}},{key:"attach",value:function(t,e){throw new Error("incompatible reuse strategy")}},{key:"deactivate",value:function(){if(this.activated){if(this.activatedView){var t=this.getContext();this.activatedView.savedData=new Map(t.children.contexts);var e=this.activatedView.savedData.get("primary");if(e&&t.route&&(e.route=Object.assign({},t.route)),this.activatedView.savedExtras={},t.route){var n=t.route.snapshot;this.activatedView.savedExtras.queryParams=n.queryParams,this.activatedView.savedExtras.fragment=n.fragment}}var r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}},{key:"activateWith",value:function(t,e){var n,r=this;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var i=this.stackCtrl.getExistingView(t);if(i){n=this.activated=i.ref;var o=i.savedData;o&&(this.getContext().children.contexts=o),this.updateActivatedRouteProxy(n.instance,t)}else{var a=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),s=this.parentContexts.getOrCreateContext(this.name).children,u=new O.X(null),c=this.createActivatedRouteProxy(u,t),l=new ae(c,s,this.location.injector);n=this.activated=this.location.createComponent(a,this.location.length,l),u.next(n.instance),i=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(n.instance,c),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:t})}this.activatedView=i,this.stackCtrl.setActive(i).then(function(t){r.navCtrl.setTopOutlet(r),r.activateEvents.emit(n.instance),r.stackEvents.emit(t)})}},{key:"canGoBack",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0;return this.stackCtrl.canGoBack(t,e)}},{key:"pop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0;return this.stackCtrl.pop(t,e)}},{key:"getLastUrl",value:function(t){var e=this.stackCtrl.getLastUrl(t);return e?e.url:void 0}},{key:"getLastRouteView",value:function(t){return this.stackCtrl.getLastUrl(t)}},{key:"getRootView",value:function(t){return this.stackCtrl.getRootUrl(t)}},{key:"getActiveStackId",value:function(){return this.stackCtrl.getActiveStackId()}},{key:"createActivatedRouteProxy",value:function(t,e){var n=new k.gz;return n._futureSnapshot=e._futureSnapshot,n._routerState=e._routerState,n.snapshot=e.snapshot,n.outlet=e.outlet,n.component=e.component,n._paramMap=this.proxyObservable(t,"paramMap"),n._queryParamMap=this.proxyObservable(t,"queryParamMap"),n.url=this.proxyObservable(t,"url"),n.params=this.proxyObservable(t,"params"),n.queryParams=this.proxyObservable(t,"queryParams"),n.fragment=this.proxyObservable(t,"fragment"),n.data=this.proxyObservable(t,"data"),n}},{key:"proxyObservable",value:function(t,e){var n=this;return t.pipe((0,R.h)(function(t){return!!t}),(0,P.w)(function(t){return n.currentActivatedRoute$.pipe((0,R.h)(function(e){return null!==e&&e.component===t}),(0,P.w)(function(t){return t&&t.activatedRoute[e]}),(0,D.x)())}))}},{key:"updateActivatedRouteProxy",value:function(t,e){var n=this.proxyMap.get(t);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=e._futureSnapshot,n._routerState=e._routerState,n.snapshot=e.snapshot,n.outlet=e.outlet,n.component=e.component,this.currentActivatedRoute$.next({component:t,activatedRoute:e})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(_.Y36(k.y6),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.$8M("tabs"),_.Y36(jt),_.Y36(W),_.Y36(w.Ye),_.Y36(_.SBq),_.Y36(k.F0),_.Y36(_.R0b),_.Y36(k.gz),_.Y36(t,12))},t.\u0275dir=_.lG2({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t=f([d(3,(0,_.ahi)("name")),d(4,(0,_.FiY)()),d(4,(0,_.ahi)("tabs")),d(12,(0,_.tp0)()),d(12,(0,_.FiY)())],t)}(),ae=function(){function t(e,n,r){(0,u.Z)(this,t),this.route=e,this.childContexts=n,this.parent=r}return(0,c.Z)(t,[{key:"get",value:function(t,e){return t===k.gz?this.route:t===k.y6?this.childContexts:this.parent.get(t,e)}}]),t}(),se=function(){var t=function(){function t(e,n,r){(0,u.Z)(this,t),this.routerOutlet=e,this.navCtrl=n,this.config=r}return(0,c.Z)(t,[{key:"onClick",value:function(t){var e=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet&&this.routerOutlet.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=e&&(this.navCtrl.navigateBack(e,{animation:this.routerAnimation}),t.preventDefault())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(_.Y36(oe,8),_.Y36(W),_.Y36(jt))},t.\u0275dir=_.lG2({type:t,selectors:[["ion-back-button"]],hostBindings:function(t,e){1&t&&_.NdJ("click",function(t){return e.onClick(t)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),t=f([d(0,(0,_.FiY)())],t)}(),ue=function(){var t=function(){function t(e,n,r,i,o){(0,u.Z)(this,t),this.locationStrategy=e,this.navCtrl=n,this.elementRef=r,this.router=i,this.routerLink=o,this.routerDirection="forward"}return(0,c.Z)(t,[{key:"ngOnInit",value:function(){this.updateTargetUrlAndHref()}},{key:"ngOnChanges",value:function(){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"updateTargetUrlAndHref",value:function(){if(this.routerLink){var t=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=t}}},{key:"onClick",value:function(t){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),t.preventDefault()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(_.Y36(w.S$),_.Y36(W),_.Y36(_.SBq),_.Y36(k.F0),_.Y36(k.rH,8))},t.\u0275dir=_.lG2({type:t,selectors:[["","routerLink",""]],hostBindings:function(t,e){1&t&&_.NdJ("click",function(t){return e.onClick(t)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[_.TTD]}),t=f([d(4,(0,_.FiY)())],t)}(),ce=function(){function t(e){(0,u.Z)(this,t),this.ctrl=e}return(0,c.Z)(t,[{key:"create",value:function(t){return this.ctrl.create(t||{})}},{key:"dismiss",value:function(t,e,n){return this.ctrl.dismiss(t,e,n)}},{key:"getTop",value:function(){return this.ctrl.getTop()}}]),t}(),le=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,u.Z)(this,n),e.call(this,T.b)}return n}(ce);return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,_.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),he=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,u.Z)(this,n),e.call(this,T.a)}return n}(ce);return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,_.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),fe=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,u.Z)(this,n),e.call(this,T.l)}return n}(ce);return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,_.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),de=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r,i){var o;return(0,u.Z)(this,n),(o=e.call(this,T.m)).angularDelegate=t,o.resolver=r,o.injector=i,o}return(0,c.Z)(n,[{key:"create",value:function(t){return(0,i.Z)((0,o.Z)(n.prototype),"create",this).call(this,Object.assign({},t,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}]),n}(ce);return t.\u0275fac=function(e){return new(e||t)(_.LFG(Bt),_.LFG(_._Vd),_.LFG(_.zs3))},t.\u0275prov=_.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),pe=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t,r,i){var o;return(0,u.Z)(this,n),(o=e.call(this,T.c)).angularDelegate=t,o.resolver=r,o.injector=i,o}return(0,c.Z)(n,[{key:"create",value:function(t){return(0,i.Z)((0,o.Z)(n.prototype),"create",this).call(this,Object.assign({},t,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}]),n}(ce);return t.\u0275fac=function(e){return new(e||t)(_.LFG(Bt),_.LFG(_._Vd),_.LFG(_.zs3))},t.\u0275prov=_.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),ve=function(){var t=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,u.Z)(this,n),e.call(this,T.t)}return n}(ce);return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_.Yz7({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t.ngInjectableDef=(0,_.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),ye=function(){function t(){(0,u.Z)(this,t)}return(0,c.Z)(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"shouldAttach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){if(t.routeConfig!==e.routeConfig)return!1;var n=t.params,r=e.params,i=Object.keys(n),o=Object.keys(r);if(i.length!==o.length)return!1;for(var a=0,s=i;a<s.length;a++){var u=s[a];if(r[u]!==n[u])return!1}return!0}}]),t}(),ge=function(t,e,r){return function(){var i=e.defaultView;if(i&&"undefined"!=typeof window){(i.Ionic=i.Ionic||{}).config=Object.assign({},t,{_zoneGate:function(t){return r.run(t)}});var o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var t=[];if("undefined"!=typeof window){var e=window;e.customElements&&(!e.Element||e.Element.prototype.closest&&e.Element.prototype.matches&&e.Element.prototype.remove&&e.Element.prototype.getRootNode)||t.push(n.e(6748).then(n.t.bind(n,1255,23))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!e.NodeList||e.NodeList.prototype.forEach)&&e.fetch&&function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()&&"undefined"!=typeof WeakMap||t.push(n.e(2214).then(n.t.bind(n,9227,23)))}return Promise.all(t)}().then(function(){return t={exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:F,jmp:function(t){return r.runOutsideAngular(t)},ael:function(t,e,n,r){t[o](e,n,r)},rel:function(t,e,n,r){t.removeEventListener(e,n,r)}},"undefined"==typeof window?Promise.resolve():(I.C&&I.C.supports&&I.C.supports("color","var(--c)")?(0,I.a)():n.e(1843).then(n.t.bind(n,2463,23)).then(function(){return(I.p.$cssShim$=I.w.__cssshim)?I.p.$cssShim$.i():0})).then(function(){return N(),(0,I.b)(JSON.parse('[["ion-select_3",[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"activated":[32]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[34,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-popover",[[34,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-app_8",[[0,"ion-app"],[34,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[2,"click","onClick"]]],[36,"ion-footer",{"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-datetime_3",[[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[33,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ariaHidden":[513,"aria-hidden"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[1],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),t)});var t})}}},me=function(){var t=et=function(){function t(){(0,u.Z)(this,t)}return(0,c.Z)(t,null,[{key:"forRoot",value:function(t){return{ngModule:et,providers:[{provide:Ut,useValue:t},{provide:_.ip1,useFactory:ge,multi:!0,deps:[Ut,w.K0,_.R0b]}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[Bt,de,pe],imports:[[w.ez]]}),t}()},9691:function(t,e,n){"use strict";n.d(e,{c:function(){return m}});var r,i=n(5587),o=n(2454),a=n(5121),s=n(1843),u=function(t){return t.forEach(function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("easing"===e)t["animation-timing-function"]=n,delete t[e];else{var r=c(e);r!==e&&(t[r]=n,delete t[e])}}}),t},c=function(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},l=function(t){return void 0===r&&(r=void 0===t.style.animationName&&void 0!==t.style.webkitAnimationName?"-webkit-":""),r},h=function(t,e,n){var r=e.startsWith("animation")?l(t):"";t.style.setProperty(r+e,n)},f=function(t,e){var n=e.startsWith("animation")?l(t):"";t.style.removeProperty(n+e)},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(t){var e=t.offset,n=[];for(var r in t)t.hasOwnProperty(r)&&"offset"!==r&&n.push("".concat(r,": ").concat(t[r],";"));return"".concat(100*e,"% { ").concat(n.join(" ")," }")}).join(" ")},p=[],v=function(t){var e=p.indexOf(t);return e<0&&(e=p.push(t)-1),"ion-animation-".concat(e)},y=function(t,e,n){var r=function(t){var e=t.getRootNode();return e.head||e}(n),i=l(n),o=r.querySelector("#"+t);if(o)return o;var a=(n.ownerDocument||document).createElement("style");return a.id=t,a.textContent="@".concat(i,"keyframes ").concat(t," { ").concat(e," } @").concat(i,"keyframes ").concat(t,"-alt { ").concat(e," }"),r.appendChild(a),a},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if(void 0!==e){var n=Array.isArray(e)?e:[e];return[].concat((0,a.Z)(t),(0,a.Z)(n))}return t},m=function(t){var e,n,r,c,l,p,m,_,b,w,k,C,E,S=[],T=[],I=[],x=!1,A={},O=[],R=[],P={},D=0,N=!1,L=!1,F=!0,Z=!1,M=!0,j=t,U=[],V=[],q=[],B=[],$=[],G=[],z=[],H=[],Y=[],W=[],K="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Q="function"==typeof Element&&"function"==typeof Element.prototype.animate&&K,J=function(t,e){return(e&&e.oneTimeCallback?V:U).push({c:t,o:e}),E},X=function(){if(Q)W.forEach(function(t){t.cancel()}),W.length=0;else{var t=q.slice();(0,s.r)(function(){t.forEach(function(t){f(t,"animation-name"),f(t,"animation-duration"),f(t,"animation-timing-function"),f(t,"animation-iteration-count"),f(t,"animation-delay"),f(t,"animation-play-state"),f(t,"animation-fill-mode"),f(t,"animation-direction")})})}},tt=function(){$.forEach(function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}),$.length=0},et=function(){return void 0!==l?l:m?m.getFill():"both"},nt=function(){return void 0!==b?b:void 0!==p?p:m?m.getDirection():"normal"},rt=function(){return N?"linear":void 0!==r?r:m?m.getEasing():"linear"},it=function(){return L?0:void 0!==w?w:void 0!==n?n:m?m.getDuration():0},ot=function(){return void 0!==c?c:m?m.getIterations():1},at=function(){return void 0!==k?k:void 0!==e?e:m?m.getDelay():0},st=function(){G.forEach(function(t){return t()}),z.forEach(function(t){return t()});var t=T,e=I,n=A;q.forEach(function(r){var i=r.classList;for(var o in t.forEach(function(t){return i.add(t)}),e.forEach(function(t){return i.remove(t)}),n)n.hasOwnProperty(o)&&h(r,o,n[o])})},ut=function(){0!==D&&0==--D&&(function(){mt(),H.forEach(function(t){return t()}),Y.forEach(function(t){return t()});var t=F?1:0,e=O,n=R,r=P;q.forEach(function(t){var i=t.classList;for(var o in e.forEach(function(t){return i.add(t)}),n.forEach(function(t){return i.remove(t)}),r)r.hasOwnProperty(o)&&h(t,o,r[o])}),U.forEach(function(e){return e.c(t,E)}),V.forEach(function(e){return e.c(t,E)}),V.length=0,M=!0,F&&(Z=!0),F=!0}(),m&&m.animationFinish())},ct=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];tt();var n=u(S);q.forEach(function(r){if(n.length>0){var i=d(n);C=void 0!==t?t:v(i);var o=y(C,i,r);$.push(o),h(r,"animation-duration","".concat(it(),"ms")),h(r,"animation-timing-function",rt()),h(r,"animation-delay","".concat(at(),"ms")),h(r,"animation-fill-mode",et()),h(r,"animation-direction",nt());var a=ot()===1/0?"infinite":ot().toString();h(r,"animation-iteration-count",a),h(r,"animation-play-state","paused"),e&&h(r,"animation-name","".concat(o.id,"-alt")),(0,s.r)(function(){h(r,"animation-name",o.id||null)})}})},lt=function(){q.forEach(function(t){var e=t.animate(S,{id:j,delay:at(),duration:it(),easing:rt(),iterations:ot(),fill:et(),direction:nt()});e.pause(),W.push(e)}),W.length>0&&(W[0].onfinish=function(){ut()})},ht=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];st(),S.length>0&&(Q?lt():ct(t)),x=!0},ft=function(t){if(t=Math.min(Math.max(t,0),.9999),Q)W.forEach(function(e){e.currentTime=e.effect.getComputedTiming().delay+it()*t,e.pause()});else{var e="-".concat(it()*t,"ms");q.forEach(function(t){S.length>0&&(h(t,"animation-delay",e),h(t,"animation-play-state","paused"))})}},dt=function(t){W.forEach(function(t){t.effect.updateTiming({delay:at(),duration:it(),easing:rt(),iterations:ot(),fill:et(),direction:nt()})}),void 0!==t&&ft(t)},pt=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;(0,s.r)(function(){q.forEach(function(n){h(n,"animation-name",C||null),h(n,"animation-duration","".concat(it(),"ms")),h(n,"animation-timing-function",rt()),h(n,"animation-delay",void 0!==e?"-".concat(e*it(),"ms"):"".concat(at(),"ms")),h(n,"animation-fill-mode",et()||null),h(n,"animation-direction",nt()||null);var r=ot()===1/0?"infinite":ot().toString();h(n,"animation-iteration-count",r),t&&h(n,"animation-name","".concat(C,"-alt")),(0,s.r)(function(){h(n,"animation-name",C||null)})})})},vt=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return t&&B.forEach(function(r){r.update(t,e,n)}),Q?dt(n):pt(e,n),E},yt=function(){x&&(Q?W.forEach(function(t){t.pause()}):q.forEach(function(t){h(t,"animation-play-state","paused")}))},gt=function(){_=void 0,ut()},mt=function(){_&&clearTimeout(_)},_t=function(t){return new Promise(function(e){t&&t.sync&&(L=!0,J(function(){return L=!1},{oneTimeCallback:!0})),x||ht(),Z&&(Q?(ft(0),dt()):pt(),Z=!1),M&&(D=B.length+1,M=!1),J(function(){return e()},{oneTimeCallback:!0}),B.forEach(function(t){t.play()}),Q?(W.forEach(function(t){t.play()}),0!==S.length&&0!==q.length||ut()):function(){if(mt(),(0,s.r)(function(){q.forEach(function(t){S.length>0&&h(t,"animation-play-state","running")})}),0===S.length||0===q.length)ut();else{var t=at()||0,e=it()||0,n=ot()||1;isFinite(n)&&(_=setTimeout(gt,t+e*n+100)),i=function(){mt(),(0,s.r)(function(){q.forEach(function(t){f(t,"animation-duration"),f(t,"animation-delay"),f(t,"animation-play-state")}),(0,s.r)(ut)})},a={passive:!0},u=function(){o&&o()},c=function(t){r===t.target&&(u(),i())},(r=q[0])&&(r.addEventListener("webkitAnimationEnd",c,a),r.addEventListener("animationend",c,a),o=function(){r.removeEventListener("webkitAnimationEnd",c,a),r.removeEventListener("animationend",c,a)})}var r,i,o,a,u,c}()})},bt=function(t,e){var n=S[0];return void 0===n||void 0!==n.offset&&0!==n.offset?S=[(0,i.Z)({offset:0},t,e)].concat((0,a.Z)(S)):n[t]=e,E};return E={parentAnimation:m,elements:q,childAnimations:B,id:j,animationFinish:ut,from:bt,to:function(t,e){var n=S[S.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?S=[].concat((0,a.Z)(S),[(0,i.Z)({offset:1},t,e)]):n[t]=e,E},fromTo:function(t,e,n){return bt(t,e).to(t,n)},parent:function(t){return m=t,E},play:_t,pause:function(){return B.forEach(function(t){t.pause()}),yt(),E},stop:function(){B.forEach(function(t){t.stop()}),x&&(X(),x=!1),N=!1,L=!1,M=!0,b=void 0,w=void 0,k=void 0,D=0,Z=!1,F=!0},destroy:function(t){return B.forEach(function(e){e.destroy(t)}),function(t){X(),t&&tt()}(t),q.length=0,B.length=0,S.length=0,U.length=0,V.length=0,x=!1,M=!0,E},keyframes:function(t){return S=t,E},addAnimation:function(t){if(null!=t)if(Array.isArray(t)){var e,n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.parent(E),B.push(r)}}catch(i){n.e(i)}finally{n.f()}}else t.parent(E),B.push(t);return E},addElement:function(t){if(null!=t)if(1===t.nodeType)q.push(t);else if(t.length>=0)for(var e=0;e<t.length;e++)q.push(t[e]);else console.error("Invalid addElement value");return E},update:vt,fill:function(t){return l=t,vt(!0),E},direction:function(t){return p=t,vt(!0),E},iterations:function(t){return c=t,vt(!0),E},duration:function(t){return Q||0!==t||(t=1),n=t,vt(!0),E},easing:function(t){return r=t,vt(!0),E},delay:function(t){return e=t,vt(!0),E},getWebAnimations:function(){return W},getKeyframes:function(){return S},getFill:et,getDirection:nt,getDelay:at,getIterations:ot,getEasing:rt,getDuration:it,afterAddRead:function(t){return H.push(t),E},afterAddWrite:function(t){return Y.push(t),E},afterClearStyles:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;P[r]=""}}catch(i){n.e(i)}finally{n.f()}return E},afterStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P=t,E},afterRemoveClass:function(t){return R=g(R,t),E},afterAddClass:function(t){return O=g(O,t),E},beforeAddRead:function(t){return G.push(t),E},beforeAddWrite:function(t){return z.push(t),E},beforeClearStyles:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;A[r]=""}}catch(i){n.e(i)}finally{n.f()}return E},beforeStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A=t,E},beforeRemoveClass:function(t){return I=g(I,t),E},beforeAddClass:function(t){return T=g(T,t),E},onFinish:J,progressStart:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;return B.forEach(function(n){n.progressStart(t,e)}),yt(),N=t,x?vt(!1,!0,e):ht(),E},progressStep:function(t){return B.forEach(function(e){e.progressStep(t)}),ft(t),E},progressEnd:function(t,e,n){return N=!1,B.forEach(function(r){r.progressEnd(t,e,n)}),void 0!==n&&(w=n),Z=!1,F=!0,0===t?("reverse"==(b="reverse"===nt()?"normal":"reverse")&&(F=!1),Q?(vt(),ft(1-e)):(k=(1-e)*it()*-1,vt(!1,!1))):1===t&&(Q?(vt(),ft(e)):(k=e*it()*-1,vt(!1,!1))),void 0!==t&&(J(function(){w=void 0,b=void 0,k=void 0},{oneTimeCallback:!0}),m||_t()),E}}}},6953:function(t,e,n){"use strict";n.d(e,{G:function(){return l}});var r=n(2454),i=n(1112),o=n(1998),a=function(){function t(){(0,i.Z)(this,t),this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}return(0,o.Z)(t,[{key:"createGesture",value:function(t){return new s(this,this.newID(),t.name,t.priority||0,!!t.disableScroll)}},{key:"createBlocker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new u(this,this.newID(),t.disable,!!t.disableScroll)}},{key:"start",value:function(t,e,n){return this.canStart(t)?(this.requestedStart.set(e,n),!0):(this.requestedStart.delete(e),!1)}},{key:"capture",value:function(t,e,n){if(!this.start(t,e,n))return!1;var r=this.requestedStart,i=-1e4;if(r.forEach(function(t){i=Math.max(i,t)}),i===n){this.capturedId=e,r.clear();var o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(o),!0}return r.delete(e),!1}},{key:"release",value:function(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}},{key:"disableGesture",value:function(t,e){var n=this.disabledGestures.get(t);void 0===n&&(n=new Set,this.disabledGestures.set(t,n)),n.add(e)}},{key:"enableGesture",value:function(t,e){var n=this.disabledGestures.get(t);void 0!==n&&n.delete(e)}},{key:"disableScroll",value:function(t){this.disabledScroll.add(t),1===this.disabledScroll.size&&document.body.classList.add(c)}},{key:"enableScroll",value:function(t){this.disabledScroll.delete(t),0===this.disabledScroll.size&&document.body.classList.remove(c)}},{key:"canStart",value:function(t){return void 0===this.capturedId&&!this.isDisabled(t)}},{key:"isCaptured",value:function(){return void 0!==this.capturedId}},{key:"isScrollDisabled",value:function(){return this.disabledScroll.size>0}},{key:"isDisabled",value:function(t){var e=this.disabledGestures.get(t);return!!(e&&e.size>0)}},{key:"newID",value:function(){return this.gestureId++,this.gestureId}}]),t}(),s=function(){function t(e,n,r,o,a){(0,i.Z)(this,t),this.id=n,this.name=r,this.disableScroll=a,this.priority=1e6*o+n,this.ctrl=e}return(0,o.Z)(t,[{key:"canStart",value:function(){return!!this.ctrl&&this.ctrl.canStart(this.name)}},{key:"start",value:function(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}},{key:"capture",value:function(){if(!this.ctrl)return!1;var t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}},{key:"release",value:function(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}},{key:"destroy",value:function(){this.release(),this.ctrl=void 0}}]),t}(),u=function(){function t(e,n,r,o){(0,i.Z)(this,t),this.id=n,this.disable=r,this.disableScroll=o,this.ctrl=e}return(0,o.Z)(t,[{key:"block",value:function(){if(this.ctrl){if(this.disable){var t,e=(0,r.Z)(this.disable);try{for(e.s();!(t=e.n()).done;)this.ctrl.disableGesture(t.value,this.id)}catch(n){e.e(n)}finally{e.f()}}this.disableScroll&&this.ctrl.disableScroll(this.id)}}},{key:"unblock",value:function(){if(this.ctrl){if(this.disable){var t,e=(0,r.Z)(this.disable);try{for(e.s();!(t=e.n()).done;)this.ctrl.enableGesture(t.value,this.id)}catch(n){e.e(n)}finally{e.f()}}this.disableScroll&&this.ctrl.enableScroll(this.id)}}},{key:"destroy",value:function(){this.unblock(),this.ctrl=void 0}}]),t}(),c="backdrop-no-scroll",l=new a},4641:function(t,e,n){"use strict";n.r(e),n.d(e,{MENU_BACK_BUTTON_PRIORITY:function(){return c},OVERLAY_BACK_BUTTON_PRIORITY:function(){return u},blockHardwareBackButton:function(){return a},startHardwareBackButton:function(){return s}});var r=n(6304),i=n(8774),o=n.n(i),a=function(){document.addEventListener("backbutton",function(){})},s=function(){var t=document,e=!1;t.addEventListener("backbutton",function(){if(!e){var n=0,i=[],a=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register:function(t,e){i.push({priority:t,handler:e,id:n++})}}});t.dispatchEvent(a);var s=function(){var t=(0,r.Z)(o().mark(function t(e){var n;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e||!e.handler){t.next=6;break}if(null==(n=e.handler(u))){t.next=6;break}return t.next=6,n;case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),u=function(){if(i.length>0){var t={priority:Number.MIN_SAFE_INTEGER,handler:function(){},id:-1};i.forEach(function(e){e.priority>=t.priority&&(t=e)}),e=!0,i=i.filter(function(e){return e.id!==t.id}),s(t).then(function(){return e=!1})}};u()}})},u=100,c=99},1843:function(t,e,n){"use strict";n.d(e,{a:function(){return o},b:function(){return a},c:function(){return r},d:function(){return h},e:function(){return f},f:function(){return m},g:function(){return s},h:function(){return l},i:function(){return i},j:function(){return d},k:function(){return c},l:function(){return p},m:function(){return g},n:function(){return _},o:function(){return v},p:function(){return y},r:function(){return u}});var r=function(t,e){t.componentOnReady?t.componentOnReady().then(function(t){return e(t)}):u(function(){return e(t)})},i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return e.forEach(function(e){t.hasAttribute(e)&&(null!==t.getAttribute(e)&&(n[e]=t.getAttribute(e)),t.removeAttribute(e))}),n},o=function(t,e,n,r){if("undefined"!=typeof window){var i=window,o=i&&i.Ionic&&i.Ionic.config;if(o){var a=o.get("_ael");if(a)return a(t,e,n,r);if(o._ael)return o._ael(t,e,n,r)}}return t.addEventListener(e,n,r)},a=function(t,e,n,r){if("undefined"!=typeof window){var i=window,o=i&&i.Ionic&&i.Ionic.config;if(o){var a=o.get("_rel");if(a)return a(t,e,n,r);if(o._rel)return o._rel(t,e,n,r)}}return t.removeEventListener(e,n,r)},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return t.shadowRoot||e},u=function(t){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t)},c=function(t){return!!t.shadowRoot&&!!t.attachShadow},l=function(t){var e=t.closest("ion-item");return e?e.querySelector("ion-label"):null},h=function(t,e){var n,r=t.getAttribute("aria-labelledby"),i=t.id,o=null!==r&&""!==r.trim()?r:e+"-lbl",a=null!==r&&""!==r.trim()?document.getElementById(r):l(t);return a?(null===r&&(a.id=o),n=a.textContent,a.setAttribute("aria-hidden","true")):""!==i.trim()&&(a=document.querySelector('label[for="'.concat(i,'"]')))&&(""!==a.id?o=a.id:a.id=o="".concat(i,"-lbl"),n=a.textContent),{label:a,labelId:o,labelText:n}},f=function(t,e,n,r,i){if(t||c(e)){var o=e.querySelector("input.aux-input");o||((o=e.ownerDocument.createElement("input")).type="hidden",o.classList.add("aux-input"),e.appendChild(o)),o.disabled=i,o.name=n,o.value=r||""}},d=function(t,e,n){return Math.max(t,Math.min(e,n))},p=function(t,e){if(!t){var n="ASSERT: "+e;throw console.error(n),new Error(n)}},v=function(t){return t.timeStamp||Date.now()},y=function(t){if(t){var e=t.changedTouches;if(e&&e.length>0){var n=e[0];return{x:n.clientX,y:n.clientY}}if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},g=function(t){var e="rtl"===document.dir;switch(t){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(t,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},m=function(t,e){var n=t._original||t;return{_original:t,emit:_(n.emit.bind(n),e)}},_=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){clearTimeout(e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e=setTimeout.apply(void 0,[t,n].concat(i))}}},4378:function(t,e,n){"use strict";n.d(e,{m:function(){return p}});var r=n(6304),i=n(8774),o=n.n(i),a=n(4641),s=n(1843),u=n(7505),c=n(9691),l=function(t){return(0,c.c)().duration(t?400:300)},h=function(t){var e,n,r=t.width+8,i=(0,c.c)(),o=(0,c.c)();t.isEndSide?(e=r+"px",n="0px"):(e=-r+"px",n="0px"),i.addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(n,")"));var a="ios"===(0,u.b)(t),s=a?.2:.25;return o.addElement(t.backdropEl).fromTo("opacity",.01,s),l(a).addAnimation([i,o])},f=function(t){var e,n,r=(0,u.b)(t),i=t.width;t.isEndSide?(e=-i+"px",n=i+"px"):(e=i+"px",n=-i+"px");var o=(0,c.c)().addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(n,")"),"translateX(0px)"),a=(0,c.c)().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),s=(0,c.c)().addElement(t.backdropEl).fromTo("opacity",.01,.32);return l("ios"===r).addAnimation([o,a,s])},d=function(t){var e=(0,u.b)(t),n=t.width*(t.isEndSide?-1:1)+"px",r=(0,c.c)().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(n,")"));return l("ios"===e).addAnimation(r)},p=function(){var t=new Map,e=[],n=function(){var t=(0,r.Z)(o().mark(function t(e){var n;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n.open());case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=(0,r.Z)(o().mark(function t(e){var n;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,void 0!==e?y(e):g();case 2:if(void 0===(n=t.sent)){t.next=5;break}return t.abrupt("return",n.close());case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,r.Z)(o().mark(function t(e){var n;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n.toggle());case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=(0,r.Z)(o().mark(function t(e,n){var r;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(n);case 2:return(r=t.sent)&&(r.disabled=!e),t.abrupt("return",r);case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(o().mark(function t(e,n){var r;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(n);case 2:return(r=t.sent)&&(r.swipeGesture=e),t.abrupt("return",r);case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(o().mark(function t(e){var n;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=7;break}return t.next=3,y(e);case 3:return t.abrupt("return",void 0!==(n=t.sent)&&n.isOpen());case 7:return t.next=9,g();case 9:return t.abrupt("return",void 0!==t.sent);case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(o().mark(function t(e){var n;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",!n.disabled);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=(0,r.Z)(o().mark(function t(n){var r,i;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:if("start"!==n&&"end"!==n){t.next=9;break}if(!(r=T(function(t){return t.side===n&&!t.disabled}))){t.next=6;break}return t.abrupt("return",r);case 6:return t.abrupt("return",T(function(t){return t.side===n}));case 9:if(null==n){t.next=11;break}return t.abrupt("return",T(function(t){return t.menuId===n}));case 11:if(!(i=T(function(t){return!t.disabled}))){t.next=14;break}return t.abrupt("return",i);case 14:return t.abrupt("return",e.length>0?e[0].el:void 0);case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=(0,r.Z)(o().mark(function t(){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:return t.abrupt("return",C());case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)(o().mark(function t(){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:return t.abrupt("return",E());case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),_=function(){var t=(0,r.Z)(o().mark(function t(){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:return t.abrupt("return",S());case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),b=function(e,n){t.set(e,n)},w=function(t){var n=t.side;e.filter(function(e){return e.side===n&&e!==t}).forEach(function(t){return t.disabled=!0})},k=function(){var t=(0,r.Z)(o().mark(function t(e,n,r){var i;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!S()){t.next=2;break}return t.abrupt("return",!1);case 2:if(!n){t.next=9;break}return t.next=5,g();case 5:if(!(i=t.sent)||e.el===i){t.next=9;break}return t.next=9,i.setOpen(!1,!1);case 9:return t.abrupt("return",e._setOpen(n,r));case 10:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}(),C=function(){return T(function(t){return t._isOpen})},E=function(){return e.map(function(t){return t.el})},S=function(){return e.some(function(t){return t.isAnimating})},T=function(t){var n=e.find(t);if(void 0!==n)return n.el},I=function(){return Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(function(t){return new Promise(function(e){return(0,s.c)(t,e)})}))};return b("reveal",d),b("push",f),b("overlay",h),"undefined"!=typeof document&&document.addEventListener("ionBackButton",function(t){var e=C();e&&t.detail.register(a.MENU_BACK_BUTTON_PRIORITY,function(){return e.close()})}),{registerAnimation:b,get:y,getMenus:m,getOpen:g,isEnabled:v,swipeGesture:l,isAnimating:_,isOpen:p,enable:c,toggle:u,close:i,open:n,_getOpenSync:C,_createAnimation:function(e,n){var r=t.get(e);if(!r)throw new Error("animation not registered");return r(n)},_register:function(t){e.indexOf(t)<0&&(t.disabled||w(t),e.push(t))},_unregister:function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},_setOpen:k,_setActiveMenu:w}}()},2322:function(t,e,n){"use strict";n.d(e,{B:function(){return se},C:function(){return C},H:function(){return Q},a:function(){return I},b:function(){return Vt},c:function(){return ae},e:function(){return bt},f:function(){return oe},g:function(){return z},h:function(){return W},i:function(){return _t},j:function(){return xt},k:function(){return qt},p:function(){return S},r:function(){return Gt},s:function(){return G},w:function(){return k}});var r,i,o,a=n(1112),s=n(1998),u=n(1357),c=n(8784),l=n(4999),h=n(8184),f=n(6304),d=n(5121),p=n(4568),v=n(8774),y=n.n(v),g=!1,m=!1,_=!1,b=!1,w=!1,k="undefined"!=typeof window?window:{},C=k.CSS,E=k.document||{head:{}},S={$flags$:0,$resourcesUrl$:"",jmp:function(t){return t()},raf:function(t){return requestAnimationFrame(t)},ael:function(t,e,n,r){return t.addEventListener(e,n,r)},rel:function(t,e,n,r){return t.removeEventListener(e,n,r)},ce:function(t,e){return new CustomEvent(t,e)}},T=function(){return(E.head.attachShadow+"").indexOf("[native")>-1}(),I=function(t){return Promise.resolve(t)},x=function(){try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(t){}return!1}(),A=function(t,e,n,r){n&&n.map(function(n){var r=(0,p.Z)(n,3),i=r[0],o=r[1],a=r[2],s=R(t,i),u=O(e,a),c=P(i);S.ael(s,o,u,c),(e.$rmListeners$=e.$rmListeners$||[]).push(function(){return S.rel(s,o,u,c)})})},O=function(t,e){return function(n){try{256&t.$flags$?t.$lazyInstance$[e](n):(t.$queuedListeners$=t.$queuedListeners$||[]).push([e,n])}catch(r){Yt(r)}}},R=function(t,e){return 4&e?E:8&e?k:16&e?E.body:t},P=function(t){return 0!=(2&t)},D="s-id",N="sty-id",L="c-id",F="{visibility:hidden}.hydrated{visibility:inherit}",Z="http://www.w3.org/1999/xlink",M=new WeakMap,j=function(t,e,n){var r=Qt.get(t);x&&n?(r=r||new CSSStyleSheet).replace(e):r=e,Qt.set(t,r)},U=function(t,e,n,r){var i=q(e,n),o=Qt.get(i);if(t=11===t.nodeType?t:E,o)if("string"==typeof o){var a,s=M.get(t=t.head||t);if(s||M.set(t,s=new Set),!s.has(i)){if(t.host&&(a=t.querySelector("[".concat(N,'="').concat(i,'"]'))))a.innerHTML=o;else{if(S.$cssShim$){var u=(a=S.$cssShim$.createHostStyle(r,i,o,!!(10&e.$flags$)))["s-sc"];u&&(i=u,s=null)}else(a=E.createElement("style")).innerHTML=o;t.insertBefore(a,t.querySelector("link"))}s&&s.add(i)}}else t.adoptedStyleSheets.includes(o)||(t.adoptedStyleSheets=[].concat((0,d.Z)(t.adoptedStyleSheets),[o]));return i},V=function(t){var e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=U(T&&n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$,n);10&r&&(n["s-sc"]=i,n.classList.add(i+"-h"),2&r&&n.classList.add(i+"-s"))},q=function(t,e){return"sc-"+(e&&32&t.$flags$?t.$tagName$+"-"+e:t.$tagName$)},B=function(t){return t.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{")},$=function(t){return Jt.map(function(e){return e(t)}).find(function(t){return!!t})},G=function(t){return Jt.push(t)},z=function(t){return $t(t).$modeName$},H={},Y=function(t){return"object"==(t=typeof t)||"function"===t},W=function(t,e){for(var n=null,r=null,i=null,o=!1,a=!1,s=[],u=function e(r){for(var i=0;i<r.length;i++)n=r[i],Array.isArray(n)?e(n):null!=n&&"boolean"!=typeof n&&((o="function"!=typeof t&&!Y(n))&&(n=String(n)),o&&a?s[s.length-1].$text$+=n:s.push(o?K(null,n):n),a=o)},c=arguments.length,l=new Array(c>2?c-2:0),h=2;h<c;h++)l[h-2]=arguments[h];if(u(l),e){e.key&&(r=e.key),e.name&&(i=e.name);var f=e.className||e.class;f&&(e.class="object"!=typeof f?f:Object.keys(f).filter(function(t){return f[t]}).join(" "))}if("function"==typeof t)return t(null===e?{}:e,s,J);var d=K(t,null);return d.$attrs$=e,s.length>0&&(d.$children$=s),d.$key$=r,d.$name$=i,d},K=function(t,e){return{$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}},Q={},J={forEach:function(t,e){return t.map(X).forEach(e)},map:function(t,e){return t.map(X).map(e).map(tt)}},X=function(t){return{vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}},tt=function(t){if("function"==typeof t.vtag){var e=Object.assign({},t.vattrs);return t.vkey&&(e.key=t.vkey),t.vname&&(e.name=t.vname),W.apply(void 0,[t.vtag,e].concat((0,d.Z)(t.vchildren||[])))}var n=K(t.vtag,t.vtext);return n.$attrs$=t.vattrs,n.$children$=t.vchildren,n.$key$=t.vkey,n.$name$=t.vname,n},et=function(t,e,n,r,i,o){if(n!==r){var a=Ht(t,e),s=e.toLowerCase();if("class"===e){var u=t.classList,c=rt(n),l=rt(r);u.remove.apply(u,(0,d.Z)(c.filter(function(t){return t&&!l.includes(t)}))),u.add.apply(u,(0,d.Z)(l.filter(function(t){return t&&!c.includes(t)})))}else if("style"===e){for(var h in n)r&&null!=r[h]||(h.includes("-")?t.style.removeProperty(h):t.style[h]="");for(var f in r)n&&r[f]===n[f]||(f.includes("-")?t.style.setProperty(f,r[f]):t.style[f]=r[f])}else if("key"===e);else if("ref"===e)r&&r(t);else if(a||"o"!==e[0]||"n"!==e[1]){var p=Y(r);if((a||p&&null!==r)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{var v=null==r?"":r;"list"===e?a=!1:null!=n&&t[e]==v||(t[e]=v)}}catch(g){}var y=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(e=s,y=!0),null==r||!1===r?!1===r&&""!==t.getAttribute(e)||(y?t.removeAttributeNS(Z,e):t.removeAttribute(e)):(!a||4&o||i)&&!p&&(r=!0===r?"":r,y?t.setAttributeNS(Z,e,r):t.setAttribute(e,r))}else e="-"===e[2]?e.slice(3):Ht(k,s)?s.slice(2):s[2]+e.slice(3),n&&S.rel(t,e,n,!1),r&&S.ael(t,e,r,!1)}},nt=/\s/,rt=function(t){return t?t.split(nt):[]},it=function(t,e,n,r){var i=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||H,a=e.$attrs$||H;for(r in o)r in a||et(i,r,o[r],void 0,n,e.$flags$);for(r in a)et(i,r,o[r],a[r],n,e.$flags$)},ot=function t(e,n,a,s){var u,c,l,h=n.$children$[a],f=0;if(g||(_=!0,"slot"===h.$tag$&&(r&&s.classList.add(r+"-s"),h.$flags$|=h.$children$?2:1)),null!==h.$text$)u=h.$elm$=E.createTextNode(h.$text$);else if(1&h.$flags$)u=h.$elm$=E.createTextNode("");else{if(b||(b="svg"===h.$tag$),u=h.$elm$=E.createElementNS(b?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&h.$flags$?"slot-fb":h.$tag$),b&&"foreignObject"===h.$tag$&&(b=!1),it(null,h,b),null!=r&&u["s-si"]!==r&&u.classList.add(u["s-si"]=r),h.$children$)for(f=0;f<h.$children$.length;++f)(c=t(e,h,f,u))&&u.appendChild(c);"svg"===h.$tag$?b=!1:"foreignObject"===u.tagName&&(b=!0)}return u["s-hn"]=o,3&h.$flags$&&(u["s-sr"]=!0,u["s-cr"]=i,u["s-sn"]=h.$name$||"",(l=e&&e.$children$&&e.$children$[a])&&l.$tag$===h.$tag$&&e.$elm$&&at(e.$elm$,!1)),u},at=function t(e,n){S.$flags$|=1;for(var r=e.childNodes,i=r.length-1;i>=0;i--){var a=r[i];a["s-hn"]!==o&&a["s-ol"]&&(ht(a).insertBefore(a,lt(a)),a["s-ol"].remove(),a["s-ol"]=void 0,_=!0),n&&t(a,n)}S.$flags$&=-2},st=function(t,e,n,r,i,a){var s,u=t["s-cr"]&&t["s-cr"].parentNode||t;for(u.shadowRoot&&u.tagName===o&&(u=u.shadowRoot);i<=a;++i)r[i]&&(s=ot(null,n,i,t))&&(r[i].$elm$=s,u.insertBefore(s,lt(e)))},ut=function(t,e,n,r,i){for(;e<=n;++e)(r=t[e])&&(i=r.$elm$,gt(r),m=!0,i["s-ol"]?i["s-ol"].remove():at(i,!0),i.remove())},ct=function(t,e){return t.$tag$===e.$tag$&&("slot"===t.$tag$?t.$name$===e.$name$:t.$key$===e.$key$)},lt=function(t){return t&&t["s-ol"]||t},ht=function(t){return(t["s-ol"]?t["s-ol"]:t).parentNode},ft=function(t,e){var n,r=e.$elm$=t.$elm$,i=t.$children$,o=e.$children$,a=e.$tag$,s=e.$text$;null===s?(b="svg"===a||"foreignObject"!==a&&b,"slot"===a||it(t,e,b),null!==i&&null!==o?function(t,e,n,r){for(var i,o,a=0,s=0,u=0,c=0,l=e.length-1,h=e[0],f=e[l],d=r.length-1,p=r[0],v=r[d];a<=l&&s<=d;)if(null==h)h=e[++a];else if(null==f)f=e[--l];else if(null==p)p=r[++s];else if(null==v)v=r[--d];else if(ct(h,p))ft(h,p),h=e[++a],p=r[++s];else if(ct(f,v))ft(f,v),f=e[--l],v=r[--d];else if(ct(h,v))"slot"!==h.$tag$&&"slot"!==v.$tag$||at(h.$elm$.parentNode,!1),ft(h,v),t.insertBefore(h.$elm$,f.$elm$.nextSibling),h=e[++a],v=r[--d];else if(ct(f,p))"slot"!==h.$tag$&&"slot"!==v.$tag$||at(f.$elm$.parentNode,!1),ft(f,p),t.insertBefore(f.$elm$,h.$elm$),f=e[--l],p=r[++s];else{for(u=-1,c=a;c<=l;++c)if(e[c]&&null!==e[c].$key$&&e[c].$key$===p.$key$){u=c;break}u>=0?((o=e[u]).$tag$!==p.$tag$?i=ot(e&&e[s],n,u,t):(ft(o,p),e[u]=void 0,i=o.$elm$),p=r[++s]):(i=ot(e&&e[s],n,s,t),p=r[++s]),i&&ht(h.$elm$).insertBefore(i,lt(h.$elm$))}a>l?st(t,null==r[d+1]?null:r[d+1].$elm$,n,r,s,d):s>d&&ut(e,a,l)}(r,i,e,o):null!==o?(null!==t.$text$&&(r.textContent=""),st(r,null,e,o,0,o.length-1)):null!==i&&ut(i,0,i.length-1),b&&"svg"===a&&(b=!1)):(n=r["s-cr"])?n.parentNode.textContent=s:t.$text$!==s&&(r.data=s)},dt=function t(e){var n,r,i,o,a,s,u=e.childNodes;for(r=0,i=u.length;r<i;r++)if(1===(n=u[r]).nodeType){if(n["s-sr"])for(a=n["s-sn"],n.hidden=!1,o=0;o<i;o++)if(s=u[o].nodeType,u[o]["s-hn"]!==n["s-hn"]||""!==a){if(1===s&&a===u[o].getAttribute("slot")){n.hidden=!0;break}}else if(1===s||3===s&&""!==u[o].textContent.trim()){n.hidden=!0;break}t(n)}},pt=[],vt=function t(e){for(var n,r,i,o,a,s,u=0,c=e.childNodes,l=c.length;u<l;u++){if((n=c[u])["s-sr"]&&(r=n["s-cr"])&&r.parentNode)for(o=n["s-sn"],s=(i=r.parentNode.childNodes).length-1;s>=0;s--)(r=i[s])["s-cn"]||r["s-nr"]||r["s-hn"]===n["s-hn"]||(yt(r,o)?(a=pt.find(function(t){return t.$nodeToRelocate$===r}),m=!0,r["s-sn"]=r["s-sn"]||o,a?a.$slotRefNode$=n:pt.push({$slotRefNode$:n,$nodeToRelocate$:r}),r["s-sr"]&&pt.map(function(t){yt(t.$nodeToRelocate$,r["s-sn"])&&(a=pt.find(function(t){return t.$nodeToRelocate$===r}))&&!t.$slotRefNode$&&(t.$slotRefNode$=a.$slotRefNode$)})):pt.some(function(t){return t.$nodeToRelocate$===r})||pt.push({$nodeToRelocate$:r}));1===n.nodeType&&t(n)}},yt=function(t,e){return 1===t.nodeType?null===t.getAttribute("slot")&&""===e||t.getAttribute("slot")===e:t["s-sn"]===e||""===e},gt=function t(e){e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(t)},mt=function(t,e){var n,a=t.$hostElement$,s=t.$cmpMeta$,u=t.$vnode$||K(null,null),c=(n=e)&&n.$tag$===Q?e:W(null,null,e);if(o=a.tagName,s.$attrsToReflect$&&(c.$attrs$=c.$attrs$||{},s.$attrsToReflect$.map(function(t){var e=(0,p.Z)(t,2);return c.$attrs$[e[1]]=a[e[0]]})),c.$tag$=null,c.$flags$|=4,t.$vnode$=c,c.$elm$=u.$elm$=a.shadowRoot||a,r=a["s-sc"],i=a["s-cr"],g=T&&0!=(1&s.$flags$),m=!1,ft(u,c),S.$flags$|=1,_){var l,h,f,d,v,y;vt(c.$elm$);for(var b=0;b<pt.length;b++)(h=(l=pt[b]).$nodeToRelocate$)["s-ol"]||((f=E.createTextNode(""))["s-nr"]=h,h.parentNode.insertBefore(h["s-ol"]=f,h));for(b=0;b<pt.length;b++)if(h=(l=pt[b]).$nodeToRelocate$,l.$slotRefNode$){for(d=l.$slotRefNode$.parentNode,v=l.$slotRefNode$.nextSibling,f=h["s-ol"];f=f.previousSibling;)if((y=f["s-nr"])&&y["s-sn"]===h["s-sn"]&&d===y.parentNode&&(!(y=y.nextSibling)||!y["s-nr"])){v=y;break}(!v&&d!==h.parentNode||h.nextSibling!==v)&&h!==v&&(!h["s-hn"]&&h["s-ol"]&&(h["s-hn"]=h["s-ol"].parentNode.nodeName),d.insertBefore(h,v))}else 1===h.nodeType&&(h.hidden=!0)}m&&dt(c.$elm$),S.$flags$&=-2,pt.length=0},_t=function(t){return $t(t).$hostElement$},bt=function(t,e,n){var r=_t(t);return{emit:function(t){return wt(r,e,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:t})}}},wt=function(t,e,n){var r=S.ce(e,n);return t.dispatchEvent(r),r},kt=function(t,e){e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(function(e){return t.$onRenderResolve$=e}))},Ct=function(t,e){if(t.$flags$|=16,!(4&t.$flags$))return kt(t,t.$ancestorComponent$),ae(function(){return Et(t,e)});t.$flags$|=512},Et=function(t,e){var n,r=t.$lazyInstance$;return e&&(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.map(function(t){var e=(0,p.Z)(t,2);return Ot(r,e[0],e[1])}),t.$queuedListeners$=null),n=Ot(r,"componentWillLoad")),n=Rt(n,function(){return Ot(r,"componentWillRender")}),Rt(n,function(){return St(t,r,e)})},St=function(){var t=(0,f.Z)(y().mark(function t(e,n,r){var i,o,a,s;return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=(i=e.$hostElement$)["s-rc"],r&&V(e),Tt(e,n),S.$cssShim$&&S.$cssShim$.updateHost(i),o&&(o.map(function(t){return t()}),i["s-rc"]=void 0),s=function(){return It(e)},0===(a=i["s-p"]).length?s():(Promise.all(a).then(s),e.$flags$|=4,a.length=0);case 13:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}(),Tt=function(t,e,n){try{e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,mt(t,e)}catch(r){Yt(r,t.$hostElement$)}return null},It=function(t){var e=t.$hostElement$,n=t.$lazyInstance$,r=t.$ancestorComponent$;64&t.$flags$?Ot(n,"componentDidUpdate"):(t.$flags$|=64,Pt(e),Ot(n,"componentDidLoad"),t.$onReadyResolve$(e),r||At()),t.$onInstanceResolve$(e),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&ie(function(){return Ct(t,!1)}),t.$flags$&=-517},xt=function(t){var e=$t(t),n=e.$hostElement$.isConnected;return n&&2==(18&e.$flags$)&&Ct(e,!1),n},At=function(t){Pt(E.documentElement),ie(function(){return wt(k,"appload",{detail:{namespace:"ionic"}})})},Ot=function(t,e,n){if(t&&t[e])try{return t[e](n)}catch(r){Yt(r)}},Rt=function(t,e){return t&&t.then?t.then(e):e()},Pt=function(t){return t.classList.add("hydrated")},Dt=function t(e,n,r,i,o,a,s){var u,c,l,h;if(1===a.nodeType){for((u=a.getAttribute(L))&&((c=u.split("."))[0]!==s&&"0"!==c[0]||(l={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:a.tagName.toLowerCase(),$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},n.push(l),a.removeAttribute(L),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l,e=l,i&&"0"===l.$depth$&&(i[l.$index$]=l.$elm$))),h=a.childNodes.length-1;h>=0;h--)t(e,n,r,i,o,a.childNodes[h],s);if(a.shadowRoot)for(h=a.shadowRoot.childNodes.length-1;h>=0;h--)t(e,n,r,i,o,a.shadowRoot.childNodes[h],s)}else if(8===a.nodeType)(c=a.nodeValue.split("."))[1]!==s&&"0"!==c[1]||(l={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===(u=c[0])?(l.$elm$=a.nextSibling,l.$elm$&&3===l.$elm$.nodeType&&(l.$text$=l.$elm$.textContent,n.push(l),a.remove(),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l,i&&"0"===l.$depth$&&(i[l.$index$]=l.$elm$))):l.$hostId$===s&&("s"===u?(l.$tag$="slot",a["s-sn"]=c[5]?l.$name$=c[5]:"",a["s-sr"]=!0,i&&(l.$elm$=E.createElement(l.$tag$),l.$name$&&l.$elm$.setAttribute("name",l.$name$),a.parentNode.insertBefore(l.$elm$,a),a.remove(),"0"===l.$depth$&&(i[l.$index$]=l.$elm$)),r.push(l),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l):"r"===u&&(i?a.remove():(o["s-cr"]=a,a["s-cn"]=!0))));else if(e&&"style"===e.$tag$){var f=K(null,a.textContent);f.$elm$=a,f.$index$="0",e.$children$=[f]}},Nt=function t(e,n){if(1===e.nodeType){for(var r=0;r<e.childNodes.length;r++)t(e.childNodes[r],n);if(e.shadowRoot)for(r=0;r<e.shadowRoot.childNodes.length;r++)t(e.shadowRoot.childNodes[r],n)}else if(8===e.nodeType){var i=e.nodeValue.split(".");"o"===i[0]&&(n.set(i[1]+"."+i[2],e),e.nodeValue="",e["s-en"]=i[3])}},Lt=function(t,e,n){if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);var r=Object.entries(e.$members$),i=t.prototype;if(r.map(function(t){var r=(0,p.Z)(t,2),o=r[0],a=(0,p.Z)(r[1],1)[0];31&a||2&n&&32&a?Object.defineProperty(i,o,{get:function(){return t=o,$t(this).$instanceValues$.get(t);var t},set:function(t){!function(t,e,n,r){var i,o,a=$t(t),s=a.$hostElement$,u=a.$instanceValues$.get(e),c=a.$flags$,l=a.$lazyInstance$;if(o=r.$members$[e][0],n=null==(i=n)||Y(i)?i:4&o?"false"!==i&&(""===i||!!i):2&o?parseFloat(i):1&o?String(i):i,!(8&c&&void 0!==u||n===u)&&(a.$instanceValues$.set(e,n),l)){if(r.$watchers$&&128&c){var h=r.$watchers$[e];h&&h.map(function(t){try{l[t](n,u,e)}catch(r){Yt(r,s)}})}2==(18&c)&&Ct(a,!1)}}(this,o,t,e)},configurable:!0,enumerable:!0}):1&n&&64&a&&Object.defineProperty(i,o,{value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=$t(this);return r.$onInstancePromise$.then(function(){var t;return(t=r.$lazyInstance$)[o].apply(t,e)})}})}),1&n){var o=new Map;i.attributeChangedCallback=function(t,e,n){var r=this;S.jmp(function(){var e=o.get(t);r[e]=(null!==n||"boolean"!=typeof r[e])&&n})},t.observedAttributes=r.filter(function(t){return 15&(0,p.Z)(t,2)[1][0]}).map(function(t){var n=(0,p.Z)(t,2),r=n[0],i=n[1],a=i[1]||r;return o.set(a,r),512&i[0]&&e.$attrsToReflect$.push([r,a]),a})}}return t},Ft=function(){var t=(0,f.Z)(y().mark(function t(e,r,i,o,a){var s,u,c,l,h,f;return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(32&r.$flags$)){t.next=29;break}if(r.$flags$|=32,!(a=Kt(i)).then){t.next=9;break}return s=function(){},t.next=7,a;case 7:a=t.sent,s();case 9:a.isProxied||(i.$watchers$=a.watchers,Lt(a,i,2),a.isProxied=!0),r.$flags$|=8;try{new a(r)}catch(o){Yt(o)}if(r.$flags$&=-9,r.$flags$|=128,Zt(r.$lazyInstance$),!a.style){t.next=29;break}if("string"!=typeof(u=a.style)&&(u=u[r.$modeName$=$(e)]),c=q(i,r.$modeName$),Qt.has(c)){t.next=29;break}if(l=function(){},!(8&i.$flags$)){t.next=27;break}return t.next=26,n.e(2369).then(n.bind(n,2369)).then(function(t){return t.scopeCss(u,c,!1)});case 26:u=t.sent;case 27:j(c,u,!!(1&i.$flags$)),l();case 29:f=function(){return Ct(r,!0)},(h=r.$ancestorComponent$)&&h["s-rc"]?h["s-rc"].push(f):f();case 32:case"end":return t.stop()}},t)}));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),Zt=function(t){Ot(t,"connectedCallback")},Mt=function(t){if(0==(1&S.$flags$)){var e=$t(t),n=e.$cmpMeta$;if(1&e.$flags$)A(t,e,n.$listeners$),Zt(e.$lazyInstance$);else{var r;if(e.$flags$|=1,r=t.getAttribute(D)){if(T&&1&n.$flags$){var i=U(t.shadowRoot,n,t.getAttribute("s-mode"));t.classList.remove(i+"-h",i+"-s")}!function(t,e,n,r){var i=t.shadowRoot,o=[],a=i?[]:null,s=r.$vnode$=K(e,null);S.$orgLocNodes$||Nt(E.body,S.$orgLocNodes$=new Map),t["s-id"]=n,t.removeAttribute(D),Dt(s,o,[],a,t,t,n),o.map(function(t){var n=t.$hostId$+"."+t.$nodeId$,r=S.$orgLocNodes$.get(n),o=t.$elm$;r&&T&&""===r["s-en"]&&r.parentNode.insertBefore(o,r.nextSibling),i||(o["s-hn"]=e,r&&(o["s-ol"]=r,o["s-ol"]["s-nr"]=o)),S.$orgLocNodes$.delete(n)}),i&&a.map(function(t){t&&i.appendChild(t)})}(t,n.$tagName$,r,e)}r||12&n.$flags$&&jt(t);for(var o=t;o=o.parentNode||o.host;)if(1===o.nodeType&&o.hasAttribute("s-id")&&o["s-p"]||o["s-p"]){kt(e,e.$ancestorComponent$=o);break}n.$members$&&Object.entries(n.$members$).map(function(e){var n=(0,p.Z)(e,2),r=n[0];if(31&(0,p.Z)(n[1],1)[0]&&t.hasOwnProperty(r)){var i=t[r];delete t[r],t[r]=i}}),ie(function(){return Ft(t,e,n)})}}},jt=function(t){var e=t["s-cr"]=E.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},Ut=function(t){if(0==(1&S.$flags$)){var e=$t(t),n=e.$lazyInstance$;e.$rmListeners$&&(e.$rmListeners$.map(function(t){return t()}),e.$rmListeners$=void 0),S.$cssShim$&&S.$cssShim$.removeHost(t),Ot(n,"disconnectedCallback")}},Vt=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){},i=[],o=n.exclude||[],f=k.customElements,d=E.head,p=d.querySelector("meta[charset]"),v=E.createElement("style"),y=[],g=E.querySelectorAll("[".concat(N,"]")),m=!0,_=0;for(Object.assign(S,n),S.$resourcesUrl$=new URL(n.resourcesUrl||"./",E.baseURI).href,S.$flags$|=2;_<g.length;_++)j(g[_].getAttribute(N),B(g[_].innerHTML),!0);t.map(function(t){return t[1].map(function(n){var r={$flags$:n[0],$tagName$:n[1],$members$:n[2],$listeners$:n[3]};r.$members$=n[2],r.$listeners$=n[3],r.$attrsToReflect$=[],r.$watchers$={},!T&&1&r.$flags$&&(r.$flags$|=8);var d=r.$tagName$,p=function(t){(0,c.Z)(i,t);var n=(0,l.Z)(i);function i(t){var e;return(0,a.Z)(this,i),e=n.call(this,t),t=(0,u.Z)(e),zt(t,r),1&r.$flags$&&(T?t.attachShadow({mode:"open",delegatesFocus:!!(16&r.$flags$)}):"shadowRoot"in t||(t.shadowRoot=t)),e}return(0,s.Z)(i,[{key:"connectedCallback",value:function(){var t=this;e&&(clearTimeout(e),e=null),m?y.push(this):S.jmp(function(){return Mt(t)})}},{key:"disconnectedCallback",value:function(){var t=this;S.jmp(function(){return Ut(t)})}},{key:"componentOnReady",value:function(){return $t(this).$onReadyPromise$}}]),i}((0,h.Z)(HTMLElement));r.$lazyBundleId$=t[0],o.includes(d)||f.get(d)||(i.push(d),f.define(d,Lt(p,r,1)))})}),v.innerHTML=i+F,v.setAttribute("data-styles",""),d.insertBefore(v,p?p.nextSibling:d.firstChild),m=!1,y.length?y.map(function(t){return t.connectedCallback()}):S.jmp(function(){return e=setTimeout(At,30)}),r()},qt=function(t){var e=new URL(t,S.$resourcesUrl$);return e.origin!==k.location.origin?e.href:e.pathname},Bt=new WeakMap,$t=function(t){return Bt.get(t)},Gt=function(t,e){return Bt.set(e.$lazyInstance$=t,e)},zt=function(t,e){var n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(function(t){return n.$onInstanceResolve$=t}),n.$onReadyPromise$=new Promise(function(t){return n.$onReadyResolve$=t}),t["s-p"]=[],t["s-rc"]=[],A(t,n,e.$listeners$),Bt.set(t,n)},Ht=function(t,e){return e in t},Yt=function(t,e){return(0,console.error)(t,e)},Wt=new Map,Kt=function(t,e,r){var i=t.$tagName$.replace(/-/g,"_"),o=t.$lazyBundleId$,a=Wt.get(o);return a?a[i]:n(863)("./".concat(o,".entry.js")).then(function(t){return Wt.set(o,t),t[i]},Yt)},Qt=new Map,Jt=[],Xt=[],te=[],ee=function(t,e){return function(n){t.push(n),w||(w=!0,e&&4&S.$flags$?ie(re):S.raf(re))}},ne=function(t){for(var e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Yt(n)}t.length=0},re=function t(){ne(Xt),ne(te),(w=Xt.length>0)&&S.raf(t)},ie=function(t){return I().then(t)},oe=ee(Xt,!1),ae=ee(te,!0),se={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5538:function(t,e,n){"use strict";n.d(e,{L:function(){return u},a:function(){return c},b:function(){return l},c:function(){return h},d:function(){return f},e:function(){return I},g:function(){return O},l:function(){return S},s:function(){return x},t:function(){return d}});var r=n(6304),i=n(8774),o=n.n(i),a=n(2322),s=n(1843),u="ionViewWillEnter",c="ionViewDidEnter",l="ionViewWillLeave",h="ionViewDidLeave",f="ionViewWillUnload",d=function(t){return new Promise(function(e,n){(0,a.c)(function(){p(t),v(t).then(function(n){n.animation&&n.animation.destroy(),y(t),e(n)},function(e){y(t),n(e)})})})},p=function(t){var e=t.enteringEl,n=t.leavingEl;A(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),x(e,!1),e.style.setProperty("pointer-events","none"),n&&(x(n,!1),n.style.setProperty("pointer-events","none"))},v=function(){var t=(0,r.Z)(o().mark(function t(e){var n,r;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:return r=(n=t.sent)&&a.B.isBrowser?m(n,e):_(e),t.abrupt("return",r);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),y=function(t){var e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},g=function(){var t=(0,r.Z)(o().mark(function t(e){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.leavingEl&&e.animated&&0!==e.duration){t.next=2;break}return t.abrupt("return",void 0);case 2:if(!e.animationBuilder){t.next=4;break}return t.abrupt("return",e.animationBuilder);case 4:if("ios"!==e.mode){t.next=10;break}return t.next=7,Promise.resolve().then(n.bind(n,5337));case 7:t.t0=t.sent.iosTransitionAnimation,t.next=13;break;case 10:return t.next=12,Promise.resolve().then(n.bind(n,8176));case 12:t.t0=t.sent.mdTransitionAnimation;case 13:return t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)(o().mark(function t(e,n){var r,i;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(n,!0);case 2:return r=e(n.baseEl,n),C(n.enteringEl,n.leavingEl),t.next=6,k(r,n);case 6:return i=t.sent,n.progressCallback&&n.progressCallback(void 0),i&&E(n.enteringEl,n.leavingEl),t.abrupt("return",{hasCompleted:i,animation:r});case 10:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),_=function(){var t=(0,r.Z)(o().mark(function t(e){var n,r;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.enteringEl,r=e.leavingEl,t.next=4,b(e,!1);case 4:return C(n,r),E(n,r),t.abrupt("return",{hasCompleted:!0});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=(0,r.Z)(o().mark(function t(e,n){var r;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=(void 0!==e.deepWait?e.deepWait:n)?[I(e.enteringEl),I(e.leavingEl)]:[T(e.enteringEl),T(e.leavingEl)],t.next=4,Promise.all(r);case 4:return t.next=6,w(e.viewIsReady,e.enteringEl);case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),w=function(){var t=(0,r.Z)(o().mark(function t(e,n){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,e(n);case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),k=function(t,e){var n=e.progressCallback,r=new Promise(function(e){t.onFinish(function(t){return e(1===t)})});return n?(t.progressStart(!0),n(t)):t.play(),r},C=function(t,e){S(e,l),S(t,u)},E=function(t,e){S(t,c),S(e,h)},S=function(t,e){if(t){var n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},T=function(t){return t?new Promise(function(e){return(0,s.c)(t,e)}):Promise.resolve()},I=function(){var t=(0,r.Z)(o().mark(function t(e){var n;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e)){t.next=10;break}if(null==n.componentOnReady){t.next=8;break}return t.next=5,n.componentOnReady();case 5:if(null==t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,Promise.all(Array.from(n.children).map(I));case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),x=function(t,e){e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},A=function(t,e,n){void 0!==t&&(t.style.zIndex="back"===n?"99":"101"),void 0!==e&&(e.style.zIndex="100")},O=function(t){return t.classList.contains("ion-page")?t:t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||t}},8520:function(t,e,n){"use strict";n.r(e),n.d(e,{GESTURE_CONTROLLER:function(){return i.G},createGesture:function(){return u}});var r,i=n(6953),o=function(t,e,n,r){var i,o,s=a(t)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;return t.__zone_symbol__addEventListener?(i="__zone_symbol__addEventListener",o="__zone_symbol__removeEventListener"):(i="addEventListener",o="removeEventListener"),t[i](e,n,s),function(){t[o](e,n,s)}},a=function(t){if(void 0===r)try{var e=Object.defineProperty({},"passive",{get:function(){r=!0}});t.addEventListener("optsTest",function(){},e)}catch(n){r=!1}return!!r},s=function(t){return t instanceof Document?t:t.ownerDocument},u=function(t){var e=!1,n=!1,r=!0,a=!1,u=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),f=u.canStart,d=u.onWillStart,p=u.onStart,v=u.onEnd,y=u.notCaptured,g=u.onMove,m=u.threshold,_=u.passive,b=u.blurOnStart,w={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},k=function(t,e,n){var r=n*(Math.PI/180),i="x"===t,o=Math.cos(r),a=e*e,s=0,u=0,c=!1,l=0;return{start:function(t,e){s=t,u=e,l=0,c=!0},detect:function(t,e){if(!c)return!1;var n=t-s,r=e-u,h=n*n+r*r;if(h<a)return!1;var f=Math.sqrt(h),d=(i?n:r)/f;return l=d>o?1:d<-o?-1:0,c=!1,!0},isGesture:function(){return 0!==l},getDirection:function(){return l}}}(u.direction,u.threshold,u.maxAngle),C=i.G.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),E=function(){e&&(a=!1,g&&g(w))},S=function(){return!(C&&!C.capture()||(e=!0,r=!1,w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime,d?d(w).then(T):T(),0))},T=function(){b&&function(){if("undefined"!=typeof document){var t=document.activeElement;null!==t&&t.blur&&t.blur()}}(),p&&p(w),r=!0},I=function(){e=!1,n=!1,a=!1,r=!0,C.release()},x=function(t){var n=e,i=r;I(),i&&(c(w,t),n?v&&v(w):y&&y(w))},A=function(t,e,n,r,i){var a,u,c,l,h,f,d,p=0,v=function(r){p=Date.now()+2e3,e(r)&&(!u&&n&&(u=o(t,"touchmove",n,i)),c||(c=o(t,"touchend",g,i)),l||(l=o(t,"touchcancel",g,i)))},y=function(r){p>Date.now()||e(r)&&(!f&&n&&(f=o(s(t),"mousemove",n,i)),d||(d=o(s(t),"mouseup",m,i)))},g=function(t){_(),r&&r(t)},m=function(t){b(),r&&r(t)},_=function(){u&&u(),c&&c(),l&&l(),u=c=l=void 0},b=function(){f&&f(),d&&d(),f=d=void 0},w=function(){_(),b()},k=function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?(a&&a(),h&&h(),a=h=void 0,w()):(a||(a=o(t,"touchstart",v,i)),h||(h=o(t,"mousedown",y,i)))};return{enable:k,stop:w,destroy:function(){k(!1),r=n=e=void 0}}}(u.el,function(t){var e=h(t);return!(n||!r)&&(l(t,w),w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime=e,w.velocityX=w.velocityY=w.deltaX=w.deltaY=0,w.event=t,(!f||!1!==f(w))&&(C.release(),!!C.start()&&(n=!0,0===m?S():(k.start(w.startX,w.startY),!0))))},function(t){e?!a&&r&&(a=!0,c(w,t),requestAnimationFrame(E)):(c(w,t),k.detect(w.currentX,w.currentY)&&(k.isGesture()&&S()||O()))},x,{capture:!1,passive:_}),O=function(){I(),A.stop(),y&&y(w)};return{enable:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t||(e&&x(void 0),I()),A.enable(t)},destroy:function(){C.destroy(),A.destroy()}}},c=function(t,e){if(e){var n=t.currentX,r=t.currentY,i=t.currentTime;l(e,t);var o=t.currentX,a=t.currentY,s=(t.currentTime=h(e))-i;if(s>0&&s<100){var u=(a-r)/s;t.velocityX=(o-n)/s*.7+.3*t.velocityX,t.velocityY=.7*u+.3*t.velocityY}t.deltaX=o-t.startX,t.deltaY=a-t.startY,t.event=e}},l=function(t,e){var n=0,r=0;if(t){var i=t.changedTouches;if(i&&i.length>0){var o=i[0];n=o.clientX,r=o.clientY}else void 0!==t.pageX&&(n=t.pageX,r=t.pageY)}e.currentX=n,e.currentY=r},h=function(t){return t.timeStamp||Date.now()}},7505:function(t,e,n){"use strict";n.d(e,{a:function(){return c},b:function(){return x},c:function(){return w},g:function(){return u},i:function(){return A}});var r,i=n(4568),o=n(1112),a=n(1998),s=n(2322),u=function(t){return l(t)},c=function(t,e){return"string"==typeof t&&(e=t,t=void 0),u(t).includes(e)},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(void 0===t)return[];t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=h(t)).forEach(function(e){return t.document.documentElement.classList.add("plt-".concat(e))}),e},h=function(t){return Object.keys(b).filter(function(e){return b[e](t)})},f=function(t){return!!m(t,/iPad/i)||!(!m(t,/Macintosh/i)||!p(t))},d=function(t){return m(t,/android|sink/i)},p=function(t){return _(t,"(any-pointer:coarse)")},v=function(t){return y(t)||g(t)},y=function(t){return!!(t.cordova||t.phonegap||t.PhoneGap)},g=function(t){var e=t.Capacitor;return!(!e||!e.isNative)},m=function(t,e){return e.test(t.navigator.userAgent)},_=function(t,e){return t.matchMedia(e).matches},b={ipad:f,iphone:function(t){return m(t,/iPhone/i)},ios:function(t){return m(t,/iPhone|iPod/i)||f(t)},android:d,phablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return f(t)||function(t){return d(t)&&!m(t,/mobile/i)}(t)||r>460&&r<820&&i>780&&i<1400},cordova:y,capacitor:g,electron:function(t){return m(t,/electron/i)},pwa:function(t){return!(!t.matchMedia("(display-mode: standalone)").matches&&!t.navigator.standalone)},mobile:p,mobileweb:function(t){return p(t)&&!v(t)},desktop:function(t){return!p(t)},hybrid:v},w=new(function(){function t(){(0,o.Z)(this,t),this.m=new Map}return(0,a.Z)(t,[{key:"reset",value:function(t){this.m=new Map(Object.entries(t))}},{key:"get",value:function(t,e){var n=this.m.get(t);return void 0!==n?n:e}},{key:"getBoolean",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.m.get(t);return void 0===n?e:"string"==typeof n?"true"===n:!!n}},{key:"getNumber",value:function(t,e){var n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==e?e:NaN:n}},{key:"set",value:function(t,e){this.m.set(t,e)}}]),t}()),k=function(t){try{var e=t.sessionStorage.getItem(I);return null!==e?JSON.parse(e):{}}catch(n){return{}}},C=function(t,e){try{t.sessionStorage.setItem(I,JSON.stringify(e))}catch(n){return}},E=function(t){var e={};return t.location.search.slice(1).split("&").map(function(t){return t.split("=")}).map(function(t){var e=(0,i.Z)(t,2),n=e[1];return[decodeURIComponent(e[0]),decodeURIComponent(n)]}).filter(function(t){var e=(0,i.Z)(t,1);return S(e[0],T)}).map(function(t){var e=(0,i.Z)(t,2),n=e[1];return[e[0].slice(T.length),n]}).forEach(function(t){var n=(0,i.Z)(t,2);e[n[0]]=n[1]}),e},S=function(t,e){return t.substr(0,e.length)===e},T="ionic:",I="ionic-persist-config",x=function(t){return t&&(0,s.g)(t)||r},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!=typeof window){var e=window.document,n=window,i=n.Ionic=n.Ionic||{};l(n);var o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},k(n)),{persistConfig:!1}),i.config),E(n)),t);w.reset(o),w.getBoolean("persistConfig")&&C(n,o),i.config=w,i.mode=r=w.get("mode",e.documentElement.getAttribute("mode")||(c(n,"ios")?"ios":"md")),w.set("mode",r),e.documentElement.setAttribute("mode",r),e.documentElement.classList.add(r),w.getBoolean("_testing")&&w.set("animated",!1);var a=function(t){return t.tagName&&t.tagName.startsWith("ION-")},u=function(t){return["ios","md"].includes(t)};(0,s.s)(function(t){for(;t;){var e=t.mode||t.getAttribute("mode");if(e){if(u(e))return e;a(t)&&console.warn('Invalid ionic mode: "'+e+'", expected: "ios" or "md"')}t=t.parentElement}return r})}}},5337:function(t,e,n){"use strict";n.r(e),n.d(e,{iosTransitionAnimation:function(){return d},shadow:function(){return u}});var r=n(5587),i=n(2454),o=n(9691),a=n(5538),s=(n(2322),function(t){return document.querySelector("".concat(t,".ion-cloned-element"))}),u=function(t){return t.shadowRoot||t},c=function(t){var e="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs"),n="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=e){var r=e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=r?r.querySelector(n):null}return t.querySelector(n)},l=function(t,e){var n="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs"),r=[];if(null!=n){var o=n.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=o&&(r=o.querySelectorAll("ion-buttons"))}else r=t.querySelectorAll("ion-buttons");var a,s=(0,i.Z)(r);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.closest("ion-header"),l=c&&!c.classList.contains("header-collapse-condense-inactive"),h=u.querySelector("ion-back-button"),f=u.classList.contains("buttons-collapse");if(null!==h&&("start"===u.slot||""===u.slot)&&(f&&l&&e||!f))return h}}catch(d){s.e(d)}finally{s.f()}return null},h=function(t,e,n,r,i,a){var c=e?"calc(100% - ".concat(a.right+4,"px)"):"".concat(a.left-4,"px"),l=e?"7px":"-7px",h=e?"-4px":"4px",f=e?"-4px":"4px",d=e?"right":"left",p=e?"left":"right",v=[{offset:0,opacity:0,transform:"translate3d(".concat(l,", ").concat(i.top-40,"px, 0) scale(2.1)")},{offset:1,opacity:1,transform:"translate3d(".concat(h,", ").concat(a.top-46,"px, 0) scale(1)")}],y=[{offset:0,opacity:1,transform:"translate3d(".concat(h,", ").concat(a.top-46,"px, 0) scale(1)")},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d(".concat(l,", ").concat(i.top-40,"px, 0) scale(2.1)")}],g=n?y:v,m=[{offset:0,opacity:0,transform:"translate3d(".concat(f,", ").concat(a.top-41,"px, 0) scale(0.6)")},{offset:1,opacity:1,transform:"translate3d(".concat(f,", ").concat(a.top-46,"px, 0) scale(1)")}],_=[{offset:0,opacity:1,transform:"translate3d(".concat(f,", ").concat(a.top-46,"px, 0) scale(1)")},{offset:.2,opacity:0,transform:"translate3d(".concat(f,", ").concat(a.top-41,"px, 0) scale(0.6)")},{offset:1,opacity:0,transform:"translate3d(".concat(f,", ").concat(a.top-41,"px, 0) scale(0.6)")}],b=n?_:m,w=(0,o.c)(),k=(0,o.c)(),C=s("ion-back-button"),E=u(C).querySelector(".button-text"),S=u(C).querySelector("ion-icon");C.text=r.text,C.mode=r.mode,C.icon=r.icon,C.color=r.color,C.disabled=r.disabled,C.style.setProperty("display","block"),C.style.setProperty("position","fixed"),k.addElement(S),w.addElement(E),w.beforeStyles({"transform-origin":"".concat(d," center")}).beforeAddWrite(function(){r.style.setProperty("display","none"),C.style.setProperty(d,c)}).afterAddWrite(function(){r.style.setProperty("display",""),C.style.setProperty("display","none"),C.style.removeProperty(d)}).keyframes(g),k.beforeStyles({"transform-origin":"".concat(p," center")}).keyframes(b),t.addAnimation([w,k])},f=function(t,e,n,i,a,u){var c=e?"calc(100% - ".concat(a.right,"px)"):"".concat(a.left,"px"),l=e?"-18px":"18px",h=e?"right":"left",f=[{offset:0,opacity:0,transform:"translate3d(".concat(l,", ").concat(u.top-4,"px, 0) scale(0.49)")},{offset:.1,opacity:0},{offset:1,opacity:1,transform:"translate3d(0, ".concat(a.top-2,"px, 0) scale(1)")}],d=[{offset:0,opacity:.99,transform:"translate3d(0, ".concat(a.top-2,"px, 0) scale(1)")},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d(".concat(l,", ").concat(u.top-4,"px, 0) scale(0.5)")}],p=n?f:d,v=s("ion-title"),y=(0,o.c)();v.innerText=i.innerText,v.size=i.size,v.color=i.color,y.addElement(v),y.beforeStyles((0,r.Z)({"transform-origin":"".concat(h," center"),height:"46px",display:"",position:"relative"},h,c)).beforeAddWrite(function(){i.style.setProperty("display","none")}).afterAddWrite(function(){i.style.setProperty("display",""),v.style.setProperty("display","none")}).keyframes(p),t.addAnimation(y)},d=function(t,e){try{var n="opacity",r="transform",i="0%",s="rtl"===t.ownerDocument.dir,d=s?"-99.5%":"99.5%",p=s?"33%":"-33%",v=e.enteringEl,y=e.leavingEl,g="back"===e.direction,m=v.querySelector(":scope > ion-content"),_=v.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),b=v.querySelectorAll(":scope > ion-header > ion-toolbar"),w=(0,o.c)(),k=(0,o.c)();if(w.addElement(v).duration(e.duration||540).easing(e.easing||"cubic-bezier(0.32,0.72,0,1)").fill("both").beforeRemoveClass("ion-page-invisible"),y&&t){var C=(0,o.c)();C.addElement(t),w.addAnimation(C)}if(m||0!==b.length||0!==_.length?(k.addElement(m),k.addElement(_)):k.addElement(v.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),w.addAnimation(k),g?k.beforeClearStyles([n]).fromTo("transform","translateX(".concat(p,")"),"translateX(".concat(i,")")).fromTo(n,.8,1):k.beforeClearStyles([n]).fromTo("transform","translateX(".concat(d,")"),"translateX(".concat(i,")")),m){var E=u(m).querySelector(".transition-effect");if(E){var S=E.querySelector(".transition-cover"),T=E.querySelector(".transition-shadow"),I=(0,o.c)(),x=(0,o.c)(),A=(0,o.c)();I.addElement(E).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),x.addElement(S).beforeClearStyles([n]).fromTo(n,0,.1),A.addElement(T).beforeClearStyles([n]).fromTo(n,.03,.7),I.addAnimation([x,A]),k.addAnimation([I])}}var O=v.querySelector("ion-header.header-collapse-condense"),R=function(t,e,n,r,i){var o=l(r,n),a=c(i),s=c(r),u=l(i,n),d=null!==o&&null!==a&&!n,p=null!==s&&null!==u&&n;if(d){var v=a.getBoundingClientRect(),y=o.getBoundingClientRect();f(t,e,n,a,v,y),h(t,e,n,o,v,y)}else if(p){var g=s.getBoundingClientRect(),m=u.getBoundingClientRect();f(t,e,n,s,g,m),h(t,e,n,u,g,m)}return{forward:d,backward:p}}(w,s,g,v,y),P=R.forward,D=R.backward;if(b.forEach(function(t){var e=(0,o.c)();e.addElement(t),w.addAnimation(e);var r=(0,o.c)();r.addElement(t.querySelector("ion-title"));var a,c=(0,o.c)(),l=Array.from(t.querySelectorAll("ion-buttons,[menuToggle]")),h=t.closest("ion-header"),f=h&&h.classList.contains("header-collapse-condense-inactive");a=l.filter(g?function(t){var e=t.classList.contains("buttons-collapse");return e&&!f||!e}:function(t){return!t.classList.contains("buttons-collapse")}),c.addElement(a);var v=(0,o.c)();v.addElement(t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));var y=(0,o.c)();y.addElement(u(t).querySelector(".toolbar-background"));var m=(0,o.c)(),_=t.querySelector("ion-back-button");if(_&&m.addElement(_),e.addAnimation([r,c,v,y,m]),c.fromTo(n,.01,1),v.fromTo(n,.01,1),g)f||r.fromTo("transform","translateX(".concat(p,")"),"translateX(".concat(i,")")).fromTo(n,.01,1),v.fromTo("transform","translateX(".concat(p,")"),"translateX(".concat(i,")")),m.fromTo(n,.01,1);else if(O||r.fromTo("transform","translateX(".concat(d,")"),"translateX(".concat(i,")")).fromTo(n,.01,1),v.fromTo("transform","translateX(".concat(d,")"),"translateX(".concat(i,")")),y.beforeClearStyles([n,"transform"]),(null==h?void 0:h.translucent)?y.fromTo("transform",s?"translateX(-100%)":"translateX(100%)","translateX(0px)"):y.fromTo(n,.01,"var(--opacity)"),P||m.fromTo(n,.01,1),_&&!P){var b=(0,o.c)();b.addElement(u(_).querySelector(".button-text")).fromTo("transform",s?"translateX(-100px)":"translateX(100px)","translateX(0px)"),e.addAnimation(b)}}),y){var N=(0,o.c)(),L=y.querySelector(":scope > ion-content"),F=y.querySelectorAll(":scope > ion-header > ion-toolbar"),Z=y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(L||0!==F.length||0!==Z.length?(N.addElement(L),N.addElement(Z)):N.addElement(y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),w.addAnimation(N),g){N.beforeClearStyles([n]).fromTo("transform","translateX(".concat(i,")"),s?"translateX(-100%)":"translateX(100%)");var M=(0,a.g)(y);w.afterAddWrite(function(){"normal"===w.getDirection()&&M.style.setProperty("display","none")})}else N.fromTo("transform","translateX(".concat(i,")"),"translateX(".concat(p,")")).fromTo(n,1,.8);if(L){var j=u(L).querySelector(".transition-effect");if(j){var U=j.querySelector(".transition-cover"),V=j.querySelector(".transition-shadow"),q=(0,o.c)(),B=(0,o.c)(),$=(0,o.c)();q.addElement(j).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),B.addElement(U).beforeClearStyles([n]).fromTo(n,.1,0),$.addElement(V).beforeClearStyles([n]).fromTo(n,.7,.03),q.addAnimation([B,$]),N.addAnimation([q])}}F.forEach(function(t){var e=(0,o.c)();e.addElement(t);var a=(0,o.c)();a.addElement(t.querySelector("ion-title"));var c=(0,o.c)(),l=t.querySelectorAll("ion-buttons,[menuToggle]"),h=t.closest("ion-header"),f=h&&h.classList.contains("header-collapse-condense-inactive"),d=Array.from(l).filter(function(t){var e=t.classList.contains("buttons-collapse");return e&&!f||!e});c.addElement(d);var v=(0,o.c)(),y=t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");y.length>0&&v.addElement(y);var m=(0,o.c)();m.addElement(u(t).querySelector(".toolbar-background"));var _=(0,o.c)(),b=t.querySelector("ion-back-button");if(b&&_.addElement(b),e.addAnimation([a,c,v,_,m]),w.addAnimation(e),_.fromTo(n,.99,0),c.fromTo(n,.99,0),v.fromTo(n,.99,0),g){if(f||a.fromTo("transform","translateX(".concat(i,")"),s?"translateX(-100%)":"translateX(100%)").fromTo(n,.99,0),v.fromTo("transform","translateX(".concat(i,")"),s?"translateX(-100%)":"translateX(100%)"),m.beforeClearStyles([n,"transform"]),(null==h?void 0:h.translucent)?m.fromTo("transform","translateX(0px)",s?"translateX(-100%)":"translateX(100%)"):m.fromTo(n,"var(--opacity)",0),b&&!D){var k=(0,o.c)();k.addElement(u(b).querySelector(".button-text")).fromTo("transform","translateX(".concat(i,")"),"translateX(".concat((s?-124:124)+"px",")")),e.addAnimation(k)}}else f||a.fromTo("transform","translateX(".concat(i,")"),"translateX(".concat(p,")")).fromTo(n,.99,0).afterClearStyles([r,n]),v.fromTo("transform","translateX(".concat(i,")"),"translateX(".concat(p,")")).afterClearStyles([r,n]),_.afterClearStyles([n]),a.afterClearStyles([n]),c.afterClearStyles([n])})}return w}catch(G){throw G}}},8176:function(t,e,n){"use strict";n.r(e),n.d(e,{mdTransitionAnimation:function(){return o}});var r=n(9691),i=n(5538),o=(n(2322),function(t,e){var n="40px",o="back"===e.direction,a=e.leavingEl,s=(0,i.g)(e.enteringEl),u=s.querySelector("ion-toolbar"),c=(0,r.c)();if(c.addElement(s).fill("both").beforeRemoveClass("ion-page-invisible"),o?c.duration(e.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):c.duration(e.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(".concat(n,")"),"translateY(".concat("0px",")")).fromTo("opacity",.01,1),u){var l=(0,r.c)();l.addElement(u),c.addAnimation(l)}if(a&&o){c.duration(e.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var h=(0,r.c)();h.addElement((0,i.g)(a)).onFinish(function(t){1===t&&h.elements.length>0&&h.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(".concat("0px",")"),"translateY(".concat(n,")")).fromTo("opacity",1,0),c.addAnimation(h)}return c})},1558:function(t,e,n){"use strict";n.d(e,{B:function(){return M},a:function(){return d},b:function(){return p},c:function(){return m},d:function(){return x},e:function(){return b},f:function(){return O},g:function(){return D},h:function(){return h},i:function(){return L},l:function(){return v},m:function(){return y},p:function(){return g},s:function(){return Z},t:function(){return _}});var r=n(5121),i=n(6304),o=n(8774),a=n.n(o),s=n(7505),u=n(4641),c=n(1843),l=0,h=new WeakMap,f=function(t){return{create:function(e){return w(t,e)},dismiss:function(e,n,r){return S(document,e,n,t,r)},getTop:function(){return(0,i.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T(document,t));case 1:case"end":return e.stop()}},e)}))()}}},d=f("ion-alert"),p=f("ion-action-sheet"),v=f("ion-loading"),y=f("ion-modal"),g=f("ion-picker"),m=f("ion-popover"),_=f("ion-toast"),b=function(t){"undefined"!=typeof document&&E(document);var e=l++;t.overlayIndex=e,t.hasAttribute("id")||(t.id="ion-overlay-".concat(e))},w=function(t,e){return"undefined"!=typeof customElements?customElements.whenDefined(t).then(function(){var n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,e),R(document).appendChild(n),new Promise(function(t){return(0,c.c)(n,t)})}):Promise.resolve()},k='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',C="input:not([type=hidden]), textarea, button, select",E=function(t){0===l&&(l=1,t.addEventListener("focus",function(e){return function(t,e){var n,r,i,o=T(e),a=t.target;if(o&&a)if(o===a)o.lastFocus=void 0;else{var s=(0,c.g)(o);if(!s.contains(a))return;var u=s.querySelector(".ion-overlay-wrapper");if(!u)return;if(u.contains(a))o.lastFocus=a;else{var l=o.lastFocus;n=o,(i=(r=u.querySelector(k))&&r.shadowRoot)&&(r=i.querySelector(C)||r),r?r.focus():n.focus(),l===e.activeElement&&function(t,e){var n=Array.from(t.querySelectorAll(k)),r=n.length>0?n[n.length-1]:null,i=r&&r.shadowRoot;i&&(r=i.querySelector(C)||r),r?r.focus():e.focus()}(u,o),o.lastFocus=e.activeElement}}}(e,t)},!0),t.addEventListener("ionBackButton",function(e){var n=T(t);n&&n.backdropDismiss&&e.detail.register(u.OVERLAY_BACK_BUTTON_PRIORITY,function(){return n.dismiss(void 0,M)})}),t.addEventListener("keyup",function(e){if("Escape"===e.key){var n=T(t);n&&n.backdropDismiss&&n.dismiss(void 0,M)}}))},S=function(t,e,n,r,i){var o=T(t,r,i);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")},T=function(t,e,n){var r=function(t,e){return void 0===e&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(function(t){return t.overlayIndex>0})}(t,e);return void 0===n?r[r.length-1]:r.find(function(t){return t.id===n})},I=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=R(document),n=e.querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},x=function(){var t=(0,i.Z)(a().mark(function t(e,n,r,i,o){var u,c;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.presented){t.next=2;break}return t.abrupt("return");case 2:return I(!0),e.presented=!0,e.willPresent.emit(),u=(0,s.b)(e),c=e.enterAnimation?e.enterAnimation:s.c.get(n,"ios"===u?r:i),t.next=9,P(e,c,e.el,o);case 9:t.sent&&e.didPresent.emit(),"ION-TOAST"!==e.el.tagName&&A(e.el),e.keyboardClose&&e.el.focus();case 13:case"end":return t.stop()}},t)}));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),A=function(){var t=(0,i.Z)(a().mark(function t(e){var n,r;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.activeElement){t.next=3;break}return t.abrupt("return");case 3:return(r=n&&n.shadowRoot)&&(n=r.querySelector(C)||n),t.next=7,e.onDidDismiss();case 7:n.focus();case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=(0,i.Z)(a().mark(function t(e,n,r,i,o,u,c){var l,f;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.presented){t.next=2;break}return t.abrupt("return",!1);case 2:if(I(!1),e.presented=!1,t.prev=4,e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:n,role:r}),l=(0,s.b)(e),f=e.leaveAnimation?e.leaveAnimation:s.c.get(i,"ios"===l?o:u),"gesture"===r){t.next=12;break}return t.next=12,P(e,f,e.el,c);case 12:e.didDismiss.emit({data:n,role:r}),h.delete(e),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),console.error(t.t0);case 19:return e.el.remove(),t.abrupt("return",!0);case 21:case"end":return t.stop()}},t,null,[[4,16]])}));return function(e,n,r,i,o,a,s){return t.apply(this,arguments)}}(),R=function(t){return t.querySelector("ion-app")||t.body},P=function(){var t=(0,i.Z)(a().mark(function t(e,n,i,o){var u,c;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.classList.remove("overlay-hidden"),u=n(i.shadowRoot||e.el,o),e.animated&&s.c.getBoolean("animated",!0)||u.duration(0),e.keyboardClose&&u.beforeAddWrite(function(){var t=i.ownerDocument.activeElement;t&&t.matches("input, ion-input, ion-textarea")&&t.blur()}),c=h.get(e)||[],h.set(e,[].concat((0,r.Z)(c),[u])),t.next=9,u.play();case 9:return t.abrupt("return",!0);case 10:case"end":return t.stop()}},t)}));return function(e,n,r,i){return t.apply(this,arguments)}}(),D=function(t,e){var n,r=new Promise(function(t){return n=t});return N(t,e,function(t){n(t.detail)}),r},N=function(t,e,n){(0,c.a)(t,e,function r(i){(0,c.b)(t,e,r),n(i)})},L=function(t){return"cancel"===t||t===M},F=function(t){return t()},Z=function(t,e){if("function"==typeof t)return s.c.get("_zoneGate",F)(function(){try{return t(e)}catch(n){console.error(n)}})},M="backdrop"},1858:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.Z}});var r=n(1062),i="8.8.0";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},5579:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(R){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=Object.create((e&&e.prototype instanceof y?e:y).prototype),o=new x(r||[]);return i._invoke=function(t,e,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,o),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function y(){}function g(){}function m(){}var _={};_[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,o)&&(_=w);var k=m.prototype=y.prototype=Object.create(_);function C(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){function n(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(h).then(function(t){c.value=t,a(c)},function(t){return n("throw",t,a,s)})}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e(function(e,i){n(t,r,e,i)})}return i=i?i.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:e,done:!0}}return g.prototype=k.constructor=m,m.constructor=g,g.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},C(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},C(k),u(k,s,"Generator"),k[o]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(n){Function("r","regeneratorRuntime = r")(e)}},8512:function(t,e,n){"use strict";n.d(e,{X:function(){return h}});var r=n(1112),i=n(1998),o=n(1532),a=n(3620),s=n(8784),u=n(4999),c=n(5959),l=n(3895),h=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t){var i;return(0,r.Z)(this,n),(i=e.call(this))._value=t,i}return(0,i.Z)(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=(0,o.Z)((0,a.Z)(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.N;return this._value}},{key:"next",value:function(t){(0,o.Z)((0,a.Z)(n.prototype),"next",this).call(this,this._value=t)}}]),n}(c.xQ)},8318:function(t,e,n){"use strict";n.d(e,{y:function(){return f}});var r=n(1112),i=n(1998),o=n(6673),a=n(5331),s=n(7498),u=n(6197),c=n(3392);function l(t){return 0===t.length?c.y:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}var h=n(1484),f=function(){var t=function(){function t(e){(0,r.Z)(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return(0,i.Z)(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof o.L)return t;if(t[a.b])return t[a.b]()}return t||e||n?new o.L(t,e,n):new o.L(s.c)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||h.v.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),h.v.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){h.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof o.L?e:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=d(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:u.L,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:l(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=d(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}();return t.create=function(e){return new t(e)},t}();function d(t){if(t||(t=h.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(1484),i=n(4294),o={closed:!0,next:function(t){},error:function(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete:function(){}}},9829:function(t,e,n){"use strict";n.d(e,{L:function(){return s}});var r=n(1112),i=n(1998),o=n(8784),a=n(4999),s=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n(6673).L)},5959:function(t,e,n){"use strict";n.d(e,{Yc:function(){return v},xQ:function(){return y}});var r=n(1998),i=n(1532),o=n(3620),a=n(1112),s=n(8784),u=n(4999),c=n(8318),l=n(6673),h=n(7570),f=n(3895),d=n(9291),p=n(5331),v=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t){var r;return(0,a.Z)(this,n),(r=e.call(this,t)).destination=t,r}return n}(l.L),y=function(){var t=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(){var t;return(0,a.Z)(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.Z)(n,[{key:p.b,value:function(){return new v(this)}},{key:"lift",value:function(t){var e=new g(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new f.N;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new f.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new f.N;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new f.N;return(0,i.Z)((0,o.Z)(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new f.N;return this.hasError?(t.error(this.thrownError),h.w.EMPTY):this.isStopped?(t.complete(),h.w.EMPTY):(this.observers.push(t),new d.W(this,t))}},{key:"asObservable",value:function(){var t=new c.y;return t.source=this,t}}]),n}(c.y);return t.create=function(t,e){return new g(t,e)},t}(),g=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t,r){var i;return(0,a.Z)(this,n),(i=e.call(this)).destination=t,i.source=r,i}return(0,r.Z)(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):h.w.EMPTY}}]),n}(y)},9291:function(t,e,n){"use strict";n.d(e,{W:function(){return s}});var r=n(1112),i=n(1998),o=n(8784),a=n(4999),s=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,i){var o;return(0,r.Z)(this,n),(o=e.call(this)).subject=t,o.subscriber=i,o.closed=!1,o}return(0,i.Z)(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n(7570).w)},6673:function(t,e,n){"use strict";n.d(e,{L:function(){return y}});var r=n(1112),i=n(1998),o=n(1357),a=n(1532),s=n(3620),u=n(8784),c=n(4999),l=n(5024),h=n(7498),f=n(7570),d=n(5331),p=n(1484),v=n(4294),y=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,i,a){var s;switch((0,r.Z)(this,n),(s=e.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=h.c;break;case 1:if(!t){s.destination=h.c;break}if("object"==typeof t){t instanceof n?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add((0,o.Z)(s))):(s.syncErrorThrowable=!0,s.destination=new g((0,o.Z)(s),t));break}default:s.syncErrorThrowable=!0,s.destination=new g((0,o.Z)(s),t,i,a)}return s}return(0,i.Z)(n,[{key:d.b,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,(0,a.Z)((0,s.Z)(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(f.w),g=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,i,a,s){var u,c;(0,r.Z)(this,n),(u=e.call(this))._parentSubscriber=t;var f=(0,o.Z)(u);return(0,l.m)(i)?c=i:i&&(c=i.next,a=i.error,s=i.complete,i!==h.c&&(f=Object.create(i),(0,l.m)(f.unsubscribe)&&u.add(f.unsubscribe.bind(f)),f.unsubscribe=u.unsubscribe.bind((0,o.Z)(u)))),u._context=f,u._next=c,u._error=a,u._complete=s,u}return(0,i.Z)(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;p.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=p.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,v.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,v.z)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};p.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),p.v.useDeprecatedSynchronousErrorHandling)throw n;(0,v.z)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!p.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return p.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,v.z)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(y)},7570:function(t,e,n){"use strict";n.d(e,{w:function(){return c}});var r=n(1112),i=n(1998),o=n(8470),a=n(2056),s=n(5024),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=function(){var t,e=function(){function t(e){(0,r.Z)(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return(0,i.Z)(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if((0,s.m)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof u?l(v.errors):[v]}}if((0,o.k)(c))for(var f=-1,d=c.length;++f<d;){var p=c[f];if((0,a.K)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof u?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}();return e.EMPTY=((t=new e).closed=!0,t),e}();function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},1484:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:function(t,e,n){"use strict";n.d(e,{IY:function(){return l},Ds:function(){return h},ft:function(){return f}});var r=n(1112),i=n(1998),o=n(8784),a=n(4999),s=n(6673),u=n(8318),c=n(6015),l=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var i;return(0,r.Z)(this,n),(i=e.call(this)).parent=t,i}return(0,i.Z)(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(s.L),h=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(s.L);function f(t,e){if(!e.closed){if(t instanceof u.y)return t.subscribe(e);var n;try{n=(0,c.s)(t)(e)}catch(r){e.error(r)}return n}}},2875:function(t,e,n){"use strict";n.d(e,{c:function(){return d},N:function(){return p}});var r=n(1532),i=n(3620),o=n(1112),a=n(1998),s=n(8784),u=n(4999),c=n(5959),l=n(8318),h=(n(6673),n(7570)),f=n(1564),d=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t,r){var i;return(0,o.Z)(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return(0,a.Z)(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new h.w).add(this.source.subscribe(new v(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.w.EMPTY)),t}},{key:"refCount",value:function(){return(0,f.x)()(this)}}]),n}(l.y),p=function(){var t=d.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),v=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t,r){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).connectable=r,i}return(0,a.Z)(n,[{key:"_error",value:function(t){this._unsubscribe(),(0,r.Z)((0,i.Z)(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),(0,r.Z)((0,i.Z)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(c.Yc)},7930:function(t,e,n){"use strict";n.d(e,{z:function(){return a}});var r=n(878),i=n(7471);function o(){return(0,i.J)(1)}function a(){return o()(r.of.apply(void 0,arguments))}},653:function(t,e,n){"use strict";n.d(e,{E:function(){return i},c:function(){return o}});var r=n(8318),i=new r.y(function(t){return t.complete()});function o(t){return t?function(t){return new r.y(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},9764:function(t,e,n){"use strict";n.d(e,{D:function(){return h}});var r=n(8318),i=n(6015),o=n(7570),a=n(6197),s=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.L]}(t))return function(t,e){return new r.y(function(n){var r=new o.w;return r.add(e.schedule(function(){var i=t[a.L]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(function(n){var r=new o.w;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if((0,l.z)(t))return(0,s.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(function(n){var r,i=new o.w;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.hZ](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:function(t,e,n){"use strict";n.d(e,{n:function(){return a}});var r=n(8318),i=n(625),o=n(2570);function a(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},7254:function(t,e,n){"use strict";n.d(e,{R:function(){return u}});var r=n(5121),i=n(8318),o=n(8470),a=n(5024),s=n(9996);function u(t,e,n,l){return(0,a.m)(n)&&(l=n,n=void 0),l?u(t,e,n).pipe((0,s.U)(function(t){return(0,o.k)(t)?l.apply(void 0,(0,r.Z)(t)):l(t)})):new i.y(function(r){c(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function c(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,h=t.length;l<h;l++)c(t[l],e,n,r,i)}r.add(o)}},1906:function(t,e,n){"use strict";n.d(e,{T:function(){return s}});var r=n(8318),i=n(6163),o=n(7471),a=n(9342);function s(){for(var t=Number.POSITIVE_INFINITY,e=null,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];var c=s[s.length-1];return(0,i.K)(c)?(e=s.pop(),s.length>1&&"number"==typeof s[s.length-1]&&(t=s.pop())):"number"==typeof c&&(t=s.pop()),null===e&&1===s.length&&s[0]instanceof r.y?s[0]:(0,o.J)(t)((0,a.n)(s,e))}},878:function(t,e,n){"use strict";n.d(e,{of:function(){return a}});var r=n(6163),i=n(9342),o=n(2570);function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return(0,r.K)(a)?(e.pop(),(0,o.r)(e,a)):(0,i.n)(e)}},436:function(t,e,n){"use strict";n.d(e,{b:function(){return i}});var r=n(3982);function i(t,e){return(0,r.zg)(t,e,1)}},7768:function(t,e,n){"use strict";n.d(e,{d:function(){return u}});var r=n(8784),i=n(4999),o=n(1112),a=n(1998),s=n(6673);function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new c(t))}}var c=function(){function t(e){(0,o.Z)(this,t),this.defaultValue=e}return(0,a.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.defaultValue))}}]),t}(),l=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return(0,a.Z)(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(s.L)},8720:function(t,e,n){"use strict";n.d(e,{x:function(){return u}});var r=n(8784),i=n(4999),o=n(1112),a=n(1998),s=n(6673);function u(t,e){return function(n){return n.lift(new c(t,e))}}var c=function(){function t(e,n){(0,o.Z)(this,t),this.compare=e,this.keySelector=n}return(0,a.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.compare,this.keySelector))}}]),t}(),l=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r,i){var a;return(0,o.Z)(this,n),(a=e.call(this,t)).keySelector=i,a.hasKey=!1,"function"==typeof r&&(a.compare=r),a}return(0,a.Z)(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(s.L)},3835:function(t,e,n){"use strict";n.d(e,{h:function(){return u}});var r=n(8784),i=n(4999),o=n(1112),a=n(1998),s=n(6673);function u(t,e){return function(n){return n.lift(new c(t,e))}}var c=function(){function t(e,n){(0,o.Z)(this,t),this.predicate=e,this.thisArg=n}return(0,a.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.predicate,this.thisArg))}}]),t}(),l=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r,i){var a;return(0,o.Z)(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.count=0,a}return(0,a.Z)(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(s.L)},3530:function(t,e,n){"use strict";n.d(e,{P:function(){return c}});var r=n(9665),i=n(3835),o=n(611),a=n(7768),s=n(790),u=n(3392);function c(t,e){var n=arguments.length>=2;return function(c){return c.pipe(t?(0,i.h)(function(e,n){return t(e,n,c)}):u.y,(0,o.q)(1),n?(0,a.d)(e):(0,s.T)(function(){return new r.K}))}}},9996:function(t,e,n){"use strict";n.d(e,{U:function(){return c}});var r=n(1357),i=n(8784),o=n(4999),a=n(1112),s=n(1998),u=n(6673);function c(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new l(t,e))}}var l=function(){function t(e,n){(0,a.Z)(this,t),this.project=e,this.thisArg=n}return(0,s.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.project,this.thisArg))}}]),t}(),h=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(t,i,o){var s;return(0,a.Z)(this,n),(s=e.call(this,t)).project=i,s.count=0,s.thisArg=o||(0,r.Z)(s),s}return(0,s.Z)(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(u.L)},7471:function(t,e,n){"use strict";n.d(e,{J:function(){return o}});var r=n(3982),i=n(3392);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return(0,r.zg)(i.y,t)}},3982:function(t,e,n){"use strict";n.d(e,{zg:function(){return l}});var r=n(8784),i=n(4999),o=n(1112),a=n(1998),s=n(9996),u=n(9764),c=n(6882);function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(l(function(n,r){return(0,u.D)(t(n,r)).pipe((0,s.U)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new h(t,n))})}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;(0,o.Z)(this,t),this.project=e,this.concurrent=n}return(0,a.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.project,this.concurrent))}}]),t}(),f=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return(0,o.Z)(this,n),(i=e.call(this,t)).project=r,i.concurrent=a,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return(0,a.Z)(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new c.IY(this),n=this.destination;n.add(e);var r=(0,c.ft)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(c.Ds)},9098:function(t,e,n){"use strict";n.d(e,{ht:function(){return p},QV:function(){return f}});var r=n(8784),i=n(4999),o=n(1112),a=n(1998),s=n(6673),u=n(653),c=n(878),l=n(8318),h=function(){var t=function(){function t(e,n,r){(0,o.Z)(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return(0,a.Z)(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){var t;switch(this.kind){case"N":return(0,c.of)(this.value);case"E":return t=this.error,new l.y(function(e){return e.error(t)});case"C":return(0,u.c)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new d(t,e))}}var d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,o.Z)(this,t),this.scheduler=e,this.delay=n}return(0,a.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.scheduler,this.delay))}}]),t}(),p=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,o.Z)(this,n),(i=e.call(this,t)).scheduler=r,i.delay=a,i}return(0,a.Z)(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new v(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(h.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(h.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(h.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){t.notification.observe(t.destination),this.unsubscribe()}}]),n}(s.L),v=function t(e,n){(0,o.Z)(this,t),this.notification=e,this.destination=n}},1564:function(t,e,n){"use strict";n.d(e,{x:function(){return u}});var r=n(8784),i=n(4999),o=n(1112),a=n(1998),s=n(6673);function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(e){(0,o.Z)(this,t),this.connectable=e}return(0,a.Z)(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),l=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).connectable=r,i}return(0,a.Z)(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.L)},2023:function(t,e,n){"use strict";n.d(e,{R:function(){return u}});var r=n(8784),i=n(4999),o=n(1112),a=n(1998),s=n(6673);function u(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new c(t,e,n))}}var c=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,o.Z)(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return(0,a.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),l=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r,i,a){var s;return(0,o.Z)(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=a,s.index=0,s}return(0,a.Z)(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(s.L)},1055:function(t,e,n){"use strict";n.d(e,{B:function(){return s}}),n(1112),n(1998);var r=n(2875),i=n(1564),o=n(5959);function a(){return new o.xQ}function s(){return function(t){return(0,i.x)()((e=a,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},6238:function(t,e,n){"use strict";n.d(e,{O:function(){return o}});var r=n(7930),i=n(6163);function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e[e.length-1];return(0,i.K)(o)?(e.pop(),function(t){return(0,r.z)(e,t,o)}):function(t){return(0,r.z)(e,t)}}},4187:function(t,e,n){"use strict";n.d(e,{R:function(){return w}});var r=n(1112),i=n(1998),o=n(8784),a=n(4999),s=n(8318),u=n(1532),c=n(3620),l=1,h=function(){return Promise.resolve()}(),f={};function d(t){return t in f&&(delete f[t],!0)}var p=function(t){var e=l++;return f[e]=!0,h.then(function(){return d(e)&&t()}),e},v=function(t){d(t)},y=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,i){var o;return(0,r.Z)(this,n),(o=e.call(this,t,i)).scheduler=t,o.work=i,o}return(0,i.Z)(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?(0,u.Z)((0,c.Z)(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=p(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return(0,u.Z)((0,c.Z)(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(v(e),t.scheduled=void 0)}}]),n}(n(8277).o),g=new(function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n(1098).v))(y),m=n(8470);function _(t){return!(0,m.k)(t)&&t-parseFloat(t)+1>=0}var b=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return(0,r.Z)(this,n),(i=e.call(this)).source=t,i.delayTime=o,i.scheduler=a,(!_(o)||o<0)&&(i.delayTime=0),a&&"function"==typeof a.schedule||(i.scheduler=g),i}return(0,i.Z)(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return new n(t,e,r)}},{key:"dispatch",value:function(t){return this.add(t.source.subscribe(t.subscriber))}}]),n}(s.y);function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new k(t,e))}}var k=function(){function t(e,n){(0,r.Z)(this,t),this.scheduler=e,this.delay=n}return(0,i.Z)(t,[{key:"call",value:function(t,e){return new b(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},4689:function(t,e,n){"use strict";n.d(e,{w:function(){return f}});var r=n(1532),i=n(3620),o=n(8784),a=n(4999),s=n(1112),u=n(1998),c=n(9996),l=n(9764),h=n(6882);function f(t,e){return"function"==typeof e?function(n){return n.pipe(f(function(n,r){return(0,l.D)(t(n,r)).pipe((0,c.U)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new d(t))}}var d=function(){function t(e){(0,s.Z)(this,t),this.project=e}return(0,u.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.project))}}]),t}(),p=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,r){var i;return(0,s.Z)(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return(0,u.Z)(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new h.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,h.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||(0,r.Z)((0,i.Z)(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&(0,r.Z)((0,i.Z)(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(h.Ds)},611:function(t,e,n){"use strict";n.d(e,{q:function(){return l}});var r=n(8784),i=n(4999),o=n(1112),a=n(1998),s=n(6673),u=n(8402),c=n(653);function l(t){return function(e){return 0===t?(0,c.c)():e.lift(new h(t))}}var h=function(){function t(e){if((0,o.Z)(this,t),this.total=e,this.total<0)throw new u.W}return(0,a.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.total))}}]),t}(),f=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return(0,a.Z)(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(s.L)},6599:function(t,e,n){"use strict";n.d(e,{b:function(){return h}});var r=n(1357),i=n(8784),o=n(4999),a=n(1112),s=n(1998),u=n(6673);function c(){}var l=n(5024);function h(t,e,n){return function(r){return r.lift(new f(t,e,n))}}var f=function(){function t(e,n,r){(0,a.Z)(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return(0,s.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),d=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(t,i,o,s){var u;return(0,a.Z)(this,n),(u=e.call(this,t))._tapNext=c,u._tapError=c,u._tapComplete=c,u._tapError=o||c,u._tapComplete=s||c,(0,l.m)(i)?(u._context=(0,r.Z)(u),u._tapNext=i):i&&(u._context=i,u._tapNext=i.next||c,u._tapError=i.error||c,u._tapComplete=i.complete||c),u}return(0,s.Z)(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(u.L)},790:function(t,e,n){"use strict";n.d(e,{T:function(){return c}});var r=n(8784),i=n(4999),o=n(1112),a=n(1998),s=n(9665),u=n(6673);function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return function(e){return e.lift(new l(t))}}var l=function(){function t(e){(0,o.Z)(this,t),this.errorFactory=e}return(0,a.Z)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.errorFactory))}}]),t}(),h=function(t){(0,r.Z)(n,t);var e=(0,i.Z)(n);function n(t,r){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return(0,a.Z)(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(u.L);function f(){return new s.K}},2570:function(t,e,n){"use strict";n.d(e,{r:function(){return o}});var r=n(8318),i=n(7570);function o(t,e){return new r.y(function(n){var r=new i.w,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:function(t,e,n){"use strict";n.d(e,{o:function(){return s}});var r=n(1112),i=n(1998),o=n(8784),a=n(4999),s=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,i){var o;return(0,r.Z)(this,n),(o=e.call(this,t,i)).scheduler=t,o.work=i,o.pending=!1,o}return(0,i.Z)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,i){return(0,r.Z)(this,n),e.call(this)}return(0,i.Z)(n,[{key:"schedule",value:function(t){return this}}]),n}(n(7570).w))},1098:function(t,e,n){"use strict";n.d(e,{v:function(){return h}});var r=n(1112),i=n(1998),o=n(1357),a=n(1532),s=n(3620),u=n(8784),c=n(4999),l=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;(0,r.Z)(this,t),this.SchedulerAction=e,this.now=n}return(0,i.Z)(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),h=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.now;return(0,r.Z)(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==(0,o.Z)(i)?n.delegate.now():a()})).actions=[],i.active=!1,i.scheduled=void 0,i}return(0,i.Z)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):(0,a.Z)((0,s.Z)(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(l)},8569:function(t,e,n){"use strict";n.d(e,{z:function(){return i},P:function(){return o}});var r=n(8277),i=new(n(1098).v)(r.o),o=i},8489:function(t,e,n){"use strict";n.d(e,{c:function(){return h},N:function(){return l}});var r=n(1112),i=n(1998),o=n(1532),a=n(3620),s=n(8784),u=n(4999),c=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t,i){var o;return(0,r.Z)(this,n),(o=e.call(this,t,i)).scheduler=t,o.work=i,o}return(0,i.Z)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?(0,o.Z)((0,a.Z)(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?(0,o.Z)((0,a.Z)(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?(0,o.Z)((0,a.Z)(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n(8277).o),l=new(function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return n}(n(1098).v))(c),h=l},5686:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:function(){return i}});var i=r()},6197:function(t,e,n){"use strict";n.d(e,{L:function(){return r}});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},5331:function(t,e,n){"use strict";n.d(e,{b:function(){return r}});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},8402:function(t,e,n){"use strict";n.d(e,{W:function(){return r}});var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},9665:function(t,e,n){"use strict";n.d(e,{K:function(){return r}});var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},3895:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},4294:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,{z:function(){return r}})},3392:function(t,e,n){"use strict";function r(t){return t}n.d(e,{y:function(){return r}})},8470:function(t,e,n){"use strict";n.d(e,{k:function(){return r}});var r=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},9653:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},5024:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,{m:function(){return r}})},2056:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:function(){return r}})},5168:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:function(){return r}})},6163:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:function(){return r}})},6015:function(t,e,n){"use strict";n.d(e,{s:function(){return l}});var r=n(625),i=n(4294),o=n(5686),a=n(6197),s=n(9653),u=n(5168),c=n(2056),l=function(t){if(t&&"function"==typeof t[a.L])return l=t,function(t){var e=l[a.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,s.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.z),t};if(t&&"function"==typeof t[o.hZ])return e=t,function(t){for(var n=e[o.hZ]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,h=(0,c.K)(t)?"an invalid object":"'".concat(t,"'"),f="You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(f)}},625:function(t,e,n){"use strict";n.d(e,{V:function(){return r}});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},7e3:function(t,e,n){"use strict";n.d(e,{D:function(){return l}});var r=n(1112),i=n(1998),o=n(8784),a=n(4999),s=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(t,i,o){var a;return(0,r.Z)(this,n),(a=e.call(this)).parent=t,a.outerValue=i,a.outerIndex=o,a.index=0,a}return(0,i.Z)(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n(6673).L),u=n(6015),c=n(8318);function l(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new s(t,n,r);if(!i.closed)return e instanceof c.y?e.subscribe(i):(0,u.s)(e)(i)}},4519:function(t,e,n){"use strict";n.d(e,{D:function(){return i}});var r=n(5366),i=function(){function t(){this.data=[]}return t.prototype.setData=function(t,e){this.data[t]=e},t.prototype.getData=function(t){return this.data[t]},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}()},239:function(t,e,n){"use strict";n.d(e,{B:function(){return s}});var r=n(3530),i=n(5366),o=n(7617),a=n(80),s=function(){function t(t,e){this.firestore=t,this.afSG=e,this.ref="Plantes",this.planteList=this.firestore.collection("Plantes")}return t.prototype.getListPlantes=function(){return this.planteList.valueChanges()},t.prototype.getPlanteList=function(){return this.planteList.valueChanges().pipe((0,r.P)()).toPromise()},t.prototype.postPlanteList=function(t){return this.planteList.add(t)},t.prototype.getDetailPlante=function(t){return this.planteList.doc("/"+t).valueChanges().pipe((0,r.P)()).toPromise()},t.prototype.deletePlante=function(t){return this.planteList.doc("/"+t).delete()},t.prototype.updatePlante=function(t,e,n){this.planteList.doc("/"+t).update(n)},t.\u0275fac=function(e){return new(e||t)(i.LFG(o.ST),i.LFG(a.Q1))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},4574:function(t,e,n){"use strict";var r,i=n(1532),o=n(3620),a=n(1998),s=n(1112),u=n(8784),c=n(4999),l=n(1116),h=n(5366),f=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(){return(0,s.Z)(this,n),e.apply(this,arguments)}return(0,a.Z)(n,[{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){t.parentNode&&t.parentNode.removeChild(t)}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getBaseHref",value:function(t){var e=(d=d||document.querySelector("base"))?d.getAttribute("href"):null;return null==e?null:function(t){(r=r||document.createElement("a")).setAttribute("href",t);var e=r.pathname;return"/"===e.charAt(0)?e:"/".concat(e)}(e)}},{key:"resetBaseElement",value:function(){d=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(t){return(0,l.Mx)(document.cookie,t)}}],[{key:"makeCurrent",value:function(){(0,l.HT)(new n)}}]),n}(function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(){var t;return(0,s.Z)(this,n),(t=e.apply(this,arguments)).supportsDOMEvents=!0,t}return n}(l.w_)),d=null,p=new h.OlP("TRANSITION_ID"),v=[{provide:h.ip1,useFactory:function(t,e,n){return function(){n.get(h.CZH).donePromise.then(function(){var n=(0,l.q)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[p,l.K0,h.zs3],multi:!0}],y=function(){function t(){(0,s.Z)(this,t)}return(0,a.Z)(t,[{key:"addToWindow",value:function(t){h.dqk.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},h.dqk.getAllAngularTestabilities=function(){return t.getAllTestabilities()},h.dqk.getAllAngularRootElements=function(){return t.getAllRootElements()},h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(function(t){var e=h.dqk.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?(0,l.q)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){(0,h.VLi)(new t)}}]),t}(),g=function(){var t=function(){function t(){(0,s.Z)(this,t)}return(0,a.Z)(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),t}(),m=new h.OlP("EventManagerPlugins"),_=function(){var t=function(){function t(e,n){var r=this;(0,s.Z)(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return(0,a.Z)(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.LFG(m),h.LFG(h.R0b))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),t}(),b=function(){function t(e){(0,s.Z)(this,t),this._doc=e}return(0,a.Z)(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=(0,l.q)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),w=function(){var t=function(){function t(){(0,s.Z)(this,t),this._stylesSet=new Set}return(0,a.Z)(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),t}(),k=function(){var t=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t){var r;return(0,s.Z)(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Map,r._hostNodes.set(t.head,[]),r}return(0,a.Z)(n,[{key:"_addStylesToHost",value:function(t,e,n){var r=this;t.forEach(function(t){var i=r._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}},{key:"addHost",value:function(t){var e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}},{key:"removeHost",value:function(t){var e=this._hostNodes.get(t);e&&e.forEach(C),this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n,r){e._addStylesToHost(t,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(t){return t.forEach(C)})}}]),n}(w);return t.\u0275fac=function(e){return new(e||t)(h.LFG(l.K0))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),t}();function C(t){(0,l.q)().remove(t)}var E={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},S=/%COMP%/g,T="%COMP%",I="_nghost-".concat(T),x="_ngcontent-".concat(T);function A(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?A(t,i,n):(i=i.replace(S,t),n.push(i))}return n}function O(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var R=function(){var t=function(){function t(e,n,r){(0,s.Z)(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new P(e)}return(0,a.Z)(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case h.ifc.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new D(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case h.ifc.ShadowDom:return new N(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=A(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.LFG(_),h.LFG(k),h.LFG(h.AFp))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),t}(),P=function(){function t(e){(0,s.Z)(this,t),this.eventManager=e,this.data=Object.create(null)}return(0,a.Z)(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(E[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=E[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=E[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(h.JOm.DashCase|h.JOm.Important)?t.style.setProperty(e,n,r&h.JOm.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&h.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,O(n)):this.eventManager.addEventListener(t,e,O(n))}}]),t}(),D=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i,o){var a;(0,s.Z)(this,n),(a=e.call(this,t)).component=i;var u=A(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr=x.replace(S,o+"-"+i.id),a.hostAttr=I.replace(S,o+"-"+i.id),a}return(0,a.Z)(n,[{key:"applyToHost",value:function(t){(0,i.Z)((0,o.Z)(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=(0,i.Z)((0,o.Z)(n.prototype),"createElement",this).call(this,t,e);return(0,i.Z)((0,o.Z)(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(P),N=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i,o){var a;(0,s.Z)(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var u=A(o.id,o.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],a.shadowRoot.appendChild(l)}return a}return(0,a.Z)(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return(0,i.Z)((0,o.Z)(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return(0,i.Z)((0,o.Z)(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return(0,i.Z)((0,o.Z)(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot((0,i.Z)((0,o.Z)(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(P),L=function(){var t=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t){return(0,s.Z)(this,n),e.call(this,t)}return(0,a.Z)(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(b);return t.\u0275fac=function(e){return new(e||t)(h.LFG(l.K0))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),t}(),F=["alt","control","meta","shift"],Z={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},j={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},U=function(){var t=function(t){(0,u.Z)(n,t);var e=(0,c.Z)(n);function n(t){return(0,s.Z)(this,n),e.call(this,t)}return(0,a.Z)(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return(0,l.q)().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(F.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&M.hasOwnProperty(e)&&(e=M[e]))}return Z[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),F.forEach(function(r){r!=n&&(0,j[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(b);return t.\u0275fac=function(e){return new(e||t)(h.LFG(l.K0))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),t}(),V=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:l.bD},{provide:h.g9A,useValue:function(){f.makeCurrent(),y.init()},multi:!0},{provide:l.K0,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),q=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:m,useClass:L,multi:!0,deps:[l.K0,h.R0b,h.Lbi]},{provide:m,useClass:U,multi:!0,deps:[l.K0]},[],{provide:R,useClass:R,deps:[_,k,h.AFp]},{provide:h.FYo,useExisting:R},{provide:w,useExisting:k},{provide:k,useClass:k,deps:[l.K0]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:_,useClass:_,deps:[m,h.R0b]},{provide:l.JF,useClass:g,deps:[]},[]],B=function(){var t=function(){function t(e){if((0,s.Z)(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return(0,a.Z)(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:h.AFp,useValue:e.appId},{provide:p,useExisting:h.AFp},v]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.LFG(t,12))},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:q,imports:[l.ez,h.hGG]}),t}();"undefined"!=typeof window&&window;var $=n(2693),G=n(4812),z=n(4519),H=n(9272);function Y(t,e){if(1&t&&(h.TgZ(0,"ion-menu-toggle",6),h.TgZ(1,"ion-item",7),h._UZ(2,"ion-icon",8),h.TgZ(3,"ion-label"),h._uU(4),h.qZA(),h.qZA(),h.qZA()),2&t){var n=e.$implicit;h.xp6(1),h.Q6J("routerLink",n.url),h.xp6(1),h.Q6J("name",n.icon),h.xp6(2),h.Oqu(n.title)}}function W(t,e){1&t&&h._UZ(0,"ion-icon",14)}function K(t,e){1&t&&h._UZ(0,"ion-icon",15)}function Q(t,e){if(1&t){var n=h.EpF();h.TgZ(0,"ion-item",11),h.NdJ("click",function(){h.CHM(n);var t=h.oxw().$implicit;return t.open=!t.open}),h.YNc(1,W,1,0,"ion-icon",12),h.YNc(2,K,1,0,"ion-icon",13),h.TgZ(3,"ion-label"),h._uU(4),h.qZA(),h.qZA()}if(2&t){var r=h.oxw().$implicit;h.ekj("active-parent",r.open),h.xp6(1),h.Q6J("ngIf",!r.open),h.xp6(1),h.Q6J("ngIf",r.open),h.xp6(2),h.Oqu(r.title)}}function J(t,e){if(1&t){var n=h.EpF();h.TgZ(0,"ion-item",17),h.NdJ("click",function(){var t=h.CHM(n).$implicit;return h.oxw(4).page(t.data,t.url)}),h._UZ(1,"ion-icon",18),h.TgZ(2,"ion-label"),h._uU(3),h.qZA(),h.qZA()}if(2&t){var r=e.$implicit;h.xp6(3),h.Oqu(r.title)}}function X(t,e){if(1&t&&(h.TgZ(0,"ion-menu-toggle"),h.YNc(1,J,4,1,"ion-item",16),h.qZA()),2&t){var n=h.oxw(2).$implicit;h.xp6(1),h.Q6J("ngForOf",n.children)}}function tt(t,e){if(1&t&&(h.TgZ(0,"ion-list"),h.YNc(1,X,2,1,"ion-menu-toggle",10),h.qZA()),2&t){var n=h.oxw().$implicit;h.xp6(1),h.Q6J("ngIf",n.open)}}function et(t,e){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,Q,5,5,"ion-item",9),h.YNc(2,tt,2,1,"ion-list",10),h.qZA()),2&t){var n=e.$implicit;h.xp6(1),h.Q6J("ngIf",(null==n.children?null:n.children.length)>0),h.xp6(1),h.Q6J("ngIf",n.open)}}var nt=function(){function t(t,e){this.dataService=t,this.router=e,this.selectedIndex=0,this.appPages=[{title:"accueil",url:"./accueil",icon:"home"},{title:"Gestion de commandes",url:"./gestion-commandes",icon:"settings-outline"},{title:"Gestion de clients",url:"./getion-de-clients",icon:"settings-outline"},{title:"Gestion de Vari\xe9t\xe9s",url:"./ajouter-varieter",icon:"settings-outline"},{title:"Ajouter une plante",url:"./ajouter-fleur",icon:"add-circle-outline"}],this.labels=[{title:"Fleurs",open:!1,children:[{title:"Annuelles",data:"Annuelles",url:"/fleurs"},{title:"Bisannuelles",data:"Bisannuelles",url:"/fleurs"},{title:"Vivaces",data:"Vivaces",url:"/fleurs"},{title:"Aromatiques",data:"Vivaces",url:"/fleurs"}]},{title:"Fruits",children:[{title:"Ete",data:"Ete",url:"/fruits"},{title:"Hiver",data:"hiver",url:"/fruits"}]},{title:"L\xe9gumes",children:[{title:"Ete",data:"Ete",url:"/legumes"},{title:"Hiver",data:"hiver",url:"/legumes"}]}]}return t.prototype.ngOnInit=function(){},t.prototype.page=function(t,e){console.log(e),this.dataService.setData("data",t),this.router.navigateByUrl(e)},t.\u0275fac=function(e){return new(e||t)(h.Y36(z.D),h.Y36(H.F0))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-root"]],decls:14,vars:2,consts:[["when","lx","contentId","main-content"],["contentId","main-content","type","overlay"],["id","inbox-list"],["auto-hide","false",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["id","main-content"],["auto-hide","false"],["routerDirection","root","routerLinkActive","active",3,"routerLink"],["slot","start",3,"name"],["button","","detail","false",3,"active-parent","click",4,"ngIf"],[4,"ngIf"],["button","","detail","false",3,"click"],["name","arrow-forward","slot","start",4,"ngIf"],["name","arrow-down","slot","start",4,"ngIf"],["name","arrow-forward","slot","start"],["name","arrow-down","slot","start"],["class","sub-item","routerDirection","root","routerLinkActive","active",3,"click",4,"ngFor","ngForOf"],["routerDirection","root","routerLinkActive","active",1,"sub-item",3,"click"],["slot","start"]],template:function(t,e){1&t&&(h.TgZ(0,"ion-app"),h.TgZ(1,"ion-split-pane",0),h.TgZ(2,"ion-menu",1),h.TgZ(3,"ion-content"),h.TgZ(4,"ion-list",2),h.TgZ(5,"ion-list-header"),h._uU(6,"Menu"),h.qZA(),h.TgZ(7,"ion-header"),h._uU(8,"Gestion des clients et des plantes:"),h.qZA(),h.YNc(9,Y,5,3,"ion-menu-toggle",3),h.qZA(),h.TgZ(10,"ion-header"),h._uU(11,"Selection des Plantes: "),h.qZA(),h.YNc(12,et,3,2,"div",4),h.qZA(),h.qZA(),h._UZ(13,"ion-router-outlet",5),h.qZA(),h.qZA()),2&t&&(h.xp6(9),h.Q6J("ngForOf",e.appPages),h.xp6(3),h.Q6J("ngForOf",e.labels))},directives:[G.dr,G.jI,G.z0,G.W2,G.q_,G.yh,G.Gu,l.sg,G.jP,G.zc,G.Ie,H.Od,G.YI,H.rH,G.gu,G.Q$,l.O5],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:var(--ion-item-background,var(--ion-background-color,#fff))}ion-content[_ngcontent-%COMP%]{--ion-background-color:linear-gradient(#3366a0,#9eb7d2)}div[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]{--ion-background-color:#0000!important}ion-header[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em;color:#fff}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start:8px;--padding-end:8px;--padding-top:20px;--padding-bottom:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0;color:#fff}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px;color:#fff}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{color:#fff;padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#fff;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#fffbfb;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start:10px;--padding-end:10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background:rgba(var(--ion-color-primary-rgb),0.14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500;color:#fff}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start:16px;--padding-end:16px;--min-height:50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color:var(--ion-color-primary)}"]}),t}(),rt=[{path:"",redirectTo:"accueil",pathMatch:"full"},{path:"accueil",loadChildren:function(){return n.e(5497).then(n.bind(n,5497)).then(function(t){return t.AccueilPageModule})}},{path:"fleurs",loadChildren:function(){return Promise.all([n.e(9960),n.e(7164)]).then(n.bind(n,7164)).then(function(t){return t.FleursPageModule})}},{path:"fruits",loadChildren:function(){return Promise.all([n.e(9960),n.e(5257)]).then(n.bind(n,5257)).then(function(t){return t.FruitsPageModule})}},{path:"legumes",loadChildren:function(){return Promise.all([n.e(9960),n.e(9237)]).then(n.bind(n,9237)).then(function(t){return t.LegumesPageModule})}},{path:"ajouter-fleur",loadChildren:function(){return n.e(1922).then(n.bind(n,1922)).then(function(t){return t.AjouterFleurPageModule})}},{path:"ajouter-varieter",loadChildren:function(){return n.e(1753).then(n.bind(n,1753)).then(function(t){return t.AjouterVarieterPageModule})}},{path:"details",loadChildren:function(){return n.e(9976).then(n.bind(n,9976)).then(function(t){return t.DetailsPageModule})}},{path:"modal",loadChildren:function(){return Promise.all([n.e(9960),n.e(6899)]).then(n.bind(n,6899)).then(function(t){return t.ModalPageModule})}},{path:"gestion-commandes",loadChildren:function(){return n.e(5224).then(n.bind(n,5224)).then(function(t){return t.GestionCommandesPageModule})}},{path:"getion-de-clients",loadChildren:function(){return n.e(7611).then(n.bind(n,7611)).then(function(t){return t.GetionDeClientsPageModule})}},{path:"details-commande",loadChildren:function(){return n.e(829).then(n.bind(n,829)).then(function(t){return t.DetailsCommandePageModule})}},{path:"details-client",loadChildren:function(){return n.e(5350).then(n.bind(n,5350)).then(function(t){return t.DetailsClientPageModule})}}],it=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[H.Bz.forRoot(rt,{preloadingStrategy:H.wm})],H.Bz]}),t}(),ot=n(1462),at=n(2346),st=n(5540),ut=n(5912),ct=n(80),lt=n(7617),ht=n(239),ft=n(1585),dt=n(6986),pt=n(7919),vt=n.n(pt),yt=n(39),gt=n.n(yt);(0,l.qS)(vt(),"fr-FR",gt());var mt={apiKey:"AIzaSyC6M9FeUa5BavwZorenCX_dq6mPFLJvH4Y",authDomain:"serres-sangatte.firebaseapp.com",databaseURL:"https://serres-sangatte-default-rtdb.europe-west1.firebasedatabase.app",projectId:"serres-sangatte",storageBucket:"serres-sangatte.appspot.com",messagingSenderId:"844932799354",appId:"1:844932799354:web:f468a96ec971f9357a94c3",measurementId:"G-8LZGJY7CX3"},_t=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t,bootstrap:[nt]}),t.\u0275inj=h.cJS({providers:[{useValue:"fr-FR",provide:h.soG,useClass:G.r4},l.uU,ht.B,ft.V1,dt.d],imports:[[at.hO.initializeApp(mt),lt.yb,st.JS,ut.ww,ct.TE,B,G.Pc.forRoot(),it,ot.UX,ot.u5,$.JF]]}),t}();(0,h.G48)(),V().bootstrapModule(_t).catch(function(t){return console.log(t)})},863:function(t,e,n){var r={"./ion-action-sheet.entry.js":[2756,8592,2756],"./ion-alert.entry.js":[4558,8592,4558],"./ion-app_8.entry.js":[6503,8592,6503],"./ion-avatar_3.entry.js":[608,8592,608],"./ion-back-button.entry.js":[1229,8592,1229],"./ion-backdrop.entry.js":[9561,9561],"./ion-button_2.entry.js":[8013,8592,8013],"./ion-card_5.entry.js":[7355,8592,7355],"./ion-checkbox.entry.js":[8377,8592,8377],"./ion-chip.entry.js":[2899,8592,2899],"./ion-col_3.entry.js":[9690,9690],"./ion-datetime_3.entry.js":[648,8592,648],"./ion-fab_3.entry.js":[5102,8592,5102],"./ion-img.entry.js":[4054,4054],"./ion-infinite-scroll_2.entry.js":[5269,8592,5269],"./ion-input.entry.js":[845,8592,845],"./ion-item-option_3.entry.js":[7438,8592,7438],"./ion-item_8.entry.js":[497,8592,497],"./ion-loading.entry.js":[7701,8592,7701],"./ion-menu_3.entry.js":[2441,8592,2441],"./ion-modal.entry.js":[9238,8592,9238],"./ion-nav_2.entry.js":[5798,8592,5798],"./ion-popover.entry.js":[8082,8592,8082],"./ion-progress-bar.entry.js":[1864,8592,1864],"./ion-radio_2.entry.js":[202,8592,202],"./ion-range.entry.js":[1988,8592,1988],"./ion-refresher_2.entry.js":[5643,8592,5643],"./ion-reorder_2.entry.js":[4473,8592,4473],"./ion-ripple-effect.entry.js":[8588,8588],"./ion-route_4.entry.js":[2981,8592,2981],"./ion-searchbar.entry.js":[6726,8592,6726],"./ion-segment_2.entry.js":[134,8592,134],"./ion-select_3.entry.js":[8955,8592,8955],"./ion-slide_2.entry.js":[966,966],"./ion-spinner.entry.js":[5737,8592,5737],"./ion-split-pane.entry.js":[1761,1761],"./ion-tab-bar_2.entry.js":[2099,8592,2099],"./ion-tab_2.entry.js":[5670,8592,5670],"./ion-text.entry.js":[9605,8592,9605],"./ion-textarea.entry.js":[7809,8592,7809],"./ion-toast.entry.js":[7132,8592,7132],"./ion-toggle.entry.js":[4468,8592,4468],"./ion-virtual-scroll.entry.js":[172,172]};function i(t){if(!n.o(r,t))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then(function(){return n(i)})}i.keys=function(){return Object.keys(r)},i.id=863,t.exports=i},9536:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},6965:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,{Z:function(){return r}})},1357:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return r}})},6304:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)})}}n.d(e,{Z:function(){return i}})},1112:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},7159:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(7145),i=n(7365);function o(t,e,n){return(o=(0,i.Z)()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&(0,r.Z)(o,n.prototype),o}).apply(null,arguments)}},1998:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,{Z:function(){return i}})},2454:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(2931);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(0,r.Z)(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},4999:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(3620),i=n(7365),o=n(2048);function a(t){var e=(0,i.Z)();return function(){var n,i=(0,r.Z)(t);if(e){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}},5587:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},1532:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(3620);function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,r.Z)(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}},3620:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,{Z:function(){return r}})},8784:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(7145);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(0,r.Z)(t,e)}},7365:function(t,e,n){"use strict";function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}n.d(e,{Z:function(){return r}})},4414:function(t,e,n){"use strict";function r(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n.d(e,{Z:function(){return r}})},6874:function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,{Z:function(){return r}})},2048:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return o}});var i=n(1357);function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?(0,i.Z)(t):e}},7145:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,{Z:function(){return r}})},4568:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(6965),i=n(2931),o=n(6874);function a(t,e){return(0,r.Z)(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||(0,i.Z)(t,e)||(0,o.Z)()}},160:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(6965),i=n(4414),o=n(2931),a=n(6874);function s(t){return(0,r.Z)(t)||(0,i.Z)(t)||(0,o.Z)(t)||(0,a.Z)()}},5121:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(9536),i=n(4414),o=n(2931);function a(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||(0,i.Z)(t)||(0,o.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2931:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(9536);function i(t,e){if(t){if("string"==typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}},8184:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(3620),i=n(7145),o=n(7159);function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return(0,o.Z)(t,arguments,(0,r.Z)(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(n,t)})(t)}},8774:function(t,e,n){t.exports=n(5579)},4762:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i},pi:function(){return o},mG:function(){return a},Jh:function(){return s},XA:function(){return u},CR:function(){return c},ev:function(){return l}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}}},function(t){"use strict";t(t.s=4574)}]);
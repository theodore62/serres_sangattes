(self.webpackChunkserres_sangatte=self.webpackChunkserres_sangatte||[]).push([[4253],{4253:(e,o,t)=>{"use strict";t.r(o),t.d(o,{AjouterFleurPageModule:()=>Q});var n=t(8583),i=t(665),r=t(2859),l=t(174),a=t(4762),s=t(7716),u=t(7318),c=t(5090),p=t(6086),g=t(9842),d=t(2639),m=t(1792);const h=["type"];function f(e,o){1&e&&(s.TgZ(0,"span",32),s._uU(1," champ obligatoire "),s.qZA())}function Z(e,o){1&e&&(s.TgZ(0,"span",32),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function q(e,o){if(1&e&&(s.TgZ(0,"ion-select-option",33),s._uU(1),s.qZA()),2&e){const e=o.$implicit;s.s9C("value",e.nom),s.xp6(1),s.Oqu(e.nom)}}function T(e,o){1&e&&(s.TgZ(0,"span",32),s._uU(1," champ obligatoire "),s.qZA())}function v(e,o){1&e&&(s.TgZ(0,"span",32),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function b(e,o){1&e&&(s.TgZ(0,"ion-select",35),s.TgZ(1,"ion-select-option",36),s._uU(2,"Annuelles"),s.qZA(),s.TgZ(3,"ion-select-option",37),s._uU(4,"Bisannuelles"),s.qZA(),s.TgZ(5,"ion-select-option",38),s._uU(6,"Vivaces"),s.qZA(),s.TgZ(7,"ion-select-option",39),s._uU(8,"Aromatiques"),s.qZA(),s.qZA())}function A(e,o){1&e&&(s.TgZ(0,"span",32),s._uU(1," champ obligatoire "),s.qZA())}function C(e,o){1&e&&(s.TgZ(0,"span",32),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function _(e,o){if(1&e&&(s.TgZ(0,"ion-item"),s.TgZ(1,"ion-label",1),s._uU(2,"Epoque de fleuraison:"),s.qZA(),s.YNc(3,b,9,0,"ion-select",34),s.YNc(4,A,2,0,"span",7),s.YNc(5,C,2,0,"span",7),s.qZA()),2&e){const e=s.oxw();s.xp6(3),s.Q6J("ngIf","Fleur"===e.epoque),s.xp6(1),s.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.required)),s.xp6(1),s.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.minlength))}}function y(e,o){1&e&&(s.TgZ(0,"ion-select",41),s.TgZ(1,"ion-select-option",42),s._uU(2,"Ete"),s.qZA(),s.TgZ(3,"ion-select-option",43),s._uU(4,"Hiver"),s.qZA(),s.qZA())}function U(e,o){1&e&&(s.TgZ(0,"span",32),s._uU(1," champ obligatoire "),s.qZA())}function x(e,o){1&e&&(s.TgZ(0,"span",32),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function I(e,o){if(1&e&&(s.TgZ(0,"ion-item"),s.TgZ(1,"ion-label",1),s._uU(2,"Epoque de r\xe9colte:"),s.qZA(),s.YNc(3,y,5,0,"ion-select",40),s.YNc(4,U,2,0,"span",7),s.YNc(5,x,2,0,"span",7),s.qZA()),2&e){const e=s.oxw();s.xp6(3),s.Q6J("ngIf","Fruit"===e.epoque||"Legumes"===e.epoque),s.xp6(1),s.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.required)),s.xp6(1),s.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.minlength))}}function N(e,o){1&e&&(s.TgZ(0,"ion-label",1),s._uU(1,"p\xe9riode de r\xe9colte:"),s.qZA())}function Y(e,o){1&e&&(s.TgZ(0,"ion-label",1),s._uU(1,"Mois de fleuraison:"),s.qZA())}function k(e,o){if(1&e&&(s.TgZ(0,"ion-select-option",33),s._uU(1),s.qZA()),2&e){const e=o.$implicit;s.s9C("value",e),s.xp6(1),s.Oqu(e)}}function J(e,o){if(1&e&&(s.TgZ(0,"ion-select-option",33),s._uU(1),s.qZA()),2&e){const e=o.$implicit;s.s9C("value",e),s.xp6(1),s.Oqu(e)}}function O(e,o){1&e&&(s.TgZ(0,"span",32),s._uU(1," champ obligatoire "),s.qZA())}function S(e,o){1&e&&(s.TgZ(0,"span",32),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}const F=[{path:"",component:(()=>{class e{constructor(e,o,t,n,i,r,l,a,s,u){this.router=e,this.alertController=o,this.formBuilder=t,this.afDB=n,this.firestore=i,this.toastCtrl=r,this.planteList=l,this.camera=a,this.afSG=s,this.loadingController=u,this.isSubmitted=!1,this.image="../../assets/images/img.png",this.plante={id:"",nom:"",variete:"",couleur:"",fleuraison:"",hauteur:"",description:"",type:"",de:"",a:"",image:""},this.items=this.firestore.collection("Variete").valueChanges(),this.buttonColor="#9eb7d2",this.listMois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","aout","septembre","octobre","novembre","d\xe9cembre"]}get errorControl(){return this.annonce.controls}ngOnInit(){null==this.epoque&&this.epoqueFleuraison(),this.annonce=this.formBuilder.group({nom:["",[i.kI.required,i.kI.minLength(2)]],variete:["",[i.kI.required]],couleur:["",[i.kI.required]],fleuraison:["",[i.kI.required]],hauteur:["",[i.kI.required]],description:["",[i.kI.required]],type:["",[i.kI.required]],de:["",[i.kI.required]],a:["",[i.kI.required]]})}ajouter(){this.router.navigateByUrl("/ajouter-varieter")}optionsfn(){this.epoque=this.theSelectObject.value}epoqueFleuraison(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"type de la plante",inputs:[{name:"radio1",type:"radio",label:"Fleur",value:"Fleur",handler:()=>{console.log("Radio 1 selected")},checked:!0},{name:"radio2",type:"radio",label:"Fruit",value:"Fruit",handler:()=>{console.log("Radio 2 selected")}},{name:"radio3",type:"radio",label:"Legumes",value:"Legumes",handler:()=>{console.log("Radio 3 selected")}}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Confirm Cancel")}},{text:"Ok",handler:e=>{console.log(e),this.epoque=e}}]});yield e.present()})}addAnnonce(){if(console.log(this.annonce),!this.annonce.valid)return this.message="enter une valeur dans le champ",console.log("Please provide all the required values!"),!1;this.plante.nom=this.annonce.value.nom,this.plante.variete=this.annonce.value.variete,this.plante.couleur=this.annonce.value.couleur,this.plante.fleuraison=this.annonce.value.fleuraison,this.plante.hauteur=this.annonce.value.hauteur,this.plante.description=this.annonce.value.description,this.plante.type=this.annonce.value.type,this.plante.de=this.annonce.value.de,this.plante.a=this.annonce.value.a,this.imagePath=(new Date).getTime()+".jpg",this.uploadFirebase(),this.planteList.postPlanteList(this.plante).then(e=>{null==e.id?(this.message="la plante n'a pas pu \xeatre enregistr\xe9 ",this.toastCtrl.showToast(this.message)):(this.firestore.doc(`Plantes/${e.id}`).set({id:e.id,nom:this.plante.nom,variete:this.plante.variete,couleur:this.plante.couleur,fleuraison:this.plante.fleuraison,hauteur:this.plante.hauteur,description:this.plante.description,type:this.plante.type,de:this.plante.de,a:this.plante.a,image:this.imagePath}),this.message="la plante \xe0 \xe9tait enregistr\xe9 vous pouvez en saisir une autre",this.toastCtrl.showToast(this.message))})}addPhoto(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.openLibrary();this.image="data:image/jpg;base64,"+e})}openLibrary(){return(0,a.mG)(this,void 0,void 0,function*(){const e={quality:100,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:1e3,targetHeight:1e3,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY};return yield this.camera.getPicture(e)})}uploadFirebase(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({duration:2e3});yield e.present(),this.upload=this.afSG.ref(this.imagePath).putString(this.image,"data_url"),this.upload.then(()=>(0,a.mG)(this,void 0,void 0,function*(){yield e.onDidDismiss(),this.image="https://www.kasterencultuur.nl/editor/placeholder.jpg";const o=yield this.alertController.create({header:"F\xe9licitation",message:"L'envoi de la photo dans Firebase est termin\xe9!",buttons:["OK"]});yield o.present()}))})}}return e.\u0275fac=function(o){return new(o||e)(s.Y36(l.F0),s.Y36(r.Br),s.Y36(i.qu),s.Y36(u.KQ),s.Y36(c.ST),s.Y36(p.a),s.Y36(g.B),s.Y36(d.V1),s.Y36(m.Q1),s.Y36(r.HT))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-ajouter-fleur"]],viewQuery:function(e,o){if(1&e&&s.Gf(h,5),2&e){let e;s.iGM(e=s.CRH())&&(o.theSelectObject=e.first)}},decls:78,vars:18,consts:[["slot","start"],["color","light"],["slot","end",3,"click"],["size","large","name","add-circle-outline"],[2,"background-color","silver"],[3,"formGroup","ngSubmit"],["color","light","type","text","placeholder","nom","formControlName","nom"],["class","error ion-padding",4,"ngIf"],["color","light","placeholder","Selectioner la variet\xe9","required","","formControlName","variete"],[3,"value",4,"ngFor","ngForOf"],["color","light","type","text","placeholder","couleur","required","","formControlName","couleur"],[4,"ngIf"],["color","light",4,"ngIf"],["color","light","placeholder","de","required","","formControlName","de"],["color","light",2,"width","2em"],["color","light","placeholder","a","required","","formControlName","a"],["color","light","placeholder","Selectioner la Hauteur","required","","formControlName","hauteur"],["value","basse"],["value","moyenne"],["value","haute"],["color","light","type","text","placeholder","description","required","","formControlName","description"],["placeholder","Selectioner le Type","required","","formControlName","type",1,"custom-options",3,"value","ionChange"],["type",""],["value","Fleur","color","light"],["value","Fruit","color","light"],["value","Legumes","color","light"],["expand","block","id","imageB",3,"click"],["name","image","slot","start"],[1,"flex"],[1,"img-box"],[3,"src"],["type","submit","expand","block"],[1,"error","ion-padding"],[3,"value"],["color","light","placeholder","Selectioner la fleuraison","required","","formControlName","fleuraison",4,"ngIf"],["color","light","placeholder","Selectioner la fleuraison","required","","formControlName","fleuraison"],["value","Annuelles"],["value","Bisannuelles"],["value","Vivaces"],["value","Aromatiques"],["color","light","placeholder","Selectioner la r\xe9colte","required","","formControlName","fleuraison",4,"ngIf"],["color","light","placeholder","Selectioner la r\xe9colte","required","","formControlName","fleuraison"],["value","Ete"],["value","Hiver"]],template:function(e,o){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s._UZ(3,"ion-back-button",1),s.qZA(),s.TgZ(4,"ion-title",1),s._uU(5,"ajouter une plante"),s.qZA(),s.TgZ(6,"ion-buttons",2),s.NdJ("click",function(){return o.ajouter()}),s._UZ(7,"ion-icon",3),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"ion-content"),s.TgZ(9,"ion-list",4),s.TgZ(10,"form",5),s.NdJ("ngSubmit",function(){return o.addAnnonce()}),s.TgZ(11,"ion-item"),s.TgZ(12,"ion-label",1),s._uU(13,"Nom commun :"),s.qZA(),s._UZ(14,"ion-input",6),s.YNc(15,f,2,0,"span",7),s.YNc(16,Z,2,0,"span",7),s.qZA(),s.TgZ(17,"ion-item"),s.TgZ(18,"ion-label",1),s._uU(19,"Vari\xe9t\xe9:"),s.qZA(),s.TgZ(20,"ion-select",8),s.YNc(21,q,2,2,"ion-select-option",9),s.ALo(22,"async"),s.qZA(),s.qZA(),s.TgZ(23,"ion-item"),s.TgZ(24,"ion-label",1),s._uU(25,"Couleur:"),s.qZA(),s._UZ(26,"ion-input",10),s.YNc(27,T,2,0,"span",7),s.YNc(28,v,2,0,"span",7),s.qZA(),s.YNc(29,_,6,3,"ion-item",11),s.YNc(30,I,6,3,"ion-item",11),s.TgZ(31,"ion-item"),s.YNc(32,N,2,0,"ion-label",12),s.YNc(33,Y,2,0,"ion-label",12),s.TgZ(34,"ion-item"),s.TgZ(35,"ion-select",13),s.YNc(36,k,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(37,"ion-item"),s.TgZ(38,"ion-label",14),s._uU(39,"\xe0"),s.qZA(),s.qZA(),s.TgZ(40,"ion-item"),s.TgZ(41,"ion-select",15),s.YNc(42,J,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.qZA(),s.TgZ(43,"ion-item"),s.TgZ(44,"ion-label",1),s._uU(45,"Hauteur:"),s.qZA(),s.TgZ(46,"ion-select",16),s.TgZ(47,"ion-select-option",17),s._uU(48,"basse (5-20cm)"),s.qZA(),s.TgZ(49,"ion-select-option",18),s._uU(50,"moyenne (30-50cm)"),s.qZA(),s.TgZ(51,"ion-select-option",19),s._uU(52,"haute (80cm et +)"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(53,"ion-item"),s.TgZ(54,"ion-label",1),s._uU(55,"Description:"),s.qZA(),s._UZ(56,"ion-input",20),s.YNc(57,O,2,0,"span",7),s.YNc(58,S,2,0,"span",7),s.qZA(),s.TgZ(59,"ion-item"),s.TgZ(60,"ion-label",1),s._uU(61,"Type de plante"),s.qZA(),s.TgZ(62,"ion-select",21,22),s.NdJ("ionChange",function(){return o.optionsfn()}),s.TgZ(64,"ion-select-option",23),s._uU(65,"Fleur"),s.qZA(),s.TgZ(66,"ion-select-option",24),s._uU(67,"Fruit"),s.qZA(),s.TgZ(68,"ion-select-option",25),s._uU(69,"L\xe9gume"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(70,"ion-button",26),s.NdJ("click",function(){return o.addPhoto()}),s._UZ(71,"ion-icon",27),s._uU(72," Ouvrir la biblioth\xe8que "),s.qZA(),s.TgZ(73,"div",28),s.TgZ(74,"div",29),s._UZ(75,"img",30),s.qZA(),s.qZA(),s.TgZ(76,"ion-button",31),s._uU(77,"Valider"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(10),s.Q6J("formGroup",o.annonce),s.xp6(5),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.nom.errors?null:o.errorControl.nom.errors.required)),s.xp6(1),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.nom.errors?null:o.errorControl.nom.errors.minlength)),s.xp6(5),s.Q6J("ngForOf",s.lcZ(22,16,o.items)),s.xp6(6),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.couleur.errors?null:o.errorControl.couleur.errors.required)),s.xp6(1),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.couleur.errors?null:o.errorControl.couleur.errors.minlength)),s.xp6(1),s.Q6J("ngIf","Fleur"===o.epoque),s.xp6(1),s.Q6J("ngIf","Fruit"===o.epoque||"Legumes"===o.epoque),s.xp6(2),s.Q6J("ngIf","Fruit"===o.epoque||"Legumes"===o.epoque),s.xp6(1),s.Q6J("ngIf","Fleur"===o.epoque),s.xp6(3),s.Q6J("ngForOf",o.listMois),s.xp6(6),s.Q6J("ngForOf",o.listMois),s.xp6(15),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.description.errors?null:o.errorControl.description.errors.required)),s.xp6(1),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.description.errors?null:o.errorControl.description.errors.minlength)),s.xp6(4),s.s9C("value",o.epoque),s.xp6(13),s.Q6J("src",o.image,s.LSH))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.gu,r.W2,r.q_,i._Y,i.JL,i.sg,r.Ie,r.Q$,r.pK,r.j9,i.JJ,i.u,n.O5,r.t9,r.QI,i.Q7,n.sg,r.n0,r.YG],pipes:[n.Ov],styles:["ion-header[_ngcontent-%COMP%]{--ion-background-color:#3366a0}ion-content[_ngcontent-%COMP%]{color:#fff;--ion-background-color:linear-gradient(#3366a0,#9eb7d2)}ion-buttons[_ngcontent-%COMP%], ion-icon[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{color:#fff}ion-button[_ngcontent-%COMP%]{--background:#9eb7d2}#imageB[_ngcontent-%COMP%]{--background:#7699bf}.my-custom-interface[_ngcontent-%COMP%]   .select-interface-option[_ngcontent-%COMP%]{--color:#971e49;--color-hover:#79193b}ion-item[_ngcontent-%COMP%]{--ion-background-color:#0000!important}.flex[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.img-box[_ngcontent-%COMP%]{overflow:hidden}.img-box[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{height:200px}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[l.Bz.forChild(F)],l.Bz]}),e})(),Q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ez,i.u5,i.UX,r.Pc,P]]}),e})()},6086:(e,o,t)=>{"use strict";t.d(o,{a:()=>r});var n=t(7716),i=t(2859);let r=(()=>{class e{constructor(e){this.toast=e}showToast(e){this.myToast=this.toast.create({message:e,duration:2e3,position:"top",cssClass:"message"}).then(e=>{console.log(e),e.present()})}}return e.\u0275fac=function(o){return new(o||e)(n.LFG(i.yF))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
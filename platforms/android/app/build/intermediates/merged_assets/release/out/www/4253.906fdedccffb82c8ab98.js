(self.webpackChunkserres_sangatte=self.webpackChunkserres_sangatte||[]).push([[4253],{4253:(e,o,t)=>{"use strict";t.r(o),t.d(o,{AjouterFleurPageModule:()=>Q});var n=t(8583),i=t(665),r=t(2859),l=t(174),s=t(4762),a=t(7716),u=t(7318),c=t(5090),p=t(6086),g=t(9842),d=t(2639),h=t(1792);const m=["type"];function Z(e,o){1&e&&(a.TgZ(0,"span",32),a._uU(1," champ obligatoire "),a.qZA())}function f(e,o){1&e&&(a.TgZ(0,"span",32),a._uU(1," minimun 2 caract\xe9res "),a.qZA())}function q(e,o){if(1&e&&(a.TgZ(0,"ion-select-option",33),a._uU(1),a.qZA()),2&e){const e=o.$implicit;a.s9C("value",e.nom),a.xp6(1),a.Oqu(e.nom)}}function T(e,o){1&e&&(a.TgZ(0,"span",32),a._uU(1," champ obligatoire "),a.qZA())}function b(e,o){1&e&&(a.TgZ(0,"span",32),a._uU(1," minimun 2 caract\xe9res "),a.qZA())}function A(e,o){1&e&&(a.TgZ(0,"ion-select",35),a.TgZ(1,"ion-select-option",36),a._uU(2,"Annuelles"),a.qZA(),a.TgZ(3,"ion-select-option",37),a._uU(4,"Bisannuelles"),a.qZA(),a.TgZ(5,"ion-select-option",38),a._uU(6,"Vivaces"),a.qZA(),a.TgZ(7,"ion-select-option",39),a._uU(8,"Aromatiques"),a.qZA(),a.qZA())}function v(e,o){1&e&&(a.TgZ(0,"span",32),a._uU(1," champ obligatoire "),a.qZA())}function C(e,o){1&e&&(a.TgZ(0,"span",32),a._uU(1," minimun 2 caract\xe9res "),a.qZA())}function _(e,o){if(1&e&&(a.TgZ(0,"ion-item"),a.TgZ(1,"ion-label",1),a._uU(2,"Epoque de fleuraison:"),a.qZA(),a.YNc(3,A,9,0,"ion-select",34),a.YNc(4,v,2,0,"span",7),a.YNc(5,C,2,0,"span",7),a.qZA()),2&e){const e=a.oxw();a.xp6(3),a.Q6J("ngIf","Fleur"===e.epoque),a.xp6(1),a.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.required)),a.xp6(1),a.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.minlength))}}function y(e,o){1&e&&(a.TgZ(0,"ion-select",41),a.TgZ(1,"ion-select-option",42),a._uU(2,"Ete"),a.qZA(),a.TgZ(3,"ion-select-option",43),a._uU(4,"Hiver"),a.qZA(),a.qZA())}function U(e,o){1&e&&(a.TgZ(0,"span",32),a._uU(1," champ obligatoire "),a.qZA())}function x(e,o){1&e&&(a.TgZ(0,"span",32),a._uU(1," minimun 2 caract\xe9res "),a.qZA())}function I(e,o){if(1&e&&(a.TgZ(0,"ion-item"),a.TgZ(1,"ion-label",1),a._uU(2,"Epoque de r\xe9colte:"),a.qZA(),a.YNc(3,y,5,0,"ion-select",40),a.YNc(4,U,2,0,"span",7),a.YNc(5,x,2,0,"span",7),a.qZA()),2&e){const e=a.oxw();a.xp6(3),a.Q6J("ngIf","Fruit"===e.epoque||"Legumes"===e.epoque),a.xp6(1),a.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.required)),a.xp6(1),a.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.minlength))}}function N(e,o){1&e&&(a.TgZ(0,"ion-label",1),a._uU(1,"p\xe9riode de r\xe9colte:"),a.qZA())}function Y(e,o){1&e&&(a.TgZ(0,"ion-label",1),a._uU(1,"Mois de fleuraison:"),a.qZA())}function k(e,o){if(1&e&&(a.TgZ(0,"ion-select-option",33),a._uU(1),a.qZA()),2&e){const e=o.$implicit;a.s9C("value",e),a.xp6(1),a.Oqu(e)}}function J(e,o){if(1&e&&(a.TgZ(0,"ion-select-option",33),a._uU(1),a.qZA()),2&e){const e=o.$implicit;a.s9C("value",e),a.xp6(1),a.Oqu(e)}}function O(e,o){1&e&&(a.TgZ(0,"span",32),a._uU(1," champ obligatoire "),a.qZA())}function S(e,o){1&e&&(a.TgZ(0,"span",32),a._uU(1," minimun 2 caract\xe9res "),a.qZA())}const F=[{path:"",component:(()=>{class e{constructor(e,o,t,n,i,r,l,s,a,u){this.router=e,this.alertController=o,this.formBuilder=t,this.afDB=n,this.firestore=i,this.toastCtrl=r,this.planteList=l,this.camera=s,this.afSG=a,this.loadingController=u,this.isSubmitted=!1,this.image="",this.plante={id:"",nom:"",variete:"",couleur:"",fleuraison:"",hauteur:"",description:"",type:"",de:"",a:"",image:""},this.items=this.firestore.collection("Variete").valueChanges(),this.buttonColor="#9eb7d2",this.listMois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","aout","septembre","octobre","novembre","d\xe9cembre"]}get errorControl(){return this.annonce.controls}ngOnInit(){null==this.epoque&&this.epoqueFleuraison(),this.annonce=this.formBuilder.group({nom:["",[i.kI.required,i.kI.minLength(2)]],variete:["",[i.kI.required]],couleur:["",[i.kI.required]],fleuraison:["",[i.kI.required]],hauteur:["",[i.kI.required]],description:["",[i.kI.required]],type:["",[i.kI.required]],de:["",[i.kI.required]],a:["",[i.kI.required]]})}ajouter(){this.router.navigateByUrl("/ajouter-varieter")}optionsfn(){this.epoque=this.theSelectObject.value}epoqueFleuraison(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"type de la plante",inputs:[{name:"radio1",type:"radio",label:"Fleur",value:"Fleur",handler:()=>{},checked:!0},{name:"radio2",type:"radio",label:"Fruit",value:"Fruit",handler:()=>{}},{name:"radio3",type:"radio",label:"Legumes",value:"Legumes",handler:()=>{}}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{}},{text:"Ok",handler:e=>{console.log(e),this.epoque=e}}]});yield e.present()})}addAnnonce(){console.log(this.annonce),this.annonce.valid?(this.plante.nom=this.annonce.value.nom,this.plante.variete=this.annonce.value.variete,this.plante.couleur=this.annonce.value.couleur,this.plante.fleuraison=this.annonce.value.fleuraison,this.plante.hauteur=this.annonce.value.hauteur,this.plante.description=this.annonce.value.description,this.plante.type=this.annonce.value.type,this.plante.de=this.annonce.value.de,this.plante.a=this.annonce.value.a,this.url=this.image,console.log(this.url),""!==this.url?(console.log("ici"),this.imagePath=(new Date).getTime()+".jpg",this.uploadFirebase(),this.planteList.postPlanteList(this.plante).then(e=>{null==e.id?(this.message="les donn\xe9es n'ont pas pu \xeatre enregistr\xe9es",this.toastCtrl.showToast(this.message)):this.firestore.doc(`Plantes/${e.id}`).set({id:e.id,nom:this.plante.nom,variete:this.plante.variete,couleur:this.plante.couleur,fleuraison:this.plante.fleuraison,hauteur:this.plante.hauteur,description:this.plante.description,type:this.plante.type,de:this.plante.de,a:this.plante.a,image:this.imagePath})})):(this.message="veuilliez rajouter une image",this.toastCtrl.showToast(this.message))):(this.message="Veuillez veuillez compl\xe9ter le formulaire",this.toastCtrl.showToast(this.message))}addPhoto(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield this.openLibrary();this.image="data:image/jpg;base64,"+e})}openLibrary(){return(0,s.mG)(this,void 0,void 0,function*(){const e={quality:100,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:1e3,targetHeight:1e3,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY};return yield this.camera.getPicture(e)})}uploadFirebase(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({duration:2e3});yield e.present(),this.upload=this.afSG.ref(this.imagePath).putString(this.image,"data_url"),this.upload.then(()=>(0,s.mG)(this,void 0,void 0,function*(){yield e.onDidDismiss(),this.image="https://www.kasterencultuur.nl/editor/placeholder.jpg";const o=yield this.alertController.create({header:"F\xe9licitation",cssClass:["color:white"],message:"Les donn\xe9es ont bien \xe9t\xe9 enregistr\xe9es",buttons:["OK"]});yield o.present()}))})}}return e.\u0275fac=function(o){return new(o||e)(a.Y36(l.F0),a.Y36(r.Br),a.Y36(i.qu),a.Y36(u.KQ),a.Y36(c.ST),a.Y36(p.a),a.Y36(g.B),a.Y36(d.V1),a.Y36(h.Q1),a.Y36(r.HT))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-ajouter-fleur"]],viewQuery:function(e,o){if(1&e&&a.Gf(m,5),2&e){let e;a.iGM(e=a.CRH())&&(o.theSelectObject=e.first)}},decls:78,vars:18,consts:[["slot","start"],["color","light"],["slot","end",3,"click"],["size","large","name","add-circle-outline"],[2,"background-color","silver"],[3,"formGroup","ngSubmit"],["color","light","type","text","placeholder","nom","formControlName","nom"],["class","error ion-padding",4,"ngIf"],["color","light","placeholder","Selectioner la variet\xe9","required","","formControlName","variete"],[3,"value",4,"ngFor","ngForOf"],["color","light","type","text","placeholder","couleur","required","","formControlName","couleur"],[4,"ngIf"],["color","light",4,"ngIf"],["color","light","placeholder","de","required","","formControlName","de"],["color","light",2,"width","2em"],["color","light","placeholder","a","required","","formControlName","a"],["color","light","placeholder","Selectioner la Hauteur","required","","formControlName","hauteur"],["value","basse"],["value","moyenne"],["value","haute"],["color","light","rows","6","cols","20","placeholder","description","required","","formControlName","description"],["placeholder","Selectioner le Type","required","","formControlName","type",1,"custom-options",3,"value","ionChange"],["type",""],["value","Fleur","color","light"],["value","Fruit","color","light"],["value","Legumes","color","light"],["expand","block","id","imageB",3,"click"],["name","image","slot","start"],[1,"flex"],[1,"img-box"],["id","url",3,"src"],["type","submit","expand","block"],[1,"error","ion-padding"],[3,"value"],["color","light","placeholder","Selectioner la fleuraison","required","","formControlName","fleuraison",4,"ngIf"],["color","light","placeholder","Selectioner la fleuraison","required","","formControlName","fleuraison"],["value","Annuelles"],["value","Bisannuelles"],["value","Vivaces"],["value","Aromatiques"],["color","light","placeholder","Selectioner la r\xe9colte","required","","formControlName","fleuraison",4,"ngIf"],["color","light","placeholder","Selectioner la r\xe9colte","required","","formControlName","fleuraison"],["value","Ete"],["value","Hiver"]],template:function(e,o){1&e&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar"),a.TgZ(2,"ion-buttons",0),a._UZ(3,"ion-back-button",1),a.qZA(),a.TgZ(4,"ion-title",1),a._uU(5,"ajouter une plante"),a.qZA(),a.TgZ(6,"ion-buttons",2),a.NdJ("click",function(){return o.ajouter()}),a._UZ(7,"ion-icon",3),a.qZA(),a.qZA(),a.qZA(),a.TgZ(8,"ion-content"),a.TgZ(9,"ion-list",4),a.TgZ(10,"form",5),a.NdJ("ngSubmit",function(){return o.addAnnonce()}),a.TgZ(11,"ion-item"),a.TgZ(12,"ion-label",1),a._uU(13,"Nom commun :"),a.qZA(),a._UZ(14,"ion-input",6),a.YNc(15,Z,2,0,"span",7),a.YNc(16,f,2,0,"span",7),a.qZA(),a.TgZ(17,"ion-item"),a.TgZ(18,"ion-label",1),a._uU(19,"Vari\xe9t\xe9:"),a.qZA(),a.TgZ(20,"ion-select",8),a.YNc(21,q,2,2,"ion-select-option",9),a.ALo(22,"async"),a.qZA(),a.qZA(),a.TgZ(23,"ion-item"),a.TgZ(24,"ion-label",1),a._uU(25,"Couleur:"),a.qZA(),a._UZ(26,"ion-input",10),a.YNc(27,T,2,0,"span",7),a.YNc(28,b,2,0,"span",7),a.qZA(),a.YNc(29,_,6,3,"ion-item",11),a.YNc(30,I,6,3,"ion-item",11),a.TgZ(31,"ion-item"),a.YNc(32,N,2,0,"ion-label",12),a.YNc(33,Y,2,0,"ion-label",12),a.TgZ(34,"ion-item"),a.TgZ(35,"ion-select",13),a.YNc(36,k,2,2,"ion-select-option",9),a.qZA(),a.qZA(),a.TgZ(37,"ion-item"),a.TgZ(38,"ion-label",14),a._uU(39,"\xe0"),a.qZA(),a.qZA(),a.TgZ(40,"ion-item"),a.TgZ(41,"ion-select",15),a.YNc(42,J,2,2,"ion-select-option",9),a.qZA(),a.qZA(),a.qZA(),a.TgZ(43,"ion-item"),a.TgZ(44,"ion-label",1),a._uU(45,"Hauteur:"),a.qZA(),a.TgZ(46,"ion-select",16),a.TgZ(47,"ion-select-option",17),a._uU(48,"basse (5-20cm)"),a.qZA(),a.TgZ(49,"ion-select-option",18),a._uU(50,"moyenne (30-50cm)"),a.qZA(),a.TgZ(51,"ion-select-option",19),a._uU(52,"haute (80cm et +)"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(53,"ion-item"),a.TgZ(54,"ion-label",1),a._uU(55,"Description:"),a.qZA(),a._UZ(56,"ion-textarea",20),a.YNc(57,O,2,0,"span",7),a.YNc(58,S,2,0,"span",7),a.qZA(),a.TgZ(59,"ion-item"),a.TgZ(60,"ion-label",1),a._uU(61,"Type de plante"),a.qZA(),a.TgZ(62,"ion-select",21,22),a.NdJ("ionChange",function(){return o.optionsfn()}),a.TgZ(64,"ion-select-option",23),a._uU(65,"Fleur"),a.qZA(),a.TgZ(66,"ion-select-option",24),a._uU(67,"Fruit"),a.qZA(),a.TgZ(68,"ion-select-option",25),a._uU(69,"L\xe9gume"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(70,"ion-button",26),a.NdJ("click",function(){return o.addPhoto()}),a._UZ(71,"ion-icon",27),a._uU(72," Ouvrir la biblioth\xe8que "),a.qZA(),a.TgZ(73,"div",28),a.TgZ(74,"div",29),a._UZ(75,"img",30),a.qZA(),a.qZA(),a.TgZ(76,"ion-button",31),a._uU(77,"Valider"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(10),a.Q6J("formGroup",o.annonce),a.xp6(5),a.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.nom.errors?null:o.errorControl.nom.errors.required)),a.xp6(1),a.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.nom.errors?null:o.errorControl.nom.errors.minlength)),a.xp6(5),a.Q6J("ngForOf",a.lcZ(22,16,o.items)),a.xp6(6),a.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.couleur.errors?null:o.errorControl.couleur.errors.required)),a.xp6(1),a.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.couleur.errors?null:o.errorControl.couleur.errors.minlength)),a.xp6(1),a.Q6J("ngIf","Fleur"===o.epoque),a.xp6(1),a.Q6J("ngIf","Fruit"===o.epoque||"Legumes"===o.epoque),a.xp6(2),a.Q6J("ngIf","Fruit"===o.epoque||"Legumes"===o.epoque),a.xp6(1),a.Q6J("ngIf","Fleur"===o.epoque),a.xp6(3),a.Q6J("ngForOf",o.listMois),a.xp6(6),a.Q6J("ngForOf",o.listMois),a.xp6(15),a.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.description.errors?null:o.errorControl.description.errors.required)),a.xp6(1),a.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.description.errors?null:o.errorControl.description.errors.minlength)),a.xp6(4),a.s9C("value",o.epoque),a.xp6(13),a.Q6J("src",o.image,a.LSH))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.gu,r.W2,r.q_,i._Y,i.JL,i.sg,r.Ie,r.Q$,r.pK,r.j9,i.JJ,i.u,n.O5,r.t9,r.QI,i.Q7,n.sg,r.n0,r.g2,r.YG],pipes:[n.Ov],styles:["ion-header[_ngcontent-%COMP%]{--ion-background-color:#3366a0}ion-content[_ngcontent-%COMP%]{color:#fff;--ion-background-color:linear-gradient(#3366a0,#9eb7d2)}ion-buttons[_ngcontent-%COMP%], ion-icon[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{color:#fff}ion-button[_ngcontent-%COMP%]{--background:#9eb7d2}#imageB[_ngcontent-%COMP%]{--background:#7699bf}.my-custom-interface[_ngcontent-%COMP%]   .select-interface-option[_ngcontent-%COMP%]{--color:#971e49;--color-hover:#79193b}ion-item[_ngcontent-%COMP%]{--ion-background-color:#0000!important}.flex[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.img-box[_ngcontent-%COMP%]{overflow:hidden}.img-box[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{height:200px}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[l.Bz.forChild(F)],l.Bz]}),e})(),Q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[n.ez,i.u5,i.UX,r.Pc,P]]}),e})()},6086:(e,o,t)=>{"use strict";t.d(o,{a:()=>r});var n=t(7716),i=t(2859);let r=(()=>{class e{constructor(e){this.toast=e}showToast(e){this.myToast=this.toast.create({message:e,duration:2e3,position:"top",cssClass:"message"}).then(e=>{console.log(e),e.present()})}}return e.\u0275fac=function(o){return new(o||e)(n.LFG(i.yF))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
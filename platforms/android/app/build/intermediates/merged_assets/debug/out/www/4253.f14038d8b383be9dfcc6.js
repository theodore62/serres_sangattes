(self.webpackChunkserres_sangatte=self.webpackChunkserres_sangatte||[]).push([[4253],{4253:(e,o,n)=>{"use strict";n.r(o),n.d(o,{AjouterFleurPageModule:()=>S});var t=n(8583),r=n(665),i=n(2859),l=n(174),a=n(4762),s=n(7716),u=n(7318),c=n(5090),p=n(6086),g=n(9842),d=n(2639),m=n(1792);function h(e,o){1&e&&(s.TgZ(0,"span",27),s._uU(1," champ obligatoire "),s.qZA())}function Z(e,o){1&e&&(s.TgZ(0,"span",27),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function f(e,o){if(1&e&&(s.TgZ(0,"ion-select-option",28),s._uU(1),s.qZA()),2&e){const e=o.$implicit;s.s9C("value",e.nom),s.xp6(1),s.Oqu(e.nom)}}function q(e,o){1&e&&(s.TgZ(0,"span",27),s._uU(1," champ obligatoire "),s.qZA())}function T(e,o){1&e&&(s.TgZ(0,"span",27),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function A(e,o){1&e&&(s.TgZ(0,"ion-select",30),s.TgZ(1,"ion-select-option",31),s._uU(2,"Annuelles"),s.qZA(),s.TgZ(3,"ion-select-option",32),s._uU(4,"Bisannuelles"),s.qZA(),s.TgZ(5,"ion-select-option",33),s._uU(6,"Vivaces"),s.qZA(),s.TgZ(7,"ion-select-option",34),s._uU(8,"Aromatiques"),s.qZA(),s.qZA())}function v(e,o){1&e&&(s.TgZ(0,"span",27),s._uU(1," champ obligatoire "),s.qZA())}function b(e,o){1&e&&(s.TgZ(0,"span",27),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function C(e,o){if(1&e&&(s.TgZ(0,"ion-item"),s.TgZ(1,"ion-label",1),s._uU(2,"Epoque de fleuraison:"),s.qZA(),s.YNc(3,A,9,0,"ion-select",29),s.YNc(4,v,2,0,"span",7),s.YNc(5,b,2,0,"span",7),s.qZA()),2&e){const e=s.oxw();s.xp6(3),s.Q6J("ngIf","Fleur"===e.epoque),s.xp6(1),s.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.required)),s.xp6(1),s.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.minlength))}}function _(e,o){1&e&&(s.TgZ(0,"ion-select",30),s.TgZ(1,"ion-select-option",35),s._uU(2,"Ete"),s.qZA(),s.TgZ(3,"ion-select-option",36),s._uU(4,"Hiver"),s.qZA(),s.qZA())}function y(e,o){1&e&&(s.TgZ(0,"span",27),s._uU(1," champ obligatoire "),s.qZA())}function U(e,o){1&e&&(s.TgZ(0,"span",27),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function x(e,o){if(1&e&&(s.TgZ(0,"ion-item"),s.TgZ(1,"ion-label",1),s._uU(2,"Epoque de r\xe9colte:"),s.qZA(),s.YNc(3,_,5,0,"ion-select",29),s.YNc(4,y,2,0,"span",7),s.YNc(5,U,2,0,"span",7),s.qZA()),2&e){const e=s.oxw();s.xp6(3),s.Q6J("ngIf","Fruit"===e.epoque||"Legumes"===e.epoque),s.xp6(1),s.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.required)),s.xp6(1),s.Q6J("ngIf",e.isSubmitted&&(null==e.errorControl.fleuraison.errors?null:e.errorControl.fleuraison.errors.minlength))}}function I(e,o){1&e&&(s.TgZ(0,"span",27),s._uU(1," champ obligatoire "),s.qZA())}function Y(e,o){1&e&&(s.TgZ(0,"span",27),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}const k=[{path:"",component:(()=>{class e{constructor(e,o,n,t,r,i,l,a,s,u){this.router=e,this.alertController=o,this.formBuilder=n,this.afDB=t,this.firestore=r,this.toastCtrl=i,this.planteList=l,this.camera=a,this.afSG=s,this.loadingController=u,this.isSubmitted=!1,this.image="https://www.kasterencultuur.nl/editor/placeholder.jpg",this.plante={id:"",nom:"",variete:"",couleur:"",fleuraison:"",hauteur:"",description:"",type:"",image:""},this.items=this.firestore.collection("Variete").valueChanges()}get errorControl(){return this.annonce.controls}ngOnInit(){this.annonce=this.formBuilder.group({nom:["",[r.kI.required,r.kI.minLength(2)]],variete:["",[r.kI.required]],couleur:["",[r.kI.required]],fleuraison:["",[r.kI.required]],hauteur:["",[r.kI.required]],description:["",[r.kI.required]],type:["",[r.kI.required]]}),this.epoqueFleuraison()}ajouter(){this.router.navigateByUrl("/ajouter-varieter")}addAnnonce(){if(console.log(this.annonce),!this.annonce.valid)return this.message="enter une valeur dans le champ",console.log("Please provide all the required values!"),!1;this.plante.nom=this.annonce.value.nom,this.plante.variete=this.annonce.value.variete,this.plante.couleur=this.annonce.value.couleur,this.plante.fleuraison=this.annonce.value.fleuraison,this.plante.hauteur=this.annonce.value.hauteur,this.plante.description=this.annonce.value.description,this.plante.type=this.annonce.value.type,this.imagePath=(new Date).getTime()+".jpg",this.uploadFirebase(),this.planteList.postPlanteList(this.plante).then(e=>{null==e.id?(this.message="la plante n'a pas pu \xeatre enregistr\xe9 ",this.toastCtrl.showToast(this.message)):(this.firestore.doc(`Plantes/${e.id}`).set({id:e.id,nom:this.plante.nom,variete:this.plante.variete,couleur:this.plante.couleur,fleuraison:this.plante.fleuraison,hauteur:this.plante.hauteur,description:this.plante.description,type:this.plante.type,image:this.imagePath}),this.message="la plante \xe0 \xe9tait enregistr\xe9 vous pouvez en saisir une autre",this.toastCtrl.showToast(this.message))})}epoqueFleuraison(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"type de la plante",inputs:[{name:"radio1",type:"radio",label:"Fleur",value:"Fleur",handler:()=>{console.log("Radio 1 selected")},checked:!0},{name:"radio2",type:"radio",label:"Fruit",value:"Fruit",handler:()=>{console.log("Radio 2 selected")}},{name:"radio3",type:"radio",label:"Legumes",value:"Legumes",handler:()=>{console.log("Radio 3 selected")}}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Confirm Cancel")}},{text:"Ok",handler:e=>{console.log(e),this.epoque=e}}]});yield e.present()})}addPhoto(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.openLibrary();this.image="data:image/jpg;base64,"+e})}openLibrary(){return(0,a.mG)(this,void 0,void 0,function*(){const e={quality:100,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:1e3,targetHeight:1e3,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY};return yield this.camera.getPicture(e)})}uploadFirebase(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({duration:2e3});yield e.present(),this.upload=this.afSG.ref(this.imagePath).putString(this.image,"data_url"),this.upload.then(()=>(0,a.mG)(this,void 0,void 0,function*(){yield e.onDidDismiss(),this.image="https://www.kasterencultuur.nl/editor/placeholder.jpg";const o=yield this.alertController.create({header:"F\xe9licitation",message:"L'envoi de la photo dans Firebase est termin\xe9!",buttons:["OK"]});yield o.present()}))})}}return e.\u0275fac=function(o){return new(o||e)(s.Y36(l.F0),s.Y36(i.Br),s.Y36(r.qu),s.Y36(u.KQ),s.Y36(c.ST),s.Y36(p.a),s.Y36(g.B),s.Y36(d.V1),s.Y36(m.Q1),s.Y36(i.HT))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-ajouter-fleur"]],decls:65,vars:13,consts:[["slot","start"],["color","light"],["slot","end",3,"click"],["size","large","name","add-circle-outline"],[2,"background-color","silver"],[3,"formGroup","ngSubmit"],["color","light","type","text","placeholder","nom","formControlName","nom"],["class","error ion-padding",4,"ngIf"],["color","light","placeholder","Select One","required","","formControlName","variete"],[3,"value",4,"ngFor","ngForOf"],["color","light","type","text","placeholder","couleur","required","","formControlName","couleur"],[4,"ngIf"],["color","light","placeholder","Select One","required","","formControlName","hauteur"],["value","basse"],["value","moyenne"],["value","haute"],["color","light","type","text","placeholder","description","required","","formControlName","description"],["color","light","placeholder","Select One","required","","formControlName","type"],["value","Fleur"],["value","Fruit"],["value","Legume"],["color","tertiary","expand","block",3,"click"],["name","image","slot","start"],[1,"flex"],[1,"img-box"],[3,"src"],["color","light","type","submit","expand","block"],[1,"error","ion-padding"],[3,"value"],["color","light","placeholder","Select One","required","","formControlName","fleuraison",4,"ngIf"],["color","light","placeholder","Select One","required","","formControlName","fleuraison"],["value","Annuelles"],["value","Bisannuelles"],["value","Vivaces"],["value","Aromatiques"],["value","Ete"],["value","Hiver"]],template:function(e,o){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s._UZ(3,"ion-back-button",1),s.qZA(),s.TgZ(4,"ion-title",1),s._uU(5,"ajouter une plante"),s.qZA(),s.TgZ(6,"ion-buttons",2),s.NdJ("click",function(){return o.ajouter()}),s._UZ(7,"ion-icon",3),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"ion-content"),s.TgZ(9,"ion-list",4),s.TgZ(10,"form",5),s.NdJ("ngSubmit",function(){return o.addAnnonce()}),s.TgZ(11,"ion-item"),s.TgZ(12,"ion-label",1),s._uU(13,"Nom commun :"),s.qZA(),s._UZ(14,"ion-input",6),s.YNc(15,h,2,0,"span",7),s.YNc(16,Z,2,0,"span",7),s.qZA(),s.TgZ(17,"ion-item"),s.TgZ(18,"ion-label",1),s._uU(19,"Vari\xe9t\xe9:"),s.qZA(),s.TgZ(20,"ion-select",8),s.YNc(21,f,2,2,"ion-select-option",9),s.ALo(22,"async"),s.qZA(),s.qZA(),s.TgZ(23,"ion-item"),s.TgZ(24,"ion-label",1),s._uU(25,"Couleur:"),s.qZA(),s._UZ(26,"ion-input",10),s.YNc(27,q,2,0,"span",7),s.YNc(28,T,2,0,"span",7),s.qZA(),s.YNc(29,C,6,3,"ion-item",11),s.YNc(30,x,6,3,"ion-item",11),s.TgZ(31,"ion-item"),s.TgZ(32,"ion-label",1),s._uU(33,"Hauteur:"),s.qZA(),s.TgZ(34,"ion-select",12),s.TgZ(35,"ion-select-option",13),s._uU(36,"basse"),s.qZA(),s.TgZ(37,"ion-select-option",14),s._uU(38,"moyenne"),s.qZA(),s.TgZ(39,"ion-select-option",15),s._uU(40,"haute"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(41,"ion-item"),s.TgZ(42,"ion-label",1),s._uU(43,"Description:"),s.qZA(),s._UZ(44,"ion-input",16),s.YNc(45,I,2,0,"span",7),s.YNc(46,Y,2,0,"span",7),s.qZA(),s.TgZ(47,"ion-item"),s.TgZ(48,"ion-label",1),s._uU(49,"Type de plante"),s.qZA(),s.TgZ(50,"ion-select",17),s.TgZ(51,"ion-select-option",18),s._uU(52,"Fleur"),s.qZA(),s.TgZ(53,"ion-select-option",19),s._uU(54,"Fruit"),s.qZA(),s.TgZ(55,"ion-select-option",20),s._uU(56,"L\xe9gume"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(57,"ion-button",21),s.NdJ("click",function(){return o.addPhoto()}),s._UZ(58,"ion-icon",22),s._uU(59," Ouvrir la biblioth\xe8que "),s.qZA(),s.TgZ(60,"div",23),s.TgZ(61,"div",24),s._UZ(62,"img",25),s.qZA(),s.qZA(),s.TgZ(63,"ion-button",26),s._uU(64,"Valider"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(10),s.Q6J("formGroup",o.annonce),s.xp6(5),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.nom.errors?null:o.errorControl.nom.errors.required)),s.xp6(1),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.nom.errors?null:o.errorControl.nom.errors.minlength)),s.xp6(5),s.Q6J("ngForOf",s.lcZ(22,11,o.items)),s.xp6(6),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.couleur.errors?null:o.errorControl.couleur.errors.required)),s.xp6(1),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.couleur.errors?null:o.errorControl.couleur.errors.minlength)),s.xp6(1),s.Q6J("ngIf","Fleur"===o.epoque),s.xp6(1),s.Q6J("ngIf","Fruit"===o.epoque||"Legumes"===o.epoque),s.xp6(15),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.description.errors?null:o.errorControl.description.errors.required)),s.xp6(1),s.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.description.errors?null:o.errorControl.description.errors.minlength)),s.xp6(16),s.Q6J("src",o.image,s.LSH))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.gu,i.W2,i.q_,r._Y,r.JL,r.sg,i.Ie,i.Q$,i.pK,i.j9,r.JJ,r.u,t.O5,i.t9,i.QI,r.Q7,t.sg,i.n0,i.YG],pipes:[t.Ov],styles:["ion-header[_ngcontent-%COMP%]{--ion-background-color:#f5af19}ion-content[_ngcontent-%COMP%]{--ion-background-color:linear-gradient(#f5af19,#f12711)}ion-item[_ngcontent-%COMP%]{--ion-background-color:#0000!important}.flex[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.img-box[_ngcontent-%COMP%]{overflow:hidden}.img-box[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{height:200px}"]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[l.Bz.forChild(k)],l.Bz]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[t.ez,r.u5,r.UX,i.Pc,N]]}),e})()}}]);
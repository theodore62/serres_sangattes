(self.webpackChunkserres_sangatte=self.webpackChunkserres_sangatte||[]).push([[5224],{5224:function(e,n,t){"use strict";t.r(n),t.d(n,{GestionCommandesPageModule:function(){return z}});var i=t(1116),o=t(1462),r=t(4812),a=t(9272),l=t(4762),s=t(5366),c=t(4519),u=t(5411),m=t(1618),d=t(620),h=t(239),p=t(7617);function g(e,n){if(1&e&&(s.TgZ(0,"ion-select-option",25),s._uU(1),s.qZA()),2&e){var t=n.$implicit;s.s9C("value",t.nom),s.xp6(1),s.hij("",t.nom," ")}}function f(e,n){if(1&e&&(s.TgZ(0,"ion-select-option",25),s._uU(1),s.qZA()),2&e){var t=n.$implicit;s.s9C("value",t.id),s.xp6(1),s.AsE("",t.nom," ",t.prenom," ")}}function C(e,n){1&e&&(s.TgZ(0,"span",26),s._uU(1," champ obligatoire "),s.qZA())}function Z(e,n){1&e&&(s.TgZ(0,"span",26),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function v(e,n){1&e&&(s.TgZ(0,"span",26),s._uU(1," champ obligatoire "),s.qZA())}function x(e,n){1&e&&(s.TgZ(0,"span",26),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function q(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"ion-item"),s._UZ(1,"ion-input",27),s._UZ(2,"ion-input",28),s._UZ(3,"ion-input",29),s._UZ(4,"ion-input",28),s.TgZ(5,"ion-icon",30),s.NdJ("click",function(){var e=s.CHM(t).$implicit;return s.oxw(2).deleteLigne(e.id)}),s.qZA(),s.qZA()}if(2&e){var i=n.$implicit;s.xp6(1),s.s9C("value",i.nom),s.xp6(1),s.s9C("value",i.prix),s.xp6(1),s.s9C("value",i.quantite),s.xp6(1),s.s9C("value",i.unite)}}function b(e,n){1&e&&(s.TgZ(0,"span",26),s._uU(1," champ obligatoire "),s.qZA())}function A(e,n){1&e&&(s.TgZ(0,"span",26),s._uU(1," minimun 2 caract\xe9res "),s.qZA())}function T(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"ion-list",8),s.TgZ(1,"ion-label",9),s._uU(2,"Ajouter une Commande:"),s.qZA(),s.TgZ(3,"ion-item"),s.TgZ(4,"ion-select",10),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().nom=e}),s.YNc(5,g,2,2,"ion-select-option",11),s.ALo(6,"async"),s.qZA(),s.TgZ(7,"ion-input",12),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().prix=e}),s.qZA(),s.TgZ(8,"ion-input",13),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().quantite=e}),s.qZA(),s.TgZ(9,"ion-select",14),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().unite=e}),s.TgZ(10,"ion-select-option",15),s._uU(11,"kg"),s.qZA(),s.TgZ(12,"ion-select-option",16),s._uU(13,"unit\xe9"),s.qZA(),s.qZA(),s.TgZ(14,"ion-item"),s.TgZ(15,"ion-icon",17),s.NdJ("click",function(){return s.CHM(t),s.oxw().addLigne()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(16,"form",18),s.NdJ("ngSubmit",function(){return s.CHM(t),s.oxw().ajouter()}),s.TgZ(17,"ion-item"),s.TgZ(18,"ion-label",1),s._uU(19,"nom du client:"),s.qZA(),s.TgZ(20,"ion-select",19),s.YNc(21,f,2,3,"ion-select-option",11),s.ALo(22,"async"),s.qZA(),s.YNc(23,C,2,0,"span",20),s.YNc(24,Z,2,0,"span",20),s.qZA(),s.TgZ(25,"ion-item"),s.TgZ(26,"ion-label",1),s._uU(27,"Date de la commande:"),s.qZA(),s._UZ(28,"ion-input",21),s.YNc(29,v,2,0,"span",20),s.YNc(30,x,2,0,"span",20),s.qZA(),s.TgZ(31,"ion-item"),s.TgZ(32,"ion-list"),s.YNc(33,q,6,4,"ion-item",22),s.qZA(),s.qZA(),s.TgZ(34,"ion-item"),s.TgZ(35,"ion-label",1),s._uU(36,"info compl\xe9mentaire :"),s.qZA(),s._UZ(37,"ion-textarea",23),s.YNc(38,b,2,0,"span",20),s.YNc(39,A,2,0,"span",20),s.qZA(),s.TgZ(40,"ion-button",24),s._uU(41,"Valider"),s.qZA(),s.qZA(),s.qZA()}if(2&e){var i=s.oxw();s.xp6(4),s.Q6J("ngModel",i.nom),s.xp6(1),s.Q6J("ngForOf",s.lcZ(6,14,i.listPlantes)),s.xp6(2),s.Q6J("ngModel",i.prix),s.xp6(1),s.Q6J("ngModel",i.quantite),s.xp6(1),s.Q6J("ngModel",i.unite),s.xp6(7),s.Q6J("formGroup",i.formulaireCommande),s.xp6(5),s.Q6J("ngForOf",s.lcZ(22,16,i.listClients)),s.xp6(2),s.Q6J("ngIf",i.isSubmitted&&(null==i.errorControl.client.errors?null:i.errorControl.client.errors.required)),s.xp6(1),s.Q6J("ngIf",i.isSubmitted&&(null==i.errorControl.client.errors?null:i.errorControl.client.errors.minlength)),s.xp6(5),s.Q6J("ngIf",i.isSubmitted&&(null==i.errorControl.date.errors?null:i.errorControl.date.errors.required)),s.xp6(1),s.Q6J("ngIf",i.isSubmitted&&(null==i.errorControl.date.errors?null:i.errorControl.date.errors.minlength)),s.xp6(3),s.Q6J("ngForOf",i.tableau),s.xp6(5),s.Q6J("ngIf",i.isSubmitted&&(null==i.errorControl.infoComplementaire.errors?null:i.errorControl.infoComplementaire.errors.required)),s.xp6(1),s.Q6J("ngIf",i.isSubmitted&&(null==i.errorControl.infoComplementaire.errors?null:i.errorControl.infoComplementaire.errors.minlength))}}function w(e,n){if(1&e&&(s.TgZ(0,"ion-label",1),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" N\xb0: ",t.numero,"")}}function y(e,n){if(1&e&&(s.TgZ(0,"ion-label",1),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" Client: ",t.nom,"")}}function J(e,n){if(1&e&&(s.TgZ(0,"ion-label",41),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" N\xb0: ",t.numero," ")}}function M(e,n){if(1&e&&(s.TgZ(0,"ion-label",41),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" Client: ",t.nom," ")}}function _(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"ion-item-sliding"),s.TgZ(1,"ion-item"),s.YNc(2,w,2,1,"ion-label",34),s.YNc(3,y,2,1,"ion-label",34),s.YNc(4,J,2,1,"ion-label",35),s.YNc(5,M,2,1,"ion-label",35),s.TgZ(6,"ion-toggle",36),s.NdJ("ionChange",function(){s.CHM(t);var e=s.oxw().$implicit;return s.oxw(2).changeCheckState(e.id,e.archive)})("ngModelChange",function(e){return s.CHM(t),s.oxw().$implicit.archive=e}),s._uU(7,"Archiver"),s.qZA(),s.qZA(),s.TgZ(8,"ion-item-options",37),s.TgZ(9,"ion-item-option",38),s.NdJ("click",function(){s.CHM(t);var e=s.oxw().$implicit;return s.oxw(2).delete(e.id)}),s._UZ(10,"ion-icon",39),s.qZA(),s.TgZ(11,"ion-item-option",38),s.NdJ("click",function(){s.CHM(t);var e=s.oxw().$implicit;return s.oxw(2).update(e.id,e.client)}),s._UZ(12,"img",40),s.qZA(),s.qZA(),s.qZA()}if(2&e){var i=s.oxw().$implicit;s.xp6(2),s.Q6J("ngIf",!i.archive),s.xp6(1),s.Q6J("ngIf",!i.archive),s.xp6(1),s.Q6J("ngIf",i.archive),s.xp6(1),s.Q6J("ngIf",i.archive),s.xp6(1),s.Q6J("ngModel",i.archive)}}function N(e,n){if(1&e&&(s.TgZ(0,"ion-list"),s.YNc(1,_,13,5,"ion-item-sliding",33),s.qZA()),2&e){var t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.date===i.dateDuJour)}}function U(e,n){if(1&e&&(s.TgZ(0,"ion-label",1),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" N\xb0: ",t.numero,"")}}function I(e,n){if(1&e&&(s.TgZ(0,"ion-label",1),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" Client: ",t.nom,"")}}function Y(e,n){if(1&e&&(s.TgZ(0,"ion-label",41),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" N\xb0: ",t.numero," ")}}function Q(e,n){if(1&e&&(s.TgZ(0,"ion-label",41),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" Client: ",t.nom," ")}}function k(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"ion-item-sliding"),s.TgZ(1,"ion-item"),s.YNc(2,U,2,1,"ion-label",34),s.YNc(3,I,2,1,"ion-label",34),s.YNc(4,Y,2,1,"ion-label",35),s.YNc(5,Q,2,1,"ion-label",35),s.TgZ(6,"ion-toggle",36),s.NdJ("ionChange",function(){s.CHM(t);var e=s.oxw().$implicit;return s.oxw(2).changeCheckState(e.id,e.archive)})("ngModelChange",function(e){return s.CHM(t),s.oxw().$implicit.archive=e}),s._uU(7,"Archiver"),s.qZA(),s.qZA(),s.TgZ(8,"ion-item-options",37),s.TgZ(9,"ion-item-option",38),s.NdJ("click",function(){s.CHM(t);var e=s.oxw().$implicit;return s.oxw(2).delete(e.id)}),s._UZ(10,"ion-icon",39),s.qZA(),s.TgZ(11,"ion-item-option",38),s.NdJ("click",function(){s.CHM(t);var e=s.oxw().$implicit;return s.oxw(2).update(e.id,e.client)}),s._UZ(12,"img",40),s.qZA(),s.qZA(),s.qZA()}if(2&e){var i=s.oxw().$implicit;s.xp6(2),s.Q6J("ngIf",!i.archive),s.xp6(1),s.Q6J("ngIf",!i.archive),s.xp6(1),s.Q6J("ngIf",i.archive),s.xp6(1),s.Q6J("ngIf",i.archive),s.xp6(1),s.Q6J("ngModel",i.archive)}}function L(e,n){if(1&e&&(s.TgZ(0,"ion-list"),s.YNc(1,k,13,5,"ion-item-sliding",33),s.qZA()),2&e){var t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.date===i.dateDeDemain)}}function S(e,n){if(1&e&&(s.TgZ(0,"ion-label",1),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" N\xb0: ",t.numero,"")}}function P(e,n){if(1&e&&(s.TgZ(0,"ion-label",1),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" Client: ",t.nom,"")}}function $(e,n){if(1&e&&(s.TgZ(0,"ion-label",41),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" N\xb0: ",t.numero," ")}}function O(e,n){if(1&e&&(s.TgZ(0,"ion-label",41),s._uU(1),s.qZA()),2&e){var t=s.oxw(2).$implicit;s.xp6(1),s.hij(" Client: ",t.nom," ")}}function j(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"ion-item-sliding"),s.TgZ(1,"ion-item"),s.YNc(2,S,2,1,"ion-label",34),s.YNc(3,P,2,1,"ion-label",34),s.YNc(4,$,2,1,"ion-label",35),s.YNc(5,O,2,1,"ion-label",35),s.TgZ(6,"ion-toggle",36),s.NdJ("ionChange",function(){s.CHM(t);var e=s.oxw().$implicit;return s.oxw(2).changeCheckState(e.id,e.archive)})("ngModelChange",function(e){return s.CHM(t),s.oxw().$implicit.archive=e}),s._uU(7,"Archiver"),s.qZA(),s.qZA(),s.TgZ(8,"ion-item-options",37),s.TgZ(9,"ion-item-option",38),s.NdJ("click",function(){s.CHM(t);var e=s.oxw().$implicit;return s.oxw(2).delete(e.id)}),s._UZ(10,"ion-icon",39),s.qZA(),s.TgZ(11,"ion-item-option",38),s.NdJ("click",function(){s.CHM(t);var e=s.oxw().$implicit;return s.oxw(2).update(e.id,e.client)}),s._UZ(12,"img",40),s.qZA(),s.qZA(),s.qZA()}if(2&e){var i=s.oxw().$implicit;s.xp6(2),s.Q6J("ngIf",!i.archive),s.xp6(1),s.Q6J("ngIf",!i.archive),s.xp6(1),s.Q6J("ngIf",i.archive),s.xp6(1),s.Q6J("ngIf",i.archive),s.xp6(1),s.Q6J("ngModel",i.archive)}}function D(e,n){if(1&e&&(s.TgZ(0,"ion-list"),s.YNc(1,j,13,5,"ion-item-sliding",33),s.qZA()),2&e){var t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.date>i.dateDeDemain&&t.date>i.dateDuJour)}}function F(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"ion-list",8),s.TgZ(1,"ion-item"),s.TgZ(2,"ion-searchbar",31),s.NdJ("ionChange",function(e){return s.CHM(t),s.oxw().filterList(e)}),s.qZA(),s.qZA(),s.TgZ(3,"ion-refresher",32),s.NdJ("ionRefresh",function(e){return s.CHM(t),s.oxw().doRefresh(e)}),s._UZ(4,"ion-refresher-content"),s.qZA(),s.TgZ(5,"ion-item"),s.TgZ(6,"ion-label",9),s._uU(7,"Liste des commandes:"),s.qZA(),s.qZA(),s.TgZ(8,"ion-item"),s.TgZ(9,"ion-label",9),s._uU(10,"Aujourd'hui:"),s.qZA(),s.qZA(),s.YNc(11,N,2,1,"ion-list",22),s.TgZ(12,"ion-item"),s.TgZ(13,"ion-label",9),s._uU(14,"Demain:"),s.qZA(),s.qZA(),s.YNc(15,L,2,1,"ion-list",22),s.TgZ(16,"ion-item"),s.TgZ(17,"ion-label",9),s._uU(18,"Liste des commandes \xe0 venir:"),s.qZA(),s.qZA(),s.YNc(19,D,2,1,"ion-list",22),s.qZA()}if(2&e){var i=s.oxw();s.xp6(11),s.Q6J("ngForOf",i.listCommandes),s.xp6(4),s.Q6J("ngForOf",i.listCommandes),s.xp6(4),s.Q6J("ngForOf",i.listCommandes)}}var G=[{path:"",component:function(){function e(e,n,t,i,o,r,a,l,s,c,u,m){this.dataService=e,this.router=n,this.route=t,this.formBuilder=i,this.toastCtrl=o,this.commandeService=r,this.clientService=a,this.plantesService=l,this.firestore=s,this.modalController=c,this.datePipe=u,this.alertController=m,this.isSubmitted=!1,this.checkCommandeListe=[],this.tableauCommandes=[],this.tableau=[],this.ListePlantesCommande={nom:"",prix:"",quantite:"",unite:""},this.commande={numero:"",id:"",liste:this.ListePlantesCommande,date:"",nom:"",client:"",infoComplementaire:"",archive:!1},this.i=-30}return Object.defineProperty(e.prototype,"errorControl",{get:function(){return this.formulaireCommande.controls},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){return(0,l.mG)(this,void 0,void 0,function(){var e,n,t;return(0,l.Jh)(this,function(r){switch(r.label){case 0:return e=new Date,n=this.addDaysToDate(e,1),this.dateDeDemain=(0,i.p6)(n,"yyyy-MM-dd","en-US"),this.dateDuJour=(0,i.p6)(new Date,"yyyy-MM-dd","en-US"),this.listeCommande(),void 0===this.affichage&&(this.affichage="liste"),t=this,[4,this.initializeItems()];case 1:return t.listCommandes=r.sent(),this.listClients=this.clientService.getListClients(),this.listPlantes=this.plantesService.getListPlantes(),this.formulaireCommande=this.formBuilder.group({client:["",[o.kI.required]],date:["",[o.kI.required]],infoComplementaire:["",[o.kI.required]]}),[2]}})})},e.prototype.listeCommande=function(){return(0,l.mG)(this,void 0,void 0,function(){var e;return(0,l.Jh)(this,function(n){switch(n.label){case 0:return e=this,[4,this.initializeItems()];case 1:return e.listeTableauCommande=n.sent(),[2]}})})},e.prototype.addDaysToDate=function(e,n){var t=new Date(e);return t.setDate(t.getDate()+n),t},e.prototype.getTasks=function(){var e=this;this.commandeService.getCommandesList().then(function(n){e.checkCommandeListe=[],n.forEach(function(n){e.checkCommandeListe.push({numero:n.numero,id:n.id,liste:n.liste,client:n.client,date:n.date,infoComplementaire:n.infoComplementaire,archive:n.archive})})})},e.prototype.segmentChanged=function(e){this.affichage=e.detail.value},e.prototype.addLigne=function(){this.ListePlantesCommande.nom=this.nom,this.ListePlantesCommande.prix=this.prix,this.ListePlantesCommande.quantite=this.quantite,this.ListePlantesCommande.unite=this.unite,this.tableau.push({id:this.i,nom:this.nom,prix:this.prix+"\u20ac",quantite:this.quantite,unite:this.unite}),this.i++,this.nom="",this.prix="",this.quantite="",this.unite=""},e.prototype.deleteLigne=function(e){var n=this;this.tableau.filter(function(t,i,o){t.id===e&&n.tableau.splice(i,1)})},e.prototype.ajouter=function(){var e=this;this.formulaireCommande.valid?(this.numeroCommande=this.strRandom({includeUpperCase:!0,includeNumbers:!0,length:10,startsWithLowerCase:!0}),console.log(),0!==this.listCommandes.length?this.listCommandes.forEach(function(n,t,i){console.log(e.numeroCommande),n.numero!==e.numeroCommande||(e.numeroCommande="",e.numeroCommande=e.strRandom({includeUpperCase:!0,includeNumbers:!0,length:10,startsWithLowerCase:!0})),e.insert()}):this.insert()):(this.message="Veuillez compl\xe9ter le formulaire",this.toastCtrl.showToast(this.message))},e.prototype.filterList=function(e){return(0,l.mG)(this,void 0,void 0,function(){var n,t;return(0,l.Jh)(this,function(i){switch(i.label){case 0:return n=this,[4,this.initializeItems()];case 1:return n.listCommandes=i.sent(),(t=e.srcElement.value)?(this.listCommandes=this.listCommandes.filter(function(e){if(e.numero&&t)return e.numero.toLowerCase().indexOf(t.toLowerCase())>-1||e.nom.toLowerCase().indexOf(t.toLowerCase())>-1}),[2]):[2]}})})},e.prototype.doRefresh=function(e){return(0,l.mG)(this,void 0,void 0,function(){var n,t=this;return(0,l.Jh)(this,function(i){switch(i.label){case 0:return[4,this.initializeItems()];case 1:return n=i.sent(),setTimeout(function(){t.listCommandes=n,e.target.complete()},2e3),[2]}})})},e.prototype.initializeItems=function(){return(0,l.mG)(this,void 0,void 0,function(){var e;return(0,l.Jh)(this,function(n){switch(n.label){case 0:return this.tableauCommandes=[],e=this,[4,this.commandeService.getCommandesList()];case 1:return e.tableauCommandes=n.sent(),[2,this.tableauCommandes]}})})},e.prototype.delete=function(e){return(0,l.mG)(this,void 0,void 0,function(){var n;return(0,l.Jh)(this,function(t){switch(t.label){case 0:return this.commandeService.deleteCommande(e),this.tableauCommandes=[],n=this,[4,this.initializeItems()];case 1:return n.listCommandes=t.sent(),[2]}})})},e.prototype.update=function(e,n){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(t){return this.dataService.setData("id",{idCommande:e,idClient:n}),this.router.navigateByUrl("details-commande"),[2]})})},e.prototype.changeCheckState=function(e,n){var t=this;this.commandeService.getDetailCommande(e).then(function(e){e.archive=n,t.firestore.doc("Commandes/"+e.id).set(e)})},e.prototype.presentAlertConfirm=function(){return(0,l.mG)(this,void 0,void 0,function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({cssClass:"my-custom-class",header:"Confirm!",message:"Message <strong>text</strong>!!!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Okay",handler:function(){console.log("Confirm Okay")}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},e.prototype.strRandom=function(e){var n=10,t="abcdefghijklmnopqrstuvwxyz",i="",o=0,r=""+t;for(e&&(e.startsWithLowerCase&&(i=t[Math.floor(Math.random()*t.length)],o=1),e.length&&(n=e.length),e.includeUpperCase&&(r+=t.toUpperCase()),e.includeNumbers&&(r+="1234567890"));o<n;o++)i+=r[Math.floor(Math.random()*r.length)];return i},e.prototype.insert=function(){var e=this;this.commande.client=this.formulaireCommande.value.client,this.clientService.getClient(this.commande.client).then(function(n){e.commande.nom=n.nom}),this.commande.liste=this.tableau,this.commande.date=(0,i.p6)(this.formulaireCommande.value.date,"yyyy-MM-dd","en-US"),this.commande.infoComplementaire=this.formulaireCommande.value.infoComplementaire,this.commandeService.postCommande(this.commande).then(function(n){null==n.id?(e.message="les donn\xe9es nont pas pu \xeatre enregistr\xe9es",e.toastCtrl.showToast(e.message)):(e.firestore.doc("Commandes/"+n.id).set({numero:e.numeroCommande,id:n.id,liste:e.tableau,client:e.formulaireCommande.value.client,nom:e.commande.nom,date:(0,i.p6)(e.formulaireCommande.value.date,"yyyy-MM-dd","en-US"),infoComplementaire:e.formulaireCommande.value.infoComplementaire,archive:!1}),e.message="les donn\xe9es ont pu \xeatre enregistr\xe9es",e.toastCtrl.showToast(e.message))})},e.\u0275fac=function(n){return new(n||e)(s.Y36(c.D),s.Y36(a.F0),s.Y36(a.gz),s.Y36(o.qu),s.Y36(u.a),s.Y36(m.I),s.Y36(d.y),s.Y36(h.B),s.Y36(p.ST),s.Y36(r.IN),s.Y36(i.uU),s.Y36(r.Br))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-gestion-commandes"]],decls:17,vars:2,consts:[["slot","start"],["color","light"],["value","liste",3,"ionChange"],["value","ajouter"],["name","add-circle-outline","size","small"],["value","liste"],["name","list-outline","size","small"],["class","titreAjouter",4,"ngIf"],[1,"titreAjouter"],["color","light",1,"titreAjouter"],["placeholder","plante",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["color","light","type","number","placeholder","prix",3,"ngModel","ngModelChange"],["color","light","type","number","placeholder","quantit\xe9",3,"ngModel","ngModelChange"],["placeholder","unit\xe9",3,"ngModel","ngModelChange"],["value","kg"],["value","unit\xe9"],["name","chevron-down-circle-outline",3,"click"],[3,"formGroup","ngSubmit"],["placeholder","Selectionner Nom du client","required","","formControlName","client"],["class","error ion-padding",4,"ngIf"],["color","light","type","date","placeholder","date","required","","formControlName","date"],[4,"ngFor","ngForOf"],["color","light","rows","6","cols","20","placeholder","info compl\xe9mentaire","required","","formControlName","infoComplementaire"],["type","submit","expand","block"],[3,"value"],[1,"error","ion-padding"],["color","light","type","text","placeholder","nom","id","nom",3,"value"],["color","light","type","text","placeholder","prix","id","prix",3,"value"],["color","light","type","number","placeholder","quantit\xe9",3,"value"],["name","close-circle-outline",3,"click"],["placeholder","recherche",3,"ionChange"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],["color","light",4,"ngIf"],["color","light","style","text-decoration:line-through;",4,"ngIf"],["color","danger","slot","start",3,"ngModel","ionChange","ngModelChange"],["side","end"],["color","red",3,"click"],["name","trash-outline","size","small","color","light"],["src","https://img.icons8.com/carbon-copy/25/000000/approve-and-update.png"],["color","light",2,"text-decoration","line-through"]],template:function(e,n){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s._UZ(3,"ion-menu-button",1),s.qZA(),s.TgZ(4,"ion-title"),s._uU(5,"Gestion de Commandes"),s.qZA(),s.qZA(),s.TgZ(6,"ion-toolbar"),s.TgZ(7,"ion-segment",2),s.NdJ("ionChange",function(e){return n.segmentChanged(e)}),s.TgZ(8,"ion-segment-button",3),s.TgZ(9,"ion-label"),s._UZ(10,"ion-icon",4),s.qZA(),s.qZA(),s.TgZ(11,"ion-segment-button",5),s.TgZ(12,"ion-label"),s._UZ(13,"ion-icon",6),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"ion-content"),s.YNc(15,T,42,18,"ion-list",7),s.YNc(16,F,20,3,"ion-list",7),s.qZA()),2&e&&(s.xp6(15),s.Q6J("ngIf","ajouter"===n.affichage),s.xp6(1),s.Q6J("ngIf","liste"===n.affichage))},directives:[r.Gu,r.sr,r.Sm,r.fG,r.wd,r.cJ,r.QI,r.GO,r.Q$,r.gu,r.W2,i.O5,r.q_,r.Ie,r.t9,o.JJ,o.On,i.sg,r.pK,r.as,r.n0,o._Y,o.JL,o.sg,o.Q7,o.u,r.j9,r.g2,r.YG,r.VI,r.nJ,r.Wo,r.td,r.ho,r.w,r.IK,r.u8],pipes:[i.Ov],styles:["ion-header[_ngcontent-%COMP%]{--ion-background-color:#3366a0}ion-content[_ngcontent-%COMP%]{color:#fff;--ion-background-color:linear-gradient(#3366a0,#9eb7d2)}ion-back-button[_ngcontent-%COMP%], ion-icon[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%], ion-searchbar[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{color:#fff}ion-button[_ngcontent-%COMP%]{--background:#6c91bb}ion-item[_ngcontent-%COMP%], ion-item-option[_ngcontent-%COMP%], ion-item-options[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]{--ion-background-color:#0000!important}.titreAjouter[_ngcontent-%COMP%]{text-align:center;size:40%}"]}),e}()}],H=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild(G)],a.Bz]}),e}(),z=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,o.u5,o.UX,r.Pc,H]]}),e}()},620:function(e,n,t){"use strict";t.d(n,{y:function(){return l}});var i=t(3530),o=t(5366),r=t(7617),a=t(80),l=function(){function e(e,n){this.firestore=e,this.afSG=n,this.ref="Client",this.client=this.firestore.collection("Client")}return e.prototype.getListClients=function(){return this.client.valueChanges()},e.prototype.getClientsList=function(){return this.client.valueChanges().pipe((0,i.P)()).toPromise()},e.prototype.postClient=function(e){return this.client.add(e)},e.prototype.getClient=function(e){return this.client.doc("/"+e).valueChanges().pipe((0,i.P)()).toPromise()},e.prototype.updateClient=function(e,n){this.client.doc("/"+e).update(n)},e.prototype.deleteClient=function(e){return this.client.doc("/"+e).delete()},e.\u0275fac=function(n){return new(n||e)(o.LFG(r.ST),o.LFG(a.Q1))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},1618:function(e,n,t){"use strict";t.d(n,{I:function(){return l}});var i=t(3530),o=t(5366),r=t(7617),a=t(80),l=function(){function e(e,n){this.firestore=e,this.afSG=n,this.ref="Commandes",this.commande=this.firestore.collection("Commandes")}return e.prototype.getListCommandes=function(){return this.commande.valueChanges()},e.prototype.getCommandesList=function(){return this.commande.valueChanges().pipe((0,i.P)()).toPromise()},e.prototype.postCommande=function(e){return this.commande.add(e)},e.prototype.getDetailCommande=function(e){return this.commande.doc("/"+e).valueChanges().pipe((0,i.P)()).toPromise()},e.prototype.updateCommande=function(e,n){this.commande.doc("/"+e).update(n)},e.prototype.deleteCommande=function(e){return this.commande.doc("/"+e).delete()},e.prototype.updateArchive=function(e,n){this.commande.doc("/"+e).set(n)},e.\u0275fac=function(n){return new(n||e)(o.LFG(r.ST),o.LFG(a.Q1))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},5411:function(e,n,t){"use strict";t.d(n,{a:function(){return r}});var i=t(5366),o=t(4812),r=function(){function e(e){this.toast=e}return e.prototype.showToast=function(e){this.myToast=this.toast.create({message:e,duration:2e3,position:"top",cssClass:"message"}).then(function(e){console.log(e),e.present()})},e.\u0275fac=function(n){return new(n||e)(i.LFG(o.yF))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);